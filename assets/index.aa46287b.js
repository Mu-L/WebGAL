var H6=Object.defineProperty,W6=Object.defineProperties;var j6=Object.getOwnPropertyDescriptors;var KR=Object.getOwnPropertySymbols;var z6=Object.prototype.hasOwnProperty,X6=Object.prototype.propertyIsEnumerable;var FS=(e,t,n)=>t in e?H6(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Xl=(e,t)=>{for(var n in t||(t={}))z6.call(t,n)&&FS(e,n,t[n]);if(KR)for(var n of KR(t))X6.call(t,n)&&FS(e,n,t[n]);return e},Vl=(e,t)=>W6(e,j6(t));var zr=(e,t,n)=>(FS(e,typeof t!="symbol"?t+"":t,n),n);const V6=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerpolicy&&(a.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?a.credentials="include":i.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}};V6();var Kr=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function _g(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var De={exports:{}},Nt={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var ZR=Object.getOwnPropertySymbols,q6=Object.prototype.hasOwnProperty,Y6=Object.prototype.propertyIsEnumerable;function K6(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function Z6(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(a){return t[a]});if(r.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(a){i[a]=a}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var OA=Z6()?Object.assign:function(e,t){for(var n,r=K6(e),i,a=1;a<arguments.length;a++){n=Object(arguments[a]);for(var u in n)q6.call(n,u)&&(r[u]=n[u]);if(ZR){i=ZR(n);for(var l=0;l<i.length;l++)Y6.call(n,i[l])&&(r[i[l]]=n[i[l]])}}return r};/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NA=OA,ch=60103,xF=60106;Nt.Fragment=60107;Nt.StrictMode=60108;Nt.Profiler=60114;var bF=60109,wF=60110,TF=60112;Nt.Suspense=60113;var EF=60115,SF=60116;if(typeof Symbol=="function"&&Symbol.for){var $o=Symbol.for;ch=$o("react.element"),xF=$o("react.portal"),Nt.Fragment=$o("react.fragment"),Nt.StrictMode=$o("react.strict_mode"),Nt.Profiler=$o("react.profiler"),bF=$o("react.provider"),wF=$o("react.context"),TF=$o("react.forward_ref"),Nt.Suspense=$o("react.suspense"),EF=$o("react.memo"),SF=$o("react.lazy")}var JR=typeof Symbol=="function"&&Symbol.iterator;function J6(e){return e===null||typeof e!="object"?null:(e=JR&&e[JR]||e["@@iterator"],typeof e=="function"?e:null)}function K_(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var CF={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},IF={};function hh(e,t,n){this.props=e,this.context=t,this.refs=IF,this.updater=n||CF}hh.prototype.isReactComponent={};hh.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error(K_(85));this.updater.enqueueSetState(this,e,t,"setState")};hh.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function AF(){}AF.prototype=hh.prototype;function LA(e,t,n){this.props=e,this.context=t,this.refs=IF,this.updater=n||CF}var kA=LA.prototype=new AF;kA.constructor=LA;NA(kA,hh.prototype);kA.isPureReactComponent=!0;var FA={current:null},PF=Object.prototype.hasOwnProperty,RF={key:!0,ref:!0,__self:!0,__source:!0};function OF(e,t,n){var r,i={},a=null,u=null;if(t!=null)for(r in t.ref!==void 0&&(u=t.ref),t.key!==void 0&&(a=""+t.key),t)PF.call(t,r)&&!RF.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var f=Array(l),h=0;h<l;h++)f[h]=arguments[h+2];i.children=f}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:ch,type:e,key:a,ref:u,props:i,_owner:FA.current}}function Q6(e,t){return{$$typeof:ch,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function BA(e){return typeof e=="object"&&e!==null&&e.$$typeof===ch}function e5(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var QR=/\/+/g;function BS(e,t){return typeof e=="object"&&e!==null&&e.key!=null?e5(""+e.key):t.toString(36)}function am(e,t,n,r,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var u=!1;if(e===null)u=!0;else switch(a){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case ch:case xF:u=!0}}if(u)return u=e,i=i(u),e=r===""?"."+BS(u,0):r,Array.isArray(i)?(n="",e!=null&&(n=e.replace(QR,"$&/")+"/"),am(i,t,n,"",function(h){return h})):i!=null&&(BA(i)&&(i=Q6(i,n+(!i.key||u&&u.key===i.key?"":(""+i.key).replace(QR,"$&/")+"/")+e)),t.push(i)),1;if(u=0,r=r===""?".":r+":",Array.isArray(e))for(var l=0;l<e.length;l++){a=e[l];var f=r+BS(a,l);u+=am(a,t,n,f,i)}else if(f=J6(e),typeof f=="function")for(e=f.call(e),l=0;!(a=e.next()).done;)a=a.value,f=r+BS(a,l++),u+=am(a,t,n,f,i);else if(a==="object")throw t=""+e,Error(K_(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function gg(e,t,n){if(e==null)return e;var r=[],i=0;return am(e,r,"","",function(a){return t.call(n,a,i++)}),r}function t5(e){if(e._status===-1){var t=e._result;t=t(),e._status=0,e._result=t,t.then(function(n){e._status===0&&(n=n.default,e._status=1,e._result=n)},function(n){e._status===0&&(e._status=2,e._result=n)})}if(e._status===1)return e._result;throw e._result}var NF={current:null};function $s(){var e=NF.current;if(e===null)throw Error(K_(321));return e}var n5={ReactCurrentDispatcher:NF,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:FA,IsSomeRendererActing:{current:!1},assign:NA};Nt.Children={map:gg,forEach:function(e,t,n){gg(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return gg(e,function(){t++}),t},toArray:function(e){return gg(e,function(t){return t})||[]},only:function(e){if(!BA(e))throw Error(K_(143));return e}};Nt.Component=hh;Nt.PureComponent=LA;Nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=n5;Nt.cloneElement=function(e,t,n){if(e==null)throw Error(K_(267,e));var r=NA({},e.props),i=e.key,a=e.ref,u=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,u=FA.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(f in t)PF.call(t,f)&&!RF.hasOwnProperty(f)&&(r[f]=t[f]===void 0&&l!==void 0?l[f]:t[f])}var f=arguments.length-2;if(f===1)r.children=n;else if(1<f){l=Array(f);for(var h=0;h<f;h++)l[h]=arguments[h+2];r.children=l}return{$$typeof:ch,type:e.type,key:i,ref:a,props:r,_owner:u}};Nt.createContext=function(e,t){return t===void 0&&(t=null),e={$$typeof:wF,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider={$$typeof:bF,_context:e},e.Consumer=e};Nt.createElement=OF;Nt.createFactory=function(e){var t=OF.bind(null,e);return t.type=e,t};Nt.createRef=function(){return{current:null}};Nt.forwardRef=function(e){return{$$typeof:TF,render:e}};Nt.isValidElement=BA;Nt.lazy=function(e){return{$$typeof:SF,_payload:{_status:-1,_result:e},_init:t5}};Nt.memo=function(e,t){return{$$typeof:EF,type:e,compare:t===void 0?null:t}};Nt.useCallback=function(e,t){return $s().useCallback(e,t)};Nt.useContext=function(e,t){return $s().useContext(e,t)};Nt.useDebugValue=function(){};Nt.useEffect=function(e,t){return $s().useEffect(e,t)};Nt.useImperativeHandle=function(e,t,n){return $s().useImperativeHandle(e,t,n)};Nt.useLayoutEffect=function(e,t){return $s().useLayoutEffect(e,t)};Nt.useMemo=function(e,t){return $s().useMemo(e,t)};Nt.useReducer=function(e,t,n){return $s().useReducer(e,t,n)};Nt.useRef=function(e){return $s().useRef(e)};Nt.useState=function(e){return $s().useState(e)};Nt.version="17.0.2";De.exports=Nt;var Ie=De.exports,UA={exports:{}},yo={},LF={exports:{}},kF={};/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){var t,n,r,i;if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var u=Date,l=u.now();e.unstable_now=function(){return u.now()-l}}if(typeof window=="undefined"||typeof MessageChannel!="function"){var f=null,h=null,d=function(){if(f!==null)try{var Y=e.unstable_now();f(!0,Y),f=null}catch(ue){throw setTimeout(d,0),ue}};t=function(Y){f!==null?setTimeout(t,0,Y):(f=Y,setTimeout(d,0))},n=function(Y,ue){h=setTimeout(Y,ue)},r=function(){clearTimeout(h)},e.unstable_shouldYield=function(){return!1},i=e.unstable_forceFrameRate=function(){}}else{var v=window.setTimeout,_=window.clearTimeout;if(typeof console!="undefined"){var g=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof g!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var x=!1,b=null,y=-1,E=5,S=0;e.unstable_shouldYield=function(){return e.unstable_now()>=S},i=function(){},e.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<Y?Math.floor(1e3/Y):5};var A=new MessageChannel,L=A.port2;A.port1.onmessage=function(){if(b!==null){var Y=e.unstable_now();S=Y+E;try{b(!0,Y)?L.postMessage(null):(x=!1,b=null)}catch(ue){throw L.postMessage(null),ue}}else x=!1},t=function(Y){b=Y,x||(x=!0,L.postMessage(null))},n=function(Y,ue){y=v(function(){Y(e.unstable_now())},ue)},r=function(){_(y),y=-1}}function P(Y,ue){var Se=Y.length;Y.push(ue);e:for(;;){var ke=Se-1>>>1,Be=Y[ke];if(Be!==void 0&&0<$(Be,ue))Y[ke]=ue,Y[Se]=Be,Se=ke;else break e}}function R(Y){return Y=Y[0],Y===void 0?null:Y}function D(Y){var ue=Y[0];if(ue!==void 0){var Se=Y.pop();if(Se!==ue){Y[0]=Se;e:for(var ke=0,Be=Y.length;ke<Be;){var Qe=2*(ke+1)-1,It=Y[Qe],mt=Qe+1,ot=Y[mt];if(It!==void 0&&0>$(It,Se))ot!==void 0&&0>$(ot,It)?(Y[ke]=ot,Y[mt]=Se,ke=mt):(Y[ke]=It,Y[Qe]=Se,ke=Qe);else if(ot!==void 0&&0>$(ot,Se))Y[ke]=ot,Y[mt]=Se,ke=mt;else break e}}return ue}return null}function $(Y,ue){var Se=Y.sortIndex-ue.sortIndex;return Se!==0?Se:Y.id-ue.id}var U=[],K=[],ie=1,re=null,ve=3,Ge=!1,ae=!1,ce=!1;function me(Y){for(var ue=R(K);ue!==null;){if(ue.callback===null)D(K);else if(ue.startTime<=Y)D(K),ue.sortIndex=ue.expirationTime,P(U,ue);else break;ue=R(K)}}function Oe(Y){if(ce=!1,me(Y),!ae)if(R(U)!==null)ae=!0,t(pt);else{var ue=R(K);ue!==null&&n(Oe,ue.startTime-Y)}}function pt(Y,ue){ae=!1,ce&&(ce=!1,r()),Ge=!0;var Se=ve;try{for(me(ue),re=R(U);re!==null&&(!(re.expirationTime>ue)||Y&&!e.unstable_shouldYield());){var ke=re.callback;if(typeof ke=="function"){re.callback=null,ve=re.priorityLevel;var Be=ke(re.expirationTime<=ue);ue=e.unstable_now(),typeof Be=="function"?re.callback=Be:re===R(U)&&D(U),me(ue)}else D(U);re=R(U)}if(re!==null)var Qe=!0;else{var It=R(K);It!==null&&n(Oe,It.startTime-ue),Qe=!1}return Qe}finally{re=null,ve=Se,Ge=!1}}var te=i;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Y){Y.callback=null},e.unstable_continueExecution=function(){ae||Ge||(ae=!0,t(pt))},e.unstable_getCurrentPriorityLevel=function(){return ve},e.unstable_getFirstCallbackNode=function(){return R(U)},e.unstable_next=function(Y){switch(ve){case 1:case 2:case 3:var ue=3;break;default:ue=ve}var Se=ve;ve=ue;try{return Y()}finally{ve=Se}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=te,e.unstable_runWithPriority=function(Y,ue){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var Se=ve;ve=Y;try{return ue()}finally{ve=Se}},e.unstable_scheduleCallback=function(Y,ue,Se){var ke=e.unstable_now();switch(typeof Se=="object"&&Se!==null?(Se=Se.delay,Se=typeof Se=="number"&&0<Se?ke+Se:ke):Se=ke,Y){case 1:var Be=-1;break;case 2:Be=250;break;case 5:Be=1073741823;break;case 4:Be=1e4;break;default:Be=5e3}return Be=Se+Be,Y={id:ie++,callback:ue,priorityLevel:Y,startTime:Se,expirationTime:Be,sortIndex:-1},Se>ke?(Y.sortIndex=Se,P(K,Y),R(U)===null&&Y===R(K)&&(ce?r():ce=!0,n(Oe,Se-ke))):(Y.sortIndex=Be,P(U,Y),ae||Ge||(ae=!0,t(pt))),Y},e.unstable_wrapCallback=function(Y){var ue=ve;return function(){var Se=ve;ve=ue;try{return Y.apply(this,arguments)}finally{ve=Se}}}})(kF);LF.exports=kF;/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N0=De.exports,En=OA,yr=LF.exports;function xe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!N0)throw Error(xe(227));var FF=new Set,c_={};function Ff(e,t){Vc(e,t),Vc(e+"Capture",t)}function Vc(e,t){for(c_[e]=t,e=0;e<t.length;e++)FF.add(t[e])}var Ns=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),r5=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,eO=Object.prototype.hasOwnProperty,tO={},nO={};function i5(e){return eO.call(nO,e)?!0:eO.call(tO,e)?!1:r5.test(e)?nO[e]=!0:(tO[e]=!0,!1)}function o5(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function a5(e,t,n,r){if(t===null||typeof t=="undefined"||o5(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function vi(e,t,n,r,i,a,u){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=u}var Hr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Hr[e]=new vi(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Hr[t]=new vi(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Hr[e]=new vi(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Hr[e]=new vi(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Hr[e]=new vi(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Hr[e]=new vi(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Hr[e]=new vi(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Hr[e]=new vi(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Hr[e]=new vi(e,5,!1,e.toLowerCase(),null,!1,!1)});var DA=/[\-:]([a-z])/g;function MA(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(DA,MA);Hr[t]=new vi(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(DA,MA);Hr[t]=new vi(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(DA,MA);Hr[t]=new vi(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Hr[e]=new vi(e,1,!1,e.toLowerCase(),null,!1,!1)});Hr.xlinkHref=new vi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Hr[e]=new vi(e,1,!1,e.toLowerCase(),null,!0,!0)});function GA(e,t,n,r){var i=Hr.hasOwnProperty(t)?Hr[t]:null,a=i!==null?i.type===0:r?!1:!(!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N");a||(a5(t,n,i,r)&&(n=null),r||i===null?i5(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Bf=N0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Uv=60103,ff=60106,zs=60107,$A=60108,zv=60114,HA=60109,WA=60110,L0=60112,Xv=60113,Nm=60120,k0=60115,jA=60116,zA=60121,XA=60128,BF=60129,VA=60130,d2=60131;if(typeof Symbol=="function"&&Symbol.for){var _r=Symbol.for;Uv=_r("react.element"),ff=_r("react.portal"),zs=_r("react.fragment"),$A=_r("react.strict_mode"),zv=_r("react.profiler"),HA=_r("react.provider"),WA=_r("react.context"),L0=_r("react.forward_ref"),Xv=_r("react.suspense"),Nm=_r("react.suspense_list"),k0=_r("react.memo"),jA=_r("react.lazy"),zA=_r("react.block"),_r("react.scope"),XA=_r("react.opaque.id"),BF=_r("react.debug_trace_mode"),VA=_r("react.offscreen"),d2=_r("react.legacy_hidden")}var rO=typeof Symbol=="function"&&Symbol.iterator;function hv(e){return e===null||typeof e!="object"?null:(e=rO&&e[rO]||e["@@iterator"],typeof e=="function"?e:null)}var US;function Dv(e){if(US===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);US=t&&t[1]||""}return`
`+US+e}var DS=!1;function mg(e,t){if(!e||DS)return"";DS=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(f){var r=f}Reflect.construct(e,[],t)}else{try{t.call()}catch(f){r=f}e.call(t.prototype)}else{try{throw Error()}catch(f){r=f}e()}}catch(f){if(f&&r&&typeof f.stack=="string"){for(var i=f.stack.split(`
`),a=r.stack.split(`
`),u=i.length-1,l=a.length-1;1<=u&&0<=l&&i[u]!==a[l];)l--;for(;1<=u&&0<=l;u--,l--)if(i[u]!==a[l]){if(u!==1||l!==1)do if(u--,l--,0>l||i[u]!==a[l])return`
`+i[u].replace(" at new "," at ");while(1<=u&&0<=l);break}}}finally{DS=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Dv(e):""}function s5(e){switch(e.tag){case 5:return Dv(e.type);case 16:return Dv("Lazy");case 13:return Dv("Suspense");case 19:return Dv("SuspenseList");case 0:case 2:case 15:return e=mg(e.type,!1),e;case 11:return e=mg(e.type.render,!1),e;case 22:return e=mg(e.type._render,!1),e;case 1:return e=mg(e.type,!0),e;default:return""}}function Ic(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case zs:return"Fragment";case ff:return"Portal";case zv:return"Profiler";case $A:return"StrictMode";case Xv:return"Suspense";case Nm:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case WA:return(e.displayName||"Context")+".Consumer";case HA:return(e._context.displayName||"Context")+".Provider";case L0:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case k0:return Ic(e.type);case zA:return Ic(e._render);case jA:t=e._payload,e=e._init;try{return Ic(e(t))}catch{}}return null}function hu(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function UF(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function u5(e){var t=UF(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n!="undefined"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(u){r=""+u,a.call(this,u)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(u){r=""+u},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function yg(e){e._valueTracker||(e._valueTracker=u5(e))}function DF(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=UF(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Lm(e){if(e=e||(typeof document!="undefined"?document:void 0),typeof e=="undefined")return null;try{return e.activeElement||e.body}catch{return e.body}}function p2(e,t){var n=t.checked;return En({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:e._wrapperState.initialChecked})}function iO(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=hu(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function MF(e,t){t=t.checked,t!=null&&GA(e,"checked",t,!1)}function v2(e,t){MF(e,t);var n=hu(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?_2(e,t.type,n):t.hasOwnProperty("defaultValue")&&_2(e,t.type,hu(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function oO(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function _2(e,t,n){(t!=="number"||Lm(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function l5(e){var t="";return N0.Children.forEach(e,function(n){n!=null&&(t+=n)}),t}function g2(e,t){return e=En({children:void 0},t),(t=l5(t.children))&&(e.children=t),e}function Ac(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+hu(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function m2(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(xe(91));return En({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function aO(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(xe(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(xe(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:hu(n)}}function GF(e,t){var n=hu(t.value),r=hu(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function sO(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}var y2={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function $F(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function x2(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?$F(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var xg,HF=function(e){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!==y2.svg||"innerHTML"in e)e.innerHTML=t;else{for(xg=xg||document.createElement("div"),xg.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=xg.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function h_(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Vv={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},f5=["Webkit","ms","Moz","O"];Object.keys(Vv).forEach(function(e){f5.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Vv[t]=Vv[e]})});function WF(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Vv.hasOwnProperty(e)&&Vv[e]?(""+t).trim():t+"px"}function jF(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=WF(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var c5=En({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function b2(e,t){if(t){if(c5[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(xe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(xe(60));if(!(typeof t.dangerouslySetInnerHTML=="object"&&"__html"in t.dangerouslySetInnerHTML))throw Error(xe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(xe(62))}}function w2(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function qA(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var T2=null,Pc=null,Rc=null;function uO(e){if(e=J_(e)){if(typeof T2!="function")throw Error(xe(280));var t=e.stateNode;t&&(t=G0(t),T2(e.stateNode,e.type,t))}}function zF(e){Pc?Rc?Rc.push(e):Rc=[e]:Pc=e}function XF(){if(Pc){var e=Pc,t=Rc;if(Rc=Pc=null,uO(e),t)for(e=0;e<t.length;e++)uO(t[e])}}function YA(e,t){return e(t)}function VF(e,t,n,r,i){return e(t,n,r,i)}function KA(){}var qF=YA,cf=!1,MS=!1;function ZA(){(Pc!==null||Rc!==null)&&(KA(),XF())}function h5(e,t,n){if(MS)return e(t,n);MS=!0;try{return qF(e,t,n)}finally{MS=!1,ZA()}}function d_(e,t){var n=e.stateNode;if(n===null)return null;var r=G0(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(xe(231,t,typeof n));return n}var E2=!1;if(Ns)try{var dv={};Object.defineProperty(dv,"passive",{get:function(){E2=!0}}),window.addEventListener("test",dv,dv),window.removeEventListener("test",dv,dv)}catch{E2=!1}function d5(e,t,n,r,i,a,u,l,f){var h=Array.prototype.slice.call(arguments,3);try{t.apply(n,h)}catch(d){this.onError(d)}}var qv=!1,km=null,Fm=!1,S2=null,p5={onError:function(e){qv=!0,km=e}};function v5(e,t,n,r,i,a,u,l,f){qv=!1,km=null,d5.apply(p5,arguments)}function _5(e,t,n,r,i,a,u,l,f){if(v5.apply(this,arguments),qv){if(qv){var h=km;qv=!1,km=null}else throw Error(xe(198));Fm||(Fm=!0,S2=h)}}function Uf(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&1026)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function YF(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function lO(e){if(Uf(e)!==e)throw Error(xe(188))}function g5(e){var t=e.alternate;if(!t){if(t=Uf(e),t===null)throw Error(xe(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return lO(i),e;if(a===r)return lO(i),t;a=a.sibling}throw Error(xe(188))}if(n.return!==r.return)n=i,r=a;else{for(var u=!1,l=i.child;l;){if(l===n){u=!0,n=i,r=a;break}if(l===r){u=!0,r=i,n=a;break}l=l.sibling}if(!u){for(l=a.child;l;){if(l===n){u=!0,n=a,r=i;break}if(l===r){u=!0,r=a,n=i;break}l=l.sibling}if(!u)throw Error(xe(189))}}if(n.alternate!==r)throw Error(xe(190))}if(n.tag!==3)throw Error(xe(188));return n.stateNode.current===n?e:t}function KF(e){if(e=g5(e),!e)return null;for(var t=e;;){if(t.tag===5||t.tag===6)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function fO(e,t){for(var n=e.alternate;t!==null;){if(t===e||t===n)return!0;t=t.return}return!1}var ZF,JA,JF,QF,C2=!1,la=[],tu=null,nu=null,ru=null,p_=new Map,v_=new Map,pv=[],cO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function I2(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:n|16,nativeEvent:i,targetContainers:[r]}}function hO(e,t){switch(e){case"focusin":case"focusout":tu=null;break;case"dragenter":case"dragleave":nu=null;break;case"mouseover":case"mouseout":ru=null;break;case"pointerover":case"pointerout":p_.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":v_.delete(t.pointerId)}}function vv(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e=I2(t,n,r,i,a),t!==null&&(t=J_(t),t!==null&&JA(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function m5(e,t,n,r,i){switch(t){case"focusin":return tu=vv(tu,e,t,n,r,i),!0;case"dragenter":return nu=vv(nu,e,t,n,r,i),!0;case"mouseover":return ru=vv(ru,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return p_.set(a,vv(p_.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,v_.set(a,vv(v_.get(a)||null,e,t,n,r,i)),!0}return!1}function y5(e){var t=hf(e.target);if(t!==null){var n=Uf(t);if(n!==null){if(t=n.tag,t===13){if(t=YF(n),t!==null){e.blockedOn=t,QF(e.lanePriority,function(){yr.unstable_runWithPriority(e.priority,function(){JF(n)})});return}}else if(t===3&&n.stateNode.hydrate){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function sm(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=nP(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n!==null)return t=J_(n),t!==null&&JA(t),e.blockedOn=n,!1;t.shift()}return!0}function dO(e,t,n){sm(e)&&n.delete(t)}function x5(){for(C2=!1;0<la.length;){var e=la[0];if(e.blockedOn!==null){e=J_(e.blockedOn),e!==null&&ZF(e);break}for(var t=e.targetContainers;0<t.length;){var n=nP(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n!==null){e.blockedOn=n;break}t.shift()}e.blockedOn===null&&la.shift()}tu!==null&&sm(tu)&&(tu=null),nu!==null&&sm(nu)&&(nu=null),ru!==null&&sm(ru)&&(ru=null),p_.forEach(dO),v_.forEach(dO)}function _v(e,t){e.blockedOn===t&&(e.blockedOn=null,C2||(C2=!0,yr.unstable_scheduleCallback(yr.unstable_NormalPriority,x5)))}function eB(e){function t(i){return _v(i,e)}if(0<la.length){_v(la[0],e);for(var n=1;n<la.length;n++){var r=la[n];r.blockedOn===e&&(r.blockedOn=null)}}for(tu!==null&&_v(tu,e),nu!==null&&_v(nu,e),ru!==null&&_v(ru,e),p_.forEach(t),v_.forEach(t),n=0;n<pv.length;n++)r=pv[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<pv.length&&(n=pv[0],n.blockedOn===null);)y5(n),n.blockedOn===null&&pv.shift()}function bg(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var hc={animationend:bg("Animation","AnimationEnd"),animationiteration:bg("Animation","AnimationIteration"),animationstart:bg("Animation","AnimationStart"),transitionend:bg("Transition","TransitionEnd")},GS={},tB={};Ns&&(tB=document.createElement("div").style,"AnimationEvent"in window||(delete hc.animationend.animation,delete hc.animationiteration.animation,delete hc.animationstart.animation),"TransitionEvent"in window||delete hc.transitionend.transition);function F0(e){if(GS[e])return GS[e];if(!hc[e])return e;var t=hc[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in tB)return GS[e]=t[n];return e}var nB=F0("animationend"),rB=F0("animationiteration"),iB=F0("animationstart"),oB=F0("transitionend"),aB=new Map,QA=new Map,b5=["abort","abort",nB,"animationEnd",rB,"animationIteration",iB,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",oB,"transitionEnd","waiting","waiting"];function eP(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),QA.set(r,t),aB.set(r,i),Ff(i,[r])}}var w5=yr.unstable_now;w5();var an=8;function uc(e){if((1&e)!==0)return an=15,1;if((2&e)!==0)return an=14,2;if((4&e)!==0)return an=13,4;var t=24&e;return t!==0?(an=12,t):(e&32)!==0?(an=11,32):(t=192&e,t!==0?(an=10,t):(e&256)!==0?(an=9,256):(t=3584&e,t!==0?(an=8,t):(e&4096)!==0?(an=7,4096):(t=4186112&e,t!==0?(an=6,t):(t=62914560&e,t!==0?(an=5,t):e&67108864?(an=4,67108864):(e&134217728)!==0?(an=3,134217728):(t=805306368&e,t!==0?(an=2,t):(1073741824&e)!==0?(an=1,1073741824):(an=8,e))))))}function T5(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function E5(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(xe(358,e))}}function __(e,t){var n=e.pendingLanes;if(n===0)return an=0;var r=0,i=0,a=e.expiredLanes,u=e.suspendedLanes,l=e.pingedLanes;if(a!==0)r=a,i=an=15;else if(a=n&134217727,a!==0){var f=a&~u;f!==0?(r=uc(f),i=an):(l&=a,l!==0&&(r=uc(l),i=an))}else a=n&~u,a!==0?(r=uc(a),i=an):l!==0&&(r=uc(l),i=an);if(r===0)return 0;if(r=31-du(r),r=n&((0>r?0:1<<r)<<1)-1,t!==0&&t!==r&&(t&u)===0){if(uc(t),i<=an)return t;an=i}if(t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-du(t),i=1<<n,r|=e[n],t&=~i;return r}function sB(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Bm(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return e=lc(24&~t),e===0?Bm(10,t):e;case 10:return e=lc(192&~t),e===0?Bm(8,t):e;case 8:return e=lc(3584&~t),e===0&&(e=lc(4186112&~t),e===0&&(e=512)),e;case 2:return t=lc(805306368&~t),t===0&&(t=268435456),t}throw Error(xe(358,e))}function lc(e){return e&-e}function $S(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function B0(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,e=e.eventTimes,t=31-du(t),e[t]=n}var du=Math.clz32?Math.clz32:I5,S5=Math.log,C5=Math.LN2;function I5(e){return e===0?32:31-(S5(e)/C5|0)|0}var A5=yr.unstable_UserBlockingPriority,P5=yr.unstable_runWithPriority,um=!0;function R5(e,t,n,r){cf||KA();var i=tP,a=cf;cf=!0;try{VF(i,e,t,n,r)}finally{(cf=a)||ZA()}}function O5(e,t,n,r){P5(A5,tP.bind(null,e,t,n,r))}function tP(e,t,n,r){if(um){var i;if((i=(t&4)===0)&&0<la.length&&-1<cO.indexOf(e))e=I2(null,e,t,n,r),la.push(e);else{var a=nP(e,t,n,r);if(a===null)i&&hO(e,r);else{if(i){if(-1<cO.indexOf(e)){e=I2(a,e,t,n,r),la.push(e);return}if(m5(a,e,t,n,r))return;hO(e,r)}xB(e,t,r,null,n)}}}}function nP(e,t,n,r){var i=qA(r);if(i=hf(i),i!==null){var a=Uf(i);if(a===null)i=null;else{var u=a.tag;if(u===13){if(i=YF(a),i!==null)return i;i=null}else if(u===3){if(a.stateNode.hydrate)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return xB(e,t,r,i,n),null}var Vs=null,rP=null,lm=null;function uB(){if(lm)return lm;var e,t=rP,n=t.length,r,i="value"in Vs?Vs.value:Vs.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var u=n-e;for(r=1;r<=u&&t[n-r]===i[a-r];r++);return lm=i.slice(e,1<r?1-r:void 0)}function fm(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function wg(){return!0}function pO(){return!1}function to(e){function t(n,r,i,a,u){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=u,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?wg:pO,this.isPropagationStopped=pO,this}return En(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=wg)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=wg)},persist:function(){},isPersistent:wg}),t}var dh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},iP=to(dh),Z_=En({},dh,{view:0,detail:0}),N5=to(Z_),HS,WS,gv,U0=En({},Z_,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:oP,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==gv&&(gv&&e.type==="mousemove"?(HS=e.screenX-gv.screenX,WS=e.screenY-gv.screenY):WS=HS=0,gv=e),HS)},movementY:function(e){return"movementY"in e?e.movementY:WS}}),vO=to(U0),L5=En({},U0,{dataTransfer:0}),k5=to(L5),F5=En({},Z_,{relatedTarget:0}),jS=to(F5),B5=En({},dh,{animationName:0,elapsedTime:0,pseudoElement:0}),U5=to(B5),D5=En({},dh,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),M5=to(D5),G5=En({},dh,{data:0}),_O=to(G5),$5={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},H5={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},W5={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function j5(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=W5[e])?!!t[e]:!1}function oP(){return j5}var z5=En({},Z_,{key:function(e){if(e.key){var t=$5[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=fm(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?H5[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:oP,charCode:function(e){return e.type==="keypress"?fm(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?fm(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),X5=to(z5),V5=En({},U0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gO=to(V5),q5=En({},Z_,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:oP}),Y5=to(q5),K5=En({},dh,{propertyName:0,elapsedTime:0,pseudoElement:0}),Z5=to(K5),J5=En({},U0,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Q5=to(J5),e8=[9,13,27,32],aP=Ns&&"CompositionEvent"in window,Yv=null;Ns&&"documentMode"in document&&(Yv=document.documentMode);var t8=Ns&&"TextEvent"in window&&!Yv,lB=Ns&&(!aP||Yv&&8<Yv&&11>=Yv),mO=String.fromCharCode(32),yO=!1;function fB(e,t){switch(e){case"keyup":return e8.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cB(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var dc=!1;function n8(e,t){switch(e){case"compositionend":return cB(t);case"keypress":return t.which!==32?null:(yO=!0,mO);case"textInput":return e=t.data,e===mO&&yO?null:e;default:return null}}function r8(e,t){if(dc)return e==="compositionend"||!aP&&fB(e,t)?(e=uB(),lm=rP=Vs=null,dc=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return lB&&t.locale!=="ko"?null:t.data;default:return null}}var i8={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xO(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!i8[e.type]:t==="textarea"}function hB(e,t,n,r){zF(r),t=Um(t,"onChange"),0<t.length&&(n=new iP("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kv=null,g_=null;function o8(e){gB(e,0)}function D0(e){var t=vc(e);if(DF(t))return e}function a8(e,t){if(e==="change")return t}var dB=!1;if(Ns){var zS;if(Ns){var XS="oninput"in document;if(!XS){var bO=document.createElement("div");bO.setAttribute("oninput","return;"),XS=typeof bO.oninput=="function"}zS=XS}else zS=!1;dB=zS&&(!document.documentMode||9<document.documentMode)}function wO(){Kv&&(Kv.detachEvent("onpropertychange",pB),g_=Kv=null)}function pB(e){if(e.propertyName==="value"&&D0(g_)){var t=[];if(hB(t,g_,e,qA(e)),e=o8,cf)e(t);else{cf=!0;try{YA(e,t)}finally{cf=!1,ZA()}}}}function s8(e,t,n){e==="focusin"?(wO(),Kv=t,g_=n,Kv.attachEvent("onpropertychange",pB)):e==="focusout"&&wO()}function u8(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return D0(g_)}function l8(e,t){if(e==="click")return D0(t)}function f8(e,t){if(e==="input"||e==="change")return D0(t)}function c8(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var uo=typeof Object.is=="function"?Object.is:c8,h8=Object.prototype.hasOwnProperty;function m_(e,t){if(uo(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!h8.call(t,n[r])||!uo(e[n[r]],t[n[r]]))return!1;return!0}function TO(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function EO(e,t){var n=TO(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=TO(n)}}function vB(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?vB(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function SO(){for(var e=window,t=Lm();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Lm(e.document)}return t}function A2(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var d8=Ns&&"documentMode"in document&&11>=document.documentMode,pc=null,P2=null,Zv=null,R2=!1;function CO(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;R2||pc==null||pc!==Lm(r)||(r=pc,"selectionStart"in r&&A2(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Zv&&m_(Zv,r)||(Zv=r,r=Um(P2,"onSelect"),0<r.length&&(t=new iP("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=pc)))}eP("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);eP("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);eP(b5,2);for(var IO="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),VS=0;VS<IO.length;VS++)QA.set(IO[VS],0);Vc("onMouseEnter",["mouseout","mouseover"]);Vc("onMouseLeave",["mouseout","mouseover"]);Vc("onPointerEnter",["pointerout","pointerover"]);Vc("onPointerLeave",["pointerout","pointerover"]);Ff("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ff("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ff("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ff("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ff("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ff("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mv="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_B=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mv));function AO(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,_5(r,t,void 0,e),e.currentTarget=null}function gB(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var u=r.length-1;0<=u;u--){var l=r[u],f=l.instance,h=l.currentTarget;if(l=l.listener,f!==a&&i.isPropagationStopped())break e;AO(i,l,h),a=f}else for(u=0;u<r.length;u++){if(l=r[u],f=l.instance,h=l.currentTarget,l=l.listener,f!==a&&i.isPropagationStopped())break e;AO(i,l,h),a=f}}}if(Fm)throw e=S2,Fm=!1,S2=null,e}function _n(e,t){var n=wB(t),r=e+"__bubble";n.has(r)||(yB(t,e,2,!1),n.add(r))}var PO="_reactListening"+Math.random().toString(36).slice(2);function mB(e){e[PO]||(e[PO]=!0,FF.forEach(function(t){_B.has(t)||RO(t,!1,e,null),RO(t,!0,e,null)}))}function RO(e,t,n,r){var i=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,a=n;if(e==="selectionchange"&&n.nodeType!==9&&(a=n.ownerDocument),r!==null&&!t&&_B.has(e)){if(e!=="scroll")return;i|=2,a=r}var u=wB(a),l=e+"__"+(t?"capture":"bubble");u.has(l)||(t&&(i|=4),yB(a,e,i,t),u.add(l))}function yB(e,t,n,r){var i=QA.get(t);switch(i===void 0?2:i){case 0:i=R5;break;case 1:i=O5;break;default:i=tP}n=i.bind(null,t,n,e),i=void 0,!E2||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function xB(e,t,n,r,i){var a=r;if((t&1)===0&&(t&2)===0&&r!==null)e:for(;;){if(r===null)return;var u=r.tag;if(u===3||u===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(u===4)for(u=r.return;u!==null;){var f=u.tag;if((f===3||f===4)&&(f=u.stateNode.containerInfo,f===i||f.nodeType===8&&f.parentNode===i))return;u=u.return}for(;l!==null;){if(u=hf(l),u===null)return;if(f=u.tag,f===5||f===6){r=a=u;continue e}l=l.parentNode}}r=r.return}h5(function(){var h=a,d=qA(n),v=[];e:{var _=aB.get(e);if(_!==void 0){var g=iP,x=e;switch(e){case"keypress":if(fm(n)===0)break e;case"keydown":case"keyup":g=X5;break;case"focusin":x="focus",g=jS;break;case"focusout":x="blur",g=jS;break;case"beforeblur":case"afterblur":g=jS;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=vO;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=k5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=Y5;break;case nB:case rB:case iB:g=U5;break;case oB:g=Z5;break;case"scroll":g=N5;break;case"wheel":g=Q5;break;case"copy":case"cut":case"paste":g=M5;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=gO}var b=(t&4)!==0,y=!b&&e==="scroll",E=b?_!==null?_+"Capture":null:_;b=[];for(var S=h,A;S!==null;){A=S;var L=A.stateNode;if(A.tag===5&&L!==null&&(A=L,E!==null&&(L=d_(S,E),L!=null&&b.push(y_(S,L,A)))),y)break;S=S.return}0<b.length&&(_=new g(_,x,null,n,d),v.push({event:_,listeners:b}))}}if((t&7)===0){e:{if(_=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",_&&(t&16)===0&&(x=n.relatedTarget||n.fromElement)&&(hf(x)||x[ph]))break e;if((g||_)&&(_=d.window===d?d:(_=d.ownerDocument)?_.defaultView||_.parentWindow:window,g?(x=n.relatedTarget||n.toElement,g=h,x=x?hf(x):null,x!==null&&(y=Uf(x),x!==y||x.tag!==5&&x.tag!==6)&&(x=null)):(g=null,x=h),g!==x)){if(b=vO,L="onMouseLeave",E="onMouseEnter",S="mouse",(e==="pointerout"||e==="pointerover")&&(b=gO,L="onPointerLeave",E="onPointerEnter",S="pointer"),y=g==null?_:vc(g),A=x==null?_:vc(x),_=new b(L,S+"leave",g,n,d),_.target=y,_.relatedTarget=A,L=null,hf(d)===h&&(b=new b(E,S+"enter",x,n,d),b.target=A,b.relatedTarget=y,L=b),y=L,g&&x)t:{for(b=g,E=x,S=0,A=b;A;A=Jf(A))S++;for(A=0,L=E;L;L=Jf(L))A++;for(;0<S-A;)b=Jf(b),S--;for(;0<A-S;)E=Jf(E),A--;for(;S--;){if(b===E||E!==null&&b===E.alternate)break t;b=Jf(b),E=Jf(E)}b=null}else b=null;g!==null&&OO(v,_,g,b,!1),x!==null&&y!==null&&OO(v,y,x,b,!0)}}e:{if(_=h?vc(h):window,g=_.nodeName&&_.nodeName.toLowerCase(),g==="select"||g==="input"&&_.type==="file")var P=a8;else if(xO(_))if(dB)P=f8;else{P=u8;var R=s8}else(g=_.nodeName)&&g.toLowerCase()==="input"&&(_.type==="checkbox"||_.type==="radio")&&(P=l8);if(P&&(P=P(e,h))){hB(v,P,n,d);break e}R&&R(e,_,h),e==="focusout"&&(R=_._wrapperState)&&R.controlled&&_.type==="number"&&_2(_,"number",_.value)}switch(R=h?vc(h):window,e){case"focusin":(xO(R)||R.contentEditable==="true")&&(pc=R,P2=h,Zv=null);break;case"focusout":Zv=P2=pc=null;break;case"mousedown":R2=!0;break;case"contextmenu":case"mouseup":case"dragend":R2=!1,CO(v,n,d);break;case"selectionchange":if(d8)break;case"keydown":case"keyup":CO(v,n,d)}var D;if(aP)e:{switch(e){case"compositionstart":var $="onCompositionStart";break e;case"compositionend":$="onCompositionEnd";break e;case"compositionupdate":$="onCompositionUpdate";break e}$=void 0}else dc?fB(e,n)&&($="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&($="onCompositionStart");$&&(lB&&n.locale!=="ko"&&(dc||$!=="onCompositionStart"?$==="onCompositionEnd"&&dc&&(D=uB()):(Vs=d,rP="value"in Vs?Vs.value:Vs.textContent,dc=!0)),R=Um(h,$),0<R.length&&($=new _O($,e,null,n,d),v.push({event:$,listeners:R}),D?$.data=D:(D=cB(n),D!==null&&($.data=D)))),(D=t8?n8(e,n):r8(e,n))&&(h=Um(h,"onBeforeInput"),0<h.length&&(d=new _O("onBeforeInput","beforeinput",null,n,d),v.push({event:d,listeners:h}),d.data=D))}gB(v,t)})}function y_(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Um(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=d_(e,n),a!=null&&r.unshift(y_(e,a,i)),a=d_(e,t),a!=null&&r.push(y_(e,a,i))),e=e.return}return r}function Jf(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function OO(e,t,n,r,i){for(var a=t._reactName,u=[];n!==null&&n!==r;){var l=n,f=l.alternate,h=l.stateNode;if(f!==null&&f===r)break;l.tag===5&&h!==null&&(l=h,i?(f=d_(n,a),f!=null&&u.unshift(y_(n,f,l))):i||(f=d_(n,a),f!=null&&u.push(y_(n,f,l)))),n=n.return}u.length!==0&&e.push({event:t,listeners:u})}function Dm(){}var qS=null,YS=null;function bB(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function O2(e,t){return e==="textarea"||e==="option"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var NO=typeof setTimeout=="function"?setTimeout:void 0,p8=typeof clearTimeout=="function"?clearTimeout:void 0;function sP(e){e.nodeType===1?e.textContent="":e.nodeType===9&&(e=e.body,e!=null&&(e.textContent=""))}function Oc(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break}return e}function LO(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var KS=0;function v8(e){return{$$typeof:XA,toString:e,valueOf:e}}var M0=Math.random().toString(36).slice(2),qs="__reactFiber$"+M0,Mm="__reactProps$"+M0,ph="__reactContainer$"+M0,kO="__reactEvents$"+M0;function hf(e){var t=e[qs];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ph]||n[qs]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=LO(e);e!==null;){if(n=e[qs])return n;e=LO(e)}return t}e=n,n=e.parentNode}return null}function J_(e){return e=e[qs]||e[ph],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function vc(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(xe(33))}function G0(e){return e[Mm]||null}function wB(e){var t=e[kO];return t===void 0&&(t=e[kO]=new Set),t}var N2=[],_c=-1;function Eu(e){return{current:e}}function yn(e){0>_c||(e.current=N2[_c],N2[_c]=null,_c--)}function Un(e,t){_c++,N2[_c]=e.current,e.current=t}var pu={},ti=Eu(pu),wi=Eu(!1),Tf=pu;function qc(e,t){var n=e.type.contextTypes;if(!n)return pu;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ti(e){return e=e.childContextTypes,e!=null}function Gm(){yn(wi),yn(ti)}function FO(e,t,n){if(ti.current!==pu)throw Error(xe(168));Un(ti,t),Un(wi,n)}function TB(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(xe(108,Ic(t)||"Unknown",i));return En({},n,r)}function cm(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||pu,Tf=ti.current,Un(ti,e),Un(wi,wi.current),!0}function BO(e,t,n){var r=e.stateNode;if(!r)throw Error(xe(169));n?(e=TB(e,t,Tf),r.__reactInternalMemoizedMergedChildContext=e,yn(wi),yn(ti),Un(ti,e)):yn(wi),Un(wi,n)}var uP=null,_f=null,_8=yr.unstable_runWithPriority,lP=yr.unstable_scheduleCallback,L2=yr.unstable_cancelCallback,g8=yr.unstable_shouldYield,UO=yr.unstable_requestPaint,k2=yr.unstable_now,m8=yr.unstable_getCurrentPriorityLevel,$0=yr.unstable_ImmediatePriority,EB=yr.unstable_UserBlockingPriority,SB=yr.unstable_NormalPriority,CB=yr.unstable_LowPriority,IB=yr.unstable_IdlePriority,ZS={},y8=UO!==void 0?UO:function(){},ws=null,hm=null,JS=!1,DO=k2(),Jr=1e4>DO?k2:function(){return k2()-DO};function Yc(){switch(m8()){case $0:return 99;case EB:return 98;case SB:return 97;case CB:return 96;case IB:return 95;default:throw Error(xe(332))}}function AB(e){switch(e){case 99:return $0;case 98:return EB;case 97:return SB;case 96:return CB;case 95:return IB;default:throw Error(xe(332))}}function Ef(e,t){return e=AB(e),_8(e,t)}function x_(e,t,n){return e=AB(e),lP(e,t,n)}function ba(){if(hm!==null){var e=hm;hm=null,L2(e)}PB()}function PB(){if(!JS&&ws!==null){JS=!0;var e=0;try{var t=ws;Ef(99,function(){for(;e<t.length;e++){var n=t[e];do n=n(!0);while(n!==null)}}),ws=null}catch(n){throw ws!==null&&(ws=ws.slice(e+1)),lP($0,ba),n}finally{JS=!1}}}var x8=Bf.ReactCurrentBatchConfig;function zo(e,t){if(e&&e.defaultProps){t=En({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var $m=Eu(null),Hm=null,gc=null,Wm=null;function fP(){Wm=gc=Hm=null}function cP(e){var t=$m.current;yn($m),e.type._context._currentValue=t}function RB(e,t){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)===t){if(n===null||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,n!==null&&(n.childLanes|=t);e=e.return}}function Nc(e,t){Hm=e,Wm=gc=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(qo=!0),e.firstContext=null)}function vo(e,t){if(Wm!==e&&t!==!1&&t!==0)if((typeof t!="number"||t===1073741823)&&(Wm=e,t=1073741823),t={context:e,observedBits:t,next:null},gc===null){if(Hm===null)throw Error(xe(308));gc=t,Hm.dependencies={lanes:0,firstContext:t,responders:null}}else gc=gc.next=t;return e._currentValue}var Ws=!1;function hP(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function OB(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function iu(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ou(e,t){if(e=e.updateQueue,e!==null){e=e.shared;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function MO(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var u={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=u:a=a.next=u,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function b_(e,t,n,r){var i=e.updateQueue;Ws=!1;var a=i.firstBaseUpdate,u=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var f=l,h=f.next;f.next=null,u===null?a=h:u.next=h,u=f;var d=e.alternate;if(d!==null){d=d.updateQueue;var v=d.lastBaseUpdate;v!==u&&(v===null?d.firstBaseUpdate=h:v.next=h,d.lastBaseUpdate=f)}}if(a!==null){v=i.baseState,u=0,d=h=f=null;do{l=a.lane;var _=a.eventTime;if((r&l)===l){d!==null&&(d=d.next={eventTime:_,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=e,x=a;switch(l=t,_=n,x.tag){case 1:if(g=x.payload,typeof g=="function"){v=g.call(_,v,l);break e}v=g;break e;case 3:g.flags=g.flags&-4097|64;case 0:if(g=x.payload,l=typeof g=="function"?g.call(_,v,l):g,l==null)break e;v=En({},v,l);break e;case 2:Ws=!0}}a.callback!==null&&(e.flags|=32,l=i.effects,l===null?i.effects=[a]:l.push(a))}else _={eventTime:_,lane:l,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(h=d=_,f=v):d=d.next=_,u|=l;if(a=a.next,a===null){if(l=i.shared.pending,l===null)break;a=l.next,l.next=null,i.lastBaseUpdate=l,i.shared.pending=null}}while(1);d===null&&(f=v),i.baseState=f,i.firstBaseUpdate=h,i.lastBaseUpdate=d,eg|=u,e.lanes=u,e.memoizedState=v}}function GO(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(xe(191,i));i.call(r)}}}var NB=new N0.Component().refs;function jm(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:En({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var H0={isMounted:function(e){return(e=e._reactInternals)?Uf(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=qi(),i=au(e),a=iu(r,i);a.payload=t,n!=null&&(a.callback=n),ou(e,a),su(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=qi(),i=au(e),a=iu(r,i);a.tag=1,a.payload=t,n!=null&&(a.callback=n),ou(e,a),su(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=qi(),r=au(e),i=iu(n,r);i.tag=2,t!=null&&(i.callback=t),ou(e,i),su(e,r,n)}};function $O(e,t,n,r,i,a,u){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,u):t.prototype&&t.prototype.isPureReactComponent?!m_(n,r)||!m_(i,a):!0}function LB(e,t,n){var r=!1,i=pu,a=t.contextType;return typeof a=="object"&&a!==null?a=vo(a):(i=Ti(t)?Tf:ti.current,r=t.contextTypes,a=(r=r!=null)?qc(e,i):pu),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=H0,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function HO(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&H0.enqueueReplaceState(t,t.state,null)}function F2(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=NB,hP(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=vo(a):(a=Ti(t)?Tf:ti.current,i.context=qc(e,a)),b_(e,n,i,r),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(jm(e,t,a,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&H0.enqueueReplaceState(i,i.state,null),b_(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4)}var Tg=Array.isArray;function mv(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(xe(309));var r=n.stateNode}if(!r)throw Error(xe(147,e));var i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var u=r.refs;u===NB&&(u=r.refs={}),a===null?delete u[i]:u[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(xe(284));if(!n._owner)throw Error(xe(290,e))}return e}function Eg(e,t){if(e.type!=="textarea")throw Error(xe(31,Object.prototype.toString.call(t)==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function kB(e){function t(y,E){if(e){var S=y.lastEffect;S!==null?(S.nextEffect=E,y.lastEffect=E):y.firstEffect=y.lastEffect=E,E.nextEffect=null,E.flags=8}}function n(y,E){if(!e)return null;for(;E!==null;)t(y,E),E=E.sibling;return null}function r(y,E){for(y=new Map;E!==null;)E.key!==null?y.set(E.key,E):y.set(E.index,E),E=E.sibling;return y}function i(y,E){return y=_u(y,E),y.index=0,y.sibling=null,y}function a(y,E,S){return y.index=S,e?(S=y.alternate,S!==null?(S=S.index,S<E?(y.flags=2,E):S):(y.flags=2,E)):E}function u(y){return e&&y.alternate===null&&(y.flags=2),y}function l(y,E,S,A){return E===null||E.tag!==6?(E=rC(S,y.mode,A),E.return=y,E):(E=i(E,S),E.return=y,E)}function f(y,E,S,A){return E!==null&&E.elementType===S.type?(A=i(E,S.props),A.ref=mv(y,E,S),A.return=y,A):(A=_m(S.type,S.key,S.props,null,y.mode,A),A.ref=mv(y,E,S),A.return=y,A)}function h(y,E,S,A){return E===null||E.tag!==4||E.stateNode.containerInfo!==S.containerInfo||E.stateNode.implementation!==S.implementation?(E=iC(S,y.mode,A),E.return=y,E):(E=i(E,S.children||[]),E.return=y,E)}function d(y,E,S,A,L){return E===null||E.tag!==7?(E=Bc(S,y.mode,A,L),E.return=y,E):(E=i(E,S),E.return=y,E)}function v(y,E,S){if(typeof E=="string"||typeof E=="number")return E=rC(""+E,y.mode,S),E.return=y,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Uv:return S=_m(E.type,E.key,E.props,null,y.mode,S),S.ref=mv(y,null,E),S.return=y,S;case ff:return E=iC(E,y.mode,S),E.return=y,E}if(Tg(E)||hv(E))return E=Bc(E,y.mode,S,null),E.return=y,E;Eg(y,E)}return null}function _(y,E,S,A){var L=E!==null?E.key:null;if(typeof S=="string"||typeof S=="number")return L!==null?null:l(y,E,""+S,A);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Uv:return S.key===L?S.type===zs?d(y,E,S.props.children,A,L):f(y,E,S,A):null;case ff:return S.key===L?h(y,E,S,A):null}if(Tg(S)||hv(S))return L!==null?null:d(y,E,S,A,null);Eg(y,S)}return null}function g(y,E,S,A,L){if(typeof A=="string"||typeof A=="number")return y=y.get(S)||null,l(E,y,""+A,L);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Uv:return y=y.get(A.key===null?S:A.key)||null,A.type===zs?d(E,y,A.props.children,L,A.key):f(E,y,A,L);case ff:return y=y.get(A.key===null?S:A.key)||null,h(E,y,A,L)}if(Tg(A)||hv(A))return y=y.get(S)||null,d(E,y,A,L,null);Eg(E,A)}return null}function x(y,E,S,A){for(var L=null,P=null,R=E,D=E=0,$=null;R!==null&&D<S.length;D++){R.index>D?($=R,R=null):$=R.sibling;var U=_(y,R,S[D],A);if(U===null){R===null&&(R=$);break}e&&R&&U.alternate===null&&t(y,R),E=a(U,E,D),P===null?L=U:P.sibling=U,P=U,R=$}if(D===S.length)return n(y,R),L;if(R===null){for(;D<S.length;D++)R=v(y,S[D],A),R!==null&&(E=a(R,E,D),P===null?L=R:P.sibling=R,P=R);return L}for(R=r(y,R);D<S.length;D++)$=g(R,y,D,S[D],A),$!==null&&(e&&$.alternate!==null&&R.delete($.key===null?D:$.key),E=a($,E,D),P===null?L=$:P.sibling=$,P=$);return e&&R.forEach(function(K){return t(y,K)}),L}function b(y,E,S,A){var L=hv(S);if(typeof L!="function")throw Error(xe(150));if(S=L.call(S),S==null)throw Error(xe(151));for(var P=L=null,R=E,D=E=0,$=null,U=S.next();R!==null&&!U.done;D++,U=S.next()){R.index>D?($=R,R=null):$=R.sibling;var K=_(y,R,U.value,A);if(K===null){R===null&&(R=$);break}e&&R&&K.alternate===null&&t(y,R),E=a(K,E,D),P===null?L=K:P.sibling=K,P=K,R=$}if(U.done)return n(y,R),L;if(R===null){for(;!U.done;D++,U=S.next())U=v(y,U.value,A),U!==null&&(E=a(U,E,D),P===null?L=U:P.sibling=U,P=U);return L}for(R=r(y,R);!U.done;D++,U=S.next())U=g(R,y,D,U.value,A),U!==null&&(e&&U.alternate!==null&&R.delete(U.key===null?D:U.key),E=a(U,E,D),P===null?L=U:P.sibling=U,P=U);return e&&R.forEach(function(ie){return t(y,ie)}),L}return function(y,E,S,A){var L=typeof S=="object"&&S!==null&&S.type===zs&&S.key===null;L&&(S=S.props.children);var P=typeof S=="object"&&S!==null;if(P)switch(S.$$typeof){case Uv:e:{for(P=S.key,L=E;L!==null;){if(L.key===P){switch(L.tag){case 7:if(S.type===zs){n(y,L.sibling),E=i(L,S.props.children),E.return=y,y=E;break e}break;default:if(L.elementType===S.type){n(y,L.sibling),E=i(L,S.props),E.ref=mv(y,L,S),E.return=y,y=E;break e}}n(y,L);break}else t(y,L);L=L.sibling}S.type===zs?(E=Bc(S.props.children,y.mode,A,S.key),E.return=y,y=E):(A=_m(S.type,S.key,S.props,null,y.mode,A),A.ref=mv(y,E,S),A.return=y,y=A)}return u(y);case ff:e:{for(L=S.key;E!==null;){if(E.key===L)if(E.tag===4&&E.stateNode.containerInfo===S.containerInfo&&E.stateNode.implementation===S.implementation){n(y,E.sibling),E=i(E,S.children||[]),E.return=y,y=E;break e}else{n(y,E);break}else t(y,E);E=E.sibling}E=iC(S,y.mode,A),E.return=y,y=E}return u(y)}if(typeof S=="string"||typeof S=="number")return S=""+S,E!==null&&E.tag===6?(n(y,E.sibling),E=i(E,S),E.return=y,y=E):(n(y,E),E=rC(S,y.mode,A),E.return=y,y=E),u(y);if(Tg(S))return x(y,E,S,A);if(hv(S))return b(y,E,S,A);if(P&&Eg(y,S),typeof S=="undefined"&&!L)switch(y.tag){case 1:case 22:case 0:case 11:case 15:throw Error(xe(152,Ic(y.type)||"Component"))}return n(y,E)}}var zm=kB(!0),FB=kB(!1),Q_={},va=Eu(Q_),w_=Eu(Q_),T_=Eu(Q_);function df(e){if(e===Q_)throw Error(xe(174));return e}function B2(e,t){switch(Un(T_,t),Un(w_,e),Un(va,Q_),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:x2(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=x2(t,e)}yn(va),Un(va,t)}function Kc(){yn(va),yn(w_),yn(T_)}function WO(e){df(T_.current);var t=df(va.current),n=x2(t,e.type);t!==n&&(Un(w_,e),Un(va,n))}function dP(e){w_.current===e&&(yn(va),yn(w_))}var Bn=Eu(0);function Xm(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&64)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Cs=null,Ys=null,_a=!1;function BB(e,t){var n=lo(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,e.lastEffect!==null?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function jO(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,!0):!1;case 13:return!1;default:return!1}}function U2(e){if(_a){var t=Ys;if(t){var n=t;if(!jO(e,t)){if(t=Oc(n.nextSibling),!t||!jO(e,t)){e.flags=e.flags&-1025|2,_a=!1,Cs=e;return}BB(Cs,n)}Cs=e,Ys=Oc(t.firstChild)}else e.flags=e.flags&-1025|2,_a=!1,Cs=e}}function zO(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Cs=e}function Sg(e){if(e!==Cs)return!1;if(!_a)return zO(e),_a=!0,!1;var t=e.type;if(e.tag!==5||t!=="head"&&t!=="body"&&!O2(t,e.memoizedProps))for(t=Ys;t;)BB(e,t),t=Oc(t.nextSibling);if(zO(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(xe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ys=Oc(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ys=null}}else Ys=Cs?Oc(e.stateNode.nextSibling):null;return!0}function QS(){Ys=Cs=null,_a=!1}var Lc=[];function pP(){for(var e=0;e<Lc.length;e++)Lc[e]._workInProgressVersionPrimary=null;Lc.length=0}var Jv=Bf.ReactCurrentDispatcher,po=Bf.ReactCurrentBatchConfig,E_=0,Vn=null,qr=null,Ur=null,Vm=!1,Qv=!1;function mi(){throw Error(xe(321))}function vP(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!uo(e[n],t[n]))return!1;return!0}function _P(e,t,n,r,i,a){if(E_=a,Vn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Jv.current=e===null||e.memoizedState===null?w8:T8,e=n(r,i),Qv){a=0;do{if(Qv=!1,!(25>a))throw Error(xe(301));a+=1,Ur=qr=null,t.updateQueue=null,Jv.current=E8,e=n(r,i)}while(Qv)}if(Jv.current=Zm,t=qr!==null&&qr.next!==null,E_=0,Ur=qr=Vn=null,Vm=!1,t)throw Error(xe(300));return e}function pf(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ur===null?Vn.memoizedState=Ur=e:Ur=Ur.next=e,Ur}function Df(){if(qr===null){var e=Vn.alternate;e=e!==null?e.memoizedState:null}else e=qr.next;var t=Ur===null?Vn.memoizedState:Ur.next;if(t!==null)Ur=t,qr=e;else{if(e===null)throw Error(xe(310));qr=e,e={memoizedState:qr.memoizedState,baseState:qr.baseState,baseQueue:qr.baseQueue,queue:qr.queue,next:null},Ur===null?Vn.memoizedState=Ur=e:Ur=Ur.next=e}return Ur}function fa(e,t){return typeof t=="function"?t(e):t}function yv(e){var t=Df(),n=t.queue;if(n===null)throw Error(xe(311));n.lastRenderedReducer=e;var r=qr,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var u=i.next;i.next=a.next,a.next=u}r.baseQueue=i=a,n.pending=null}if(i!==null){i=i.next,r=r.baseState;var l=u=a=null,f=i;do{var h=f.lane;if((E_&h)===h)l!==null&&(l=l.next={lane:0,action:f.action,eagerReducer:f.eagerReducer,eagerState:f.eagerState,next:null}),r=f.eagerReducer===e?f.eagerState:e(r,f.action);else{var d={lane:h,action:f.action,eagerReducer:f.eagerReducer,eagerState:f.eagerState,next:null};l===null?(u=l=d,a=r):l=l.next=d,Vn.lanes|=h,eg|=h}f=f.next}while(f!==null&&f!==i);l===null?a=r:l.next=u,uo(r,t.memoizedState)||(qo=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=l,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function xv(e){var t=Df(),n=t.queue;if(n===null)throw Error(xe(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(i!==null){n.pending=null;var u=i=i.next;do a=e(a,u.action),u=u.next;while(u!==i);uo(a,t.memoizedState)||(qo=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function XO(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(i!==null?e=i===r:(e=e.mutableReadLanes,(e=(E_&e)===e)&&(t._workInProgressVersionPrimary=r,Lc.push(t))),e)return n(t._source);throw Lc.push(t),Error(xe(350))}function UB(e,t,n,r){var i=di;if(i===null)throw Error(xe(349));var a=t._getVersion,u=a(t._source),l=Jv.current,f=l.useState(function(){return XO(i,t,n)}),h=f[1],d=f[0];f=Ur;var v=e.memoizedState,_=v.refs,g=_.getSnapshot,x=v.source;v=v.subscribe;var b=Vn;return e.memoizedState={refs:_,source:t,subscribe:r},l.useEffect(function(){_.getSnapshot=n,_.setSnapshot=h;var y=a(t._source);if(!uo(u,y)){y=n(t._source),uo(d,y)||(h(y),y=au(b),i.mutableReadLanes|=y&i.pendingLanes),y=i.mutableReadLanes,i.entangledLanes|=y;for(var E=i.entanglements,S=y;0<S;){var A=31-du(S),L=1<<A;E[A]|=y,S&=~L}}},[n,t,r]),l.useEffect(function(){return r(t._source,function(){var y=_.getSnapshot,E=_.setSnapshot;try{E(y(t._source));var S=au(b);i.mutableReadLanes|=S&i.pendingLanes}catch(A){E(function(){throw A})}})},[t,r]),uo(g,n)&&uo(x,t)&&uo(v,r)||(e={pending:null,dispatch:null,lastRenderedReducer:fa,lastRenderedState:d},e.dispatch=h=yP.bind(null,Vn,e),f.queue=e,f.baseQueue=null,d=XO(i,t,n),f.memoizedState=f.baseState=d),d}function DB(e,t,n){var r=Df();return UB(r,e,t,n)}function bv(e){var t=pf();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e=t.queue={pending:null,dispatch:null,lastRenderedReducer:fa,lastRenderedState:e},e=e.dispatch=yP.bind(null,Vn,e),[t.memoizedState,e]}function qm(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Vn.updateQueue,t===null?(t={lastEffect:null},Vn.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function VO(e){var t=pf();return e={current:e},t.memoizedState=e}function Ym(){return Df().memoizedState}function D2(e,t,n,r){var i=pf();Vn.flags|=e,i.memoizedState=qm(1|t,n,void 0,r===void 0?null:r)}function gP(e,t,n,r){var i=Df();r=r===void 0?null:r;var a=void 0;if(qr!==null){var u=qr.memoizedState;if(a=u.destroy,r!==null&&vP(r,u.deps)){qm(t,n,a,r);return}}Vn.flags|=e,i.memoizedState=qm(1|t,n,a,r)}function qO(e,t){return D2(516,4,e,t)}function Km(e,t){return gP(516,4,e,t)}function MB(e,t){return gP(4,2,e,t)}function GB(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function $B(e,t,n){return n=n!=null?n.concat([e]):null,gP(4,2,GB.bind(null,t,e),n)}function mP(){}function HB(e,t){var n=Df();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&vP(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function WB(e,t){var n=Df();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&vP(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function b8(e,t){var n=Yc();Ef(98>n?98:n,function(){e(!0)}),Ef(97<n?97:n,function(){var r=po.transition;po.transition=1;try{e(!1),t()}finally{po.transition=r}})}function yP(e,t,n){var r=qi(),i=au(e),a={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},u=t.pending;if(u===null?a.next=a:(a.next=u.next,u.next=a),t.pending=a,u=e.alternate,e===Vn||u!==null&&u===Vn)Qv=Vm=!0;else{if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var l=t.lastRenderedState,f=u(l,n);if(a.eagerReducer=u,a.eagerState=f,uo(f,l))return}catch{}finally{}su(e,i,r)}}var Zm={readContext:vo,useCallback:mi,useContext:mi,useEffect:mi,useImperativeHandle:mi,useLayoutEffect:mi,useMemo:mi,useReducer:mi,useRef:mi,useState:mi,useDebugValue:mi,useDeferredValue:mi,useTransition:mi,useMutableSource:mi,useOpaqueIdentifier:mi,unstable_isNewReconciler:!1},w8={readContext:vo,useCallback:function(e,t){return pf().memoizedState=[e,t===void 0?null:t],e},useContext:vo,useEffect:qO,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,D2(4,2,GB.bind(null,t,e),n)},useLayoutEffect:function(e,t){return D2(4,2,e,t)},useMemo:function(e,t){var n=pf();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=pf();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},e=e.dispatch=yP.bind(null,Vn,e),[r.memoizedState,e]},useRef:VO,useState:bv,useDebugValue:mP,useDeferredValue:function(e){var t=bv(e),n=t[0],r=t[1];return qO(function(){var i=po.transition;po.transition=1;try{r(e)}finally{po.transition=i}},[e]),n},useTransition:function(){var e=bv(!1),t=e[0];return e=b8.bind(null,e[1]),VO(e),[e,t]},useMutableSource:function(e,t,n){var r=pf();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},UB(r,e,t,n)},useOpaqueIdentifier:function(){if(_a){var e=!1,t=v8(function(){throw e||(e=!0,n("r:"+(KS++).toString(36))),Error(xe(355))}),n=bv(t)[1];return(Vn.mode&2)===0&&(Vn.flags|=516,qm(5,function(){n("r:"+(KS++).toString(36))},void 0,null)),t}return t="r:"+(KS++).toString(36),bv(t),t},unstable_isNewReconciler:!1},T8={readContext:vo,useCallback:HB,useContext:vo,useEffect:Km,useImperativeHandle:$B,useLayoutEffect:MB,useMemo:WB,useReducer:yv,useRef:Ym,useState:function(){return yv(fa)},useDebugValue:mP,useDeferredValue:function(e){var t=yv(fa),n=t[0],r=t[1];return Km(function(){var i=po.transition;po.transition=1;try{r(e)}finally{po.transition=i}},[e]),n},useTransition:function(){var e=yv(fa)[0];return[Ym().current,e]},useMutableSource:DB,useOpaqueIdentifier:function(){return yv(fa)[0]},unstable_isNewReconciler:!1},E8={readContext:vo,useCallback:HB,useContext:vo,useEffect:Km,useImperativeHandle:$B,useLayoutEffect:MB,useMemo:WB,useReducer:xv,useRef:Ym,useState:function(){return xv(fa)},useDebugValue:mP,useDeferredValue:function(e){var t=xv(fa),n=t[0],r=t[1];return Km(function(){var i=po.transition;po.transition=1;try{r(e)}finally{po.transition=i}},[e]),n},useTransition:function(){var e=xv(fa)[0];return[Ym().current,e]},useMutableSource:DB,useOpaqueIdentifier:function(){return xv(fa)[0]},unstable_isNewReconciler:!1},S8=Bf.ReactCurrentOwner,qo=!1;function yi(e,t,n,r){t.child=e===null?FB(t,null,n,r):zm(t,e.child,n,r)}function YO(e,t,n,r,i){n=n.render;var a=t.ref;return Nc(t,i),r=_P(e,t,n,r,a,i),e!==null&&!qo?(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,Is(e,t,i)):(t.flags|=1,yi(e,t,r,i),t.child)}function KO(e,t,n,r,i,a){if(e===null){var u=n.type;return typeof u=="function"&&!SP(u)&&u.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=u,jB(e,t,u,r,i,a)):(e=_m(n.type,null,r,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}return u=e.child,(i&a)===0&&(i=u.memoizedProps,n=n.compare,n=n!==null?n:m_,n(i,r)&&e.ref===t.ref)?Is(e,t,a):(t.flags|=1,e=_u(u,r),e.ref=t.ref,e.return=t,t.child=e)}function jB(e,t,n,r,i,a){if(e!==null&&m_(e.memoizedProps,r)&&e.ref===t.ref)if(qo=!1,(a&i)!==0)(e.flags&16384)!==0&&(qo=!0);else return t.lanes=e.lanes,Is(e,t,a);return M2(e,t,n,r,a)}function eC(e,t,n){var r=t.pendingProps,i=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden"||r.mode==="unstable-defer-without-hiding")if((t.mode&4)===0)t.memoizedState={baseLanes:0},Ig(t,n);else if((n&1073741824)!==0)t.memoizedState={baseLanes:0},Ig(t,a!==null?a.baseLanes:n);else return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},Ig(t,e),null;else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ig(t,r);return yi(e,t,i,n),t.child}function zB(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=128)}function M2(e,t,n,r,i){var a=Ti(n)?Tf:ti.current;return a=qc(t,a),Nc(t,i),n=_P(e,t,n,r,a,i),e!==null&&!qo?(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,Is(e,t,i)):(t.flags|=1,yi(e,t,n,i),t.child)}function ZO(e,t,n,r,i){if(Ti(n)){var a=!0;cm(t)}else a=!1;if(Nc(t,i),t.stateNode===null)e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),LB(t,n,r),F2(t,n,r,i),r=!0;else if(e===null){var u=t.stateNode,l=t.memoizedProps;u.props=l;var f=u.context,h=n.contextType;typeof h=="object"&&h!==null?h=vo(h):(h=Ti(n)?Tf:ti.current,h=qc(t,h));var d=n.getDerivedStateFromProps,v=typeof d=="function"||typeof u.getSnapshotBeforeUpdate=="function";v||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(l!==r||f!==h)&&HO(t,u,r,h),Ws=!1;var _=t.memoizedState;u.state=_,b_(t,r,u,i),f=t.memoizedState,l!==r||_!==f||wi.current||Ws?(typeof d=="function"&&(jm(t,n,d,r),f=t.memoizedState),(l=Ws||$O(t,n,l,r,_,f,h))?(v||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4)):(typeof u.componentDidMount=="function"&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=f),u.props=r,u.state=f,u.context=h,r=l):(typeof u.componentDidMount=="function"&&(t.flags|=4),r=!1)}else{u=t.stateNode,OB(e,t),l=t.memoizedProps,h=t.type===t.elementType?l:zo(t.type,l),u.props=h,v=t.pendingProps,_=u.context,f=n.contextType,typeof f=="object"&&f!==null?f=vo(f):(f=Ti(n)?Tf:ti.current,f=qc(t,f));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(l!==v||_!==f)&&HO(t,u,r,f),Ws=!1,_=t.memoizedState,u.state=_,b_(t,r,u,i);var x=t.memoizedState;l!==v||_!==x||wi.current||Ws?(typeof g=="function"&&(jm(t,n,g,r),x=t.memoizedState),(h=Ws||$O(t,n,h,r,_,x,f))?(d||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(r,x,f),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(r,x,f)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=256)):(typeof u.componentDidUpdate!="function"||l===e.memoizedProps&&_===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&_===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=x),u.props=r,u.state=x,u.context=f,r=h):(typeof u.componentDidUpdate!="function"||l===e.memoizedProps&&_===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&_===e.memoizedState||(t.flags|=256),r=!1)}return G2(e,t,n,r,a,i)}function G2(e,t,n,r,i,a){zB(e,t);var u=(t.flags&64)!==0;if(!r&&!u)return i&&BO(t,n,!1),Is(e,t,a);r=t.stateNode,S8.current=t;var l=u&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&u?(t.child=zm(t,e.child,null,a),t.child=zm(t,null,l,a)):yi(e,t,l,a),t.memoizedState=r.state,i&&BO(t,n,!0),t.child}function JO(e){var t=e.stateNode;t.pendingContext?FO(e,t.pendingContext,t.pendingContext!==t.context):t.context&&FO(e,t.context,!1),B2(e,t.containerInfo)}var Cg={dehydrated:null,retryLane:0};function QO(e,t,n){var r=t.pendingProps,i=Bn.current,a=!1,u;return(u=(t.flags&64)!==0)||(u=e!==null&&e.memoizedState===null?!1:(i&2)!==0),u?(a=!0,t.flags&=-65):e!==null&&e.memoizedState===null||r.fallback===void 0||r.unstable_avoidThisFallback===!0||(i|=1),Un(Bn,i&1),e===null?(r.fallback!==void 0&&U2(t),e=r.children,i=r.fallback,a?(e=eN(t,e,i,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Cg,e):typeof r.unstable_expectedLoadTime=="number"?(e=eN(t,e,i,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Cg,t.lanes=33554432,e):(n=CP({mode:"visible",children:e},t.mode,n,null),n.return=t,t.child=n)):e.memoizedState!==null?a?(r=nN(e,t,r.children,r.fallback,n),a=t.child,i=e.child.memoizedState,a.memoizedState=i===null?{baseLanes:n}:{baseLanes:i.baseLanes|n},a.childLanes=e.childLanes&~n,t.memoizedState=Cg,r):(n=tN(e,t,r.children,n),t.memoizedState=null,n):a?(r=nN(e,t,r.children,r.fallback,n),a=t.child,i=e.child.memoizedState,a.memoizedState=i===null?{baseLanes:n}:{baseLanes:i.baseLanes|n},a.childLanes=e.childLanes&~n,t.memoizedState=Cg,r):(n=tN(e,t,r.children,n),t.memoizedState=null,n)}function eN(e,t,n,r){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},(i&2)===0&&a!==null?(a.childLanes=0,a.pendingProps=t):a=CP(t,i,0,null),n=Bc(n,i,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function tN(e,t,n,r){var i=e.child;return e=i.sibling,n=_u(i,{mode:"visible",children:n}),(t.mode&2)===0&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function nN(e,t,n,r,i){var a=t.mode,u=e.child;e=u.sibling;var l={mode:"hidden",children:n};return(a&2)===0&&t.child!==u?(n=t.child,n.childLanes=0,n.pendingProps=l,u=n.lastEffect,u!==null?(t.firstEffect=n.firstEffect,t.lastEffect=u,u.nextEffect=null):t.firstEffect=t.lastEffect=null):n=_u(u,l),e!==null?r=_u(e,r):(r=Bc(r,a,i,null),r.flags|=2),r.return=t,n.return=t,n.sibling=r,t.child=n,r}function rN(e,t){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),RB(e.return,t)}function tC(e,t,n,r,i,a){var u=e.memoizedState;u===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:a}:(u.isBackwards=t,u.rendering=null,u.renderingStartTime=0,u.last=r,u.tail=n,u.tailMode=i,u.lastEffect=a)}function iN(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(yi(e,t,r.children,n),r=Bn.current,(r&2)!==0)r=r&1|2,t.flags|=64;else{if(e!==null&&(e.flags&64)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&rN(e,n);else if(e.tag===19)rN(e,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Un(Bn,r),(t.mode&2)===0)t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Xm(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),tC(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Xm(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}tC(t,!0,n,null,a,t.lastEffect);break;case"together":tC(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Is(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),eg|=t.lanes,(n&t.childLanes)!==0){if(e!==null&&t.child!==e.child)throw Error(xe(153));if(t.child!==null){for(e=t.child,n=_u(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=_u(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}return null}var XB,$2,VB,qB;XB=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};$2=function(){};VB=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,df(va.current);var a=null;switch(n){case"input":i=p2(e,i),r=p2(e,r),a=[];break;case"option":i=g2(e,i),r=g2(e,r),a=[];break;case"select":i=En({},i,{value:void 0}),r=En({},r,{value:void 0}),a=[];break;case"textarea":i=m2(e,i),r=m2(e,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Dm)}b2(n,r);var u;n=null;for(h in i)if(!r.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var l=i[h];for(u in l)l.hasOwnProperty(u)&&(n||(n={}),n[u]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(c_.hasOwnProperty(h)?a||(a=[]):(a=a||[]).push(h,null));for(h in r){var f=r[h];if(l=i!=null?i[h]:void 0,r.hasOwnProperty(h)&&f!==l&&(f!=null||l!=null))if(h==="style")if(l){for(u in l)!l.hasOwnProperty(u)||f&&f.hasOwnProperty(u)||(n||(n={}),n[u]="");for(u in f)f.hasOwnProperty(u)&&l[u]!==f[u]&&(n||(n={}),n[u]=f[u])}else n||(a||(a=[]),a.push(h,n)),n=f;else h==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,l=l?l.__html:void 0,f!=null&&l!==f&&(a=a||[]).push(h,f)):h==="children"?typeof f!="string"&&typeof f!="number"||(a=a||[]).push(h,""+f):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(c_.hasOwnProperty(h)?(f!=null&&h==="onScroll"&&_n("scroll",e),a||l===f||(a=[])):typeof f=="object"&&f!==null&&f.$$typeof===XA?f.toString():(a=a||[]).push(h,f))}n&&(a=a||[]).push("style",n);var h=a;(t.updateQueue=h)&&(t.flags|=4)}};qB=function(e,t,n,r){n!==r&&(t.flags|=4)};function wv(e,t){if(!_a)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function C8(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Ti(t.type)&&Gm(),null;case 3:return Kc(),yn(wi),yn(ti),pP(),r=t.stateNode,r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Sg(t)?t.flags|=4:r.hydrate||(t.flags|=256)),$2(t),null;case 5:dP(t);var i=df(T_.current);if(n=t.type,e!==null&&t.stateNode!=null)VB(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(t.stateNode===null)throw Error(xe(166));return null}if(e=df(va.current),Sg(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[qs]=t,r[Mm]=a,n){case"dialog":_n("cancel",r),_n("close",r);break;case"iframe":case"object":case"embed":_n("load",r);break;case"video":case"audio":for(e=0;e<Mv.length;e++)_n(Mv[e],r);break;case"source":_n("error",r);break;case"img":case"image":case"link":_n("error",r),_n("load",r);break;case"details":_n("toggle",r);break;case"input":iO(r,a),_n("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},_n("invalid",r);break;case"textarea":aO(r,a),_n("invalid",r)}b2(n,a),e=null;for(var u in a)a.hasOwnProperty(u)&&(i=a[u],u==="children"?typeof i=="string"?r.textContent!==i&&(e=["children",i]):typeof i=="number"&&r.textContent!==""+i&&(e=["children",""+i]):c_.hasOwnProperty(u)&&i!=null&&u==="onScroll"&&_n("scroll",r));switch(n){case"input":yg(r),oO(r,a,!0);break;case"textarea":yg(r),sO(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=Dm)}r=e,t.updateQueue=r,r!==null&&(t.flags|=4)}else{switch(u=i.nodeType===9?i:i.ownerDocument,e===y2.html&&(e=$F(n)),e===y2.html?n==="script"?(e=u.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),n==="select"&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[qs]=t,e[Mm]=r,XB(e,t,!1,!1),t.stateNode=e,u=w2(n,r),n){case"dialog":_n("cancel",e),_n("close",e),i=r;break;case"iframe":case"object":case"embed":_n("load",e),i=r;break;case"video":case"audio":for(i=0;i<Mv.length;i++)_n(Mv[i],e);i=r;break;case"source":_n("error",e),i=r;break;case"img":case"image":case"link":_n("error",e),_n("load",e),i=r;break;case"details":_n("toggle",e),i=r;break;case"input":iO(e,r),i=p2(e,r),_n("invalid",e);break;case"option":i=g2(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=En({},r,{value:void 0}),_n("invalid",e);break;case"textarea":aO(e,r),i=m2(e,r),_n("invalid",e);break;default:i=r}b2(n,i);var l=i;for(a in l)if(l.hasOwnProperty(a)){var f=l[a];a==="style"?jF(e,f):a==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,f!=null&&HF(e,f)):a==="children"?typeof f=="string"?(n!=="textarea"||f!=="")&&h_(e,f):typeof f=="number"&&h_(e,""+f):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(c_.hasOwnProperty(a)?f!=null&&a==="onScroll"&&_n("scroll",e):f!=null&&GA(e,a,f,u))}switch(n){case"input":yg(e),oO(e,r,!1);break;case"textarea":yg(e),sO(e);break;case"option":r.value!=null&&e.setAttribute("value",""+hu(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?Ac(e,!!r.multiple,a,!1):r.defaultValue!=null&&Ac(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Dm)}bB(n,r)&&(t.flags|=4)}t.ref!==null&&(t.flags|=128)}return null;case 6:if(e&&t.stateNode!=null)qB(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(xe(166));n=df(T_.current),df(va.current),Sg(t)?(r=t.stateNode,n=t.memoizedProps,r[qs]=t,r.nodeValue!==n&&(t.flags|=4)):(r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[qs]=t,t.stateNode=r)}return null;case 13:return yn(Bn),r=t.memoizedState,(t.flags&64)!==0?(t.lanes=n,t):(r=r!==null,n=!1,e===null?t.memoizedProps.fallback!==void 0&&Sg(t):n=e.memoizedState!==null,r&&!n&&(t.mode&2)!==0&&(e===null&&t.memoizedProps.unstable_avoidThisFallback!==!0||(Bn.current&1)!==0?Dr===0&&(Dr=3):((Dr===0||Dr===3)&&(Dr=4),di===null||(eg&134217727)===0&&(_h&134217727)===0||kc(di,Qr))),(r||n)&&(t.flags|=4),null);case 4:return Kc(),$2(t),e===null&&mB(t.stateNode.containerInfo),null;case 10:return cP(t),null;case 17:return Ti(t.type)&&Gm(),null;case 19:if(yn(Bn),r=t.memoizedState,r===null)return null;if(a=(t.flags&64)!==0,u=r.rendering,u===null)if(a)wv(r,!1);else{if(Dr!==0||e!==null&&(e.flags&64)!==0)for(e=t.child;e!==null;){if(u=Xm(e),u!==null){for(t.flags|=64,wv(r,!1),a=u.updateQueue,a!==null&&(t.updateQueue=a,t.flags|=4),r.lastEffect===null&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=2,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null,u=a.alternate,u===null?(a.childLanes=0,a.lanes=e,a.child=null,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,e=u.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Un(Bn,Bn.current&1|2),t.child}e=e.sibling}r.tail!==null&&Jr()>V2&&(t.flags|=64,a=!0,wv(r,!1),t.lanes=33554432)}else{if(!a)if(e=Xm(u),e!==null){if(t.flags|=64,a=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),wv(r,!0),r.tail===null&&r.tailMode==="hidden"&&!u.alternate&&!_a)return t=t.lastEffect=r.lastEffect,t!==null&&(t.nextEffect=null),null}else 2*Jr()-r.renderingStartTime>V2&&n!==1073741824&&(t.flags|=64,a=!0,wv(r,!1),t.lanes=33554432);r.isBackwards?(u.sibling=t.child,t.child=u):(n=r.last,n!==null?n.sibling=u:t.child=u,r.last=u)}return r.tail!==null?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Jr(),n.sibling=null,t=Bn.current,Un(Bn,a?t&1|2:t&1),n):null;case 23:case 24:return EP(),e!==null&&e.memoizedState!==null!=(t.memoizedState!==null)&&r.mode!=="unstable-defer-without-hiding"&&(t.flags|=4),null}throw Error(xe(156,t.tag))}function I8(e){switch(e.tag){case 1:Ti(e.type)&&Gm();var t=e.flags;return t&4096?(e.flags=t&-4097|64,e):null;case 3:if(Kc(),yn(wi),yn(ti),pP(),t=e.flags,(t&64)!==0)throw Error(xe(285));return e.flags=t&-4097|64,e;case 5:return dP(e),null;case 13:return yn(Bn),t=e.flags,t&4096?(e.flags=t&-4097|64,e):null;case 19:return yn(Bn),null;case 4:return Kc(),null;case 10:return cP(e),null;case 23:case 24:return EP(),null;default:return null}}function xP(e,t){try{var n="",r=t;do n+=s5(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i}}function H2(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var A8=typeof WeakMap=="function"?WeakMap:Map;function YB(e,t,n){n=iu(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Qm||(Qm=!0,q2=r),H2(e,t)},n}function KB(e,t,n){n=iu(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return H2(e,t),r(i)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){typeof r!="function"&&(ca===null?ca=new Set([this]):ca.add(this),H2(e,t));var u=t.stack;this.componentDidCatch(t.value,{componentStack:u!==null?u:""})}),n}var P8=typeof WeakSet=="function"?WeakSet:Set;function oN(e){var t=e.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(n){uu(e,n)}else t.current=null}function R8(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(t.flags&256&&e!==null){var n=e.memoizedProps,r=e.memoizedState;e=t.stateNode,t=e.getSnapshotBeforeUpdate(t.elementType===t.type?n:zo(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:t.flags&256&&sP(t.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(xe(163))}function O8(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(t=n.updateQueue,t=t!==null?t.lastEffect:null,t!==null){e=t=t.next;do{if((e.tag&3)===3){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(t=n.updateQueue,t=t!==null?t.lastEffect:null,t!==null){e=t=t.next;do{var i=e;r=i.next,i=i.tag,(i&4)!==0&&(i&1)!==0&&(oU(n,e),M8(n,e)),e=r}while(e!==t)}return;case 1:e=n.stateNode,n.flags&4&&(t===null?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:zo(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),t=n.updateQueue,t!==null&&GO(n,t,e);return;case 3:if(t=n.updateQueue,t!==null){if(e=null,n.child!==null)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}GO(n,t,e)}return;case 5:e=n.stateNode,t===null&&n.flags&4&&bB(n.type,n.memoizedProps)&&e.focus();return;case 6:return;case 4:return;case 12:return;case 13:n.memoizedState===null&&(n=n.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&eB(n))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(xe(163))}function aN(e,t){for(var n=e;;){if(n.tag===5){var r=n.stateNode;if(t)r=r.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=i!=null&&i.hasOwnProperty("display")?i.display:null,r.style.display=WF("display",i)}}else if(n.tag===6)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((n.tag!==23&&n.tag!==24||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function sN(e,t){if(_f&&typeof _f.onCommitFiberUnmount=="function")try{_f.onCommitFiberUnmount(uP,t)}catch{}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(e=t.updateQueue,e!==null&&(e=e.lastEffect,e!==null)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,i!==void 0)if((r&4)!==0)oU(t,n);else{r=t;try{i()}catch(a){uu(r,a)}}n=n.next}while(n!==e)}break;case 1:if(oN(t),e=t.stateNode,typeof e.componentWillUnmount=="function")try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){uu(t,a)}break;case 5:oN(t);break;case 4:ZB(e,t)}}function uN(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function lN(e){return e.tag===5||e.tag===3||e.tag===4}function fN(e){e:{for(var t=e.return;t!==null;){if(lN(t))break e;t=t.return}throw Error(xe(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:t=t.containerInfo,r=!0;break;case 4:t=t.containerInfo,r=!0;break;default:throw Error(xe(161))}n.flags&16&&(h_(t,""),n.flags&=-17);e:t:for(n=e;;){for(;n.sibling===null;){if(n.return===null||lN(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2)){n=n.stateNode;break e}}r?W2(e,n,t):j2(e,n,t)}function W2(e,t,n){var r=e.tag,i=r===5||r===6;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Dm));else if(r!==4&&(e=e.child,e!==null))for(W2(e,t,n),e=e.sibling;e!==null;)W2(e,t,n),e=e.sibling}function j2(e,t,n){var r=e.tag,i=r===5||r===6;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(j2(e,t,n),e=e.sibling;e!==null;)j2(e,t,n),e=e.sibling}function ZB(e,t){for(var n=t,r=!1,i,a;;){if(!r){r=n.return;e:for(;;){if(r===null)throw Error(xe(160));switch(i=r.stateNode,r.tag){case 5:a=!1;break e;case 3:i=i.containerInfo,a=!0;break e;case 4:i=i.containerInfo,a=!0;break e}r=r.return}r=!0}if(n.tag===5||n.tag===6){e:for(var u=e,l=n,f=l;;)if(sN(u,f),f.child!==null&&f.tag!==4)f.child.return=f,f=f.child;else{if(f===l)break e;for(;f.sibling===null;){if(f.return===null||f.return===l)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}a?(u=i,l=n.stateNode,u.nodeType===8?u.parentNode.removeChild(l):u.removeChild(l)):i.removeChild(n.stateNode)}else if(n.tag===4){if(n.child!==null){i=n.stateNode.containerInfo,a=!0,n.child.return=n,n=n.child;continue}}else if(sN(e,n),n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return,n.tag===4&&(r=!1)}n.sibling.return=n.return,n=n.sibling}}function nC(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var r=n=n.next;do(r.tag&3)===3&&(e=r.destroy,r.destroy=void 0,e!==void 0&&e()),r=r.next;while(r!==n)}return;case 1:return;case 5:if(n=t.stateNode,n!=null){r=t.memoizedProps;var i=e!==null?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,a!==null){for(n[Mm]=r,e==="input"&&r.type==="radio"&&r.name!=null&&MF(n,r),w2(e,i),t=w2(e,r),i=0;i<a.length;i+=2){var u=a[i],l=a[i+1];u==="style"?jF(n,l):u==="dangerouslySetInnerHTML"?HF(n,l):u==="children"?h_(n,l):GA(n,u,l,t)}switch(e){case"input":v2(n,r);break;case"textarea":GF(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,a=r.value,a!=null?Ac(n,!!r.multiple,a,!1):e!==!!r.multiple&&(r.defaultValue!=null?Ac(n,!!r.multiple,r.defaultValue,!0):Ac(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(t.stateNode===null)throw Error(xe(162));t.stateNode.nodeValue=t.memoizedProps;return;case 3:n=t.stateNode,n.hydrate&&(n.hydrate=!1,eB(n.containerInfo));return;case 12:return;case 13:t.memoizedState!==null&&(TP=Jr(),aN(t.child,!0)),cN(t);return;case 19:cN(t);return;case 17:return;case 23:case 24:aN(t,t.memoizedState!==null);return}throw Error(xe(163))}function cN(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new P8),t.forEach(function(r){var i=H8.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function N8(e,t){return e!==null&&(e=e.memoizedState,e===null||e.dehydrated!==null)?(t=t.memoizedState,t!==null&&t.dehydrated===null):!1}var L8=Math.ceil,Jm=Bf.ReactCurrentDispatcher,bP=Bf.ReactCurrentOwner,tt=0,di=null,hr=null,Qr=0,Sf=0,z2=Eu(0),Dr=0,W0=null,vh=0,eg=0,_h=0,wP=0,X2=null,TP=0,V2=1/0;function gh(){V2=Jr()+500}var Fe=null,Qm=!1,q2=null,ca=null,vu=!1,e_=null,Gv=90,Y2=[],K2=[],Rs=null,t_=0,Z2=null,dm=-1,Es=0,pm=0,n_=null,vm=!1;function qi(){return(tt&48)!==0?Jr():dm!==-1?dm:dm=Jr()}function au(e){if(e=e.mode,(e&2)===0)return 1;if((e&4)===0)return Yc()===99?1:2;if(Es===0&&(Es=vh),x8.transition!==0){pm!==0&&(pm=X2!==null?X2.pendingLanes:0),e=Es;var t=4186112&~pm;return t&=-t,t===0&&(e=4186112&~e,t=e&-e,t===0&&(t=8192)),t}return e=Yc(),(tt&4)!==0&&e===98?e=Bm(12,Es):(e=T5(e),e=Bm(e,Es)),e}function su(e,t,n){if(50<t_)throw t_=0,Z2=null,Error(xe(185));if(e=j0(e,t),e===null)return null;B0(e,t,n),e===di&&(_h|=t,Dr===4&&kc(e,Qr));var r=Yc();t===1?(tt&8)!==0&&(tt&48)===0?J2(e):(_o(e,n),tt===0&&(gh(),ba())):((tt&4)===0||r!==98&&r!==99||(Rs===null?Rs=new Set([e]):Rs.add(e)),_o(e,n)),X2=e}function j0(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}function _o(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,u=e.pendingLanes;0<u;){var l=31-du(u),f=1<<l,h=a[l];if(h===-1){if((f&r)===0||(f&i)!==0){h=t,uc(f);var d=an;a[l]=10<=d?h+250:6<=d?h+5e3:-1}}else h<=t&&(e.expiredLanes|=f);u&=~f}if(r=__(e,e===di?Qr:0),t=an,r===0)n!==null&&(n!==ZS&&L2(n),e.callbackNode=null,e.callbackPriority=0);else{if(n!==null){if(e.callbackPriority===t)return;n!==ZS&&L2(n)}t===15?(n=J2.bind(null,e),ws===null?(ws=[n],hm=lP($0,PB)):ws.push(n),n=ZS):t===14?n=x_(99,J2.bind(null,e)):(n=E5(t),n=x_(n,JB.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function JB(e){if(dm=-1,pm=Es=0,(tt&48)!==0)throw Error(xe(327));var t=e.callbackNode;if(Su()&&e.callbackNode!==t)return null;var n=__(e,e===di?Qr:0);if(n===0)return null;var r=n,i=tt;tt|=16;var a=nU();(di!==e||Qr!==r)&&(gh(),Fc(e,r));do try{B8();break}catch(l){tU(e,l)}while(1);if(fP(),Jm.current=a,tt=i,hr!==null?r=0:(di=null,Qr=0,r=Dr),(vh&_h)!==0)Fc(e,0);else if(r!==0){if(r===2&&(tt|=64,e.hydrate&&(e.hydrate=!1,sP(e.containerInfo)),n=sB(e),n!==0&&(r=$v(e,n))),r===1)throw t=W0,Fc(e,0),kc(e,n),_o(e,Jr()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(xe(345));case 2:ef(e);break;case 3:if(kc(e,n),(n&62914560)===n&&(r=TP+500-Jr(),10<r)){if(__(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){qi(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=NO(ef.bind(null,e),r);break}ef(e);break;case 4:if(kc(e,n),(n&4186112)===n)break;for(r=e.eventTimes,i=-1;0<n;){var u=31-du(n);a=1<<u,u=r[u],u>i&&(i=u),n&=~a}if(n=i,n=Jr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*L8(n/1960))-n,10<n){e.timeoutHandle=NO(ef.bind(null,e),n);break}ef(e);break;case 5:ef(e);break;default:throw Error(xe(329))}}return _o(e,Jr()),e.callbackNode===t?JB.bind(null,e):null}function kc(e,t){for(t&=~wP,t&=~_h,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-du(t),r=1<<n;e[n]=-1,t&=~r}}function J2(e){if((tt&48)!==0)throw Error(xe(327));if(Su(),e===di&&(e.expiredLanes&Qr)!==0){var t=Qr,n=$v(e,t);(vh&_h)!==0&&(t=__(e,t),n=$v(e,t))}else t=__(e,0),n=$v(e,t);if(e.tag!==0&&n===2&&(tt|=64,e.hydrate&&(e.hydrate=!1,sP(e.containerInfo)),t=sB(e),t!==0&&(n=$v(e,t))),n===1)throw n=W0,Fc(e,0),kc(e,t),_o(e,Jr()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,ef(e),_o(e,Jr()),null}function k8(){if(Rs!==null){var e=Rs;Rs=null,e.forEach(function(t){t.expiredLanes|=24&t.pendingLanes,_o(t,Jr())})}ba()}function QB(e,t){var n=tt;tt|=1;try{return e(t)}finally{tt=n,tt===0&&(gh(),ba())}}function eU(e,t){var n=tt;tt&=-2,tt|=8;try{return e(t)}finally{tt=n,tt===0&&(gh(),ba())}}function Ig(e,t){Un(z2,Sf),Sf|=t,vh|=t}function EP(){Sf=z2.current,yn(z2)}function Fc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,p8(n)),hr!==null)for(n=hr.return;n!==null;){var r=n;switch(r.tag){case 1:r=r.type.childContextTypes,r!=null&&Gm();break;case 3:Kc(),yn(wi),yn(ti),pP();break;case 5:dP(r);break;case 4:Kc();break;case 13:yn(Bn);break;case 19:yn(Bn);break;case 10:cP(r);break;case 23:case 24:EP()}n=n.return}di=e,hr=_u(e.current,null),Qr=Sf=vh=t,Dr=0,W0=null,wP=_h=eg=0}function tU(e,t){do{var n=hr;try{if(fP(),Jv.current=Zm,Vm){for(var r=Vn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Vm=!1}if(E_=0,Ur=qr=Vn=null,Qv=!1,bP.current=null,n===null||n.return===null){Dr=1,W0=t,hr=null;break}e:{var a=e,u=n.return,l=n,f=t;if(t=Qr,l.flags|=2048,l.firstEffect=l.lastEffect=null,f!==null&&typeof f=="object"&&typeof f.then=="function"){var h=f;if((l.mode&2)===0){var d=l.alternate;d?(l.updateQueue=d.updateQueue,l.memoizedState=d.memoizedState,l.lanes=d.lanes):(l.updateQueue=null,l.memoizedState=null)}var v=(Bn.current&1)!==0,_=u;do{var g;if(g=_.tag===13){var x=_.memoizedState;if(x!==null)g=x.dehydrated!==null;else{var b=_.memoizedProps;g=b.fallback===void 0?!1:b.unstable_avoidThisFallback!==!0?!0:!v}}if(g){var y=_.updateQueue;if(y===null){var E=new Set;E.add(h),_.updateQueue=E}else y.add(h);if((_.mode&2)===0){if(_.flags|=64,l.flags|=16384,l.flags&=-2981,l.tag===1)if(l.alternate===null)l.tag=17;else{var S=iu(-1,1);S.tag=2,ou(l,S)}l.lanes|=1;break e}f=void 0,l=t;var A=a.pingCache;if(A===null?(A=a.pingCache=new A8,f=new Set,A.set(h,f)):(f=A.get(h),f===void 0&&(f=new Set,A.set(h,f))),!f.has(l)){f.add(l);var L=$8.bind(null,a,h,l);h.then(L,L)}_.flags|=4096,_.lanes=t;break e}_=_.return}while(_!==null);f=Error((Ic(l.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}Dr!==5&&(Dr=2),f=xP(f,l),_=u;do{switch(_.tag){case 3:a=f,_.flags|=4096,t&=-t,_.lanes|=t;var P=YB(_,a,t);MO(_,P);break e;case 1:a=f;var R=_.type,D=_.stateNode;if((_.flags&64)===0&&(typeof R.getDerivedStateFromError=="function"||D!==null&&typeof D.componentDidCatch=="function"&&(ca===null||!ca.has(D)))){_.flags|=4096,t&=-t,_.lanes|=t;var $=KB(_,a,t);MO(_,$);break e}}_=_.return}while(_!==null)}iU(n)}catch(U){t=U,hr===n&&n!==null&&(hr=n=n.return);continue}break}while(1)}function nU(){var e=Jm.current;return Jm.current=Zm,e===null?Zm:e}function $v(e,t){var n=tt;tt|=16;var r=nU();di===e&&Qr===t||Fc(e,t);do try{F8();break}catch(i){tU(e,i)}while(1);if(fP(),tt=n,Jm.current=r,hr!==null)throw Error(xe(261));return di=null,Qr=0,Dr}function F8(){for(;hr!==null;)rU(hr)}function B8(){for(;hr!==null&&!g8();)rU(hr)}function rU(e){var t=aU(e.alternate,e,Sf);e.memoizedProps=e.pendingProps,t===null?iU(e):hr=t,bP.current=null}function iU(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&2048)===0){if(n=C8(n,t,Sf),n!==null){hr=n;return}if(n=t,n.tag!==24&&n.tag!==23||n.memoizedState===null||(Sf&1073741824)!==0||(n.mode&4)===0){for(var r=0,i=n.child;i!==null;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}e!==null&&(e.flags&2048)===0&&(e.firstEffect===null&&(e.firstEffect=t.firstEffect),t.lastEffect!==null&&(e.lastEffect!==null&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(e.lastEffect!==null?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(n=I8(t),n!==null){n.flags&=2047,hr=n;return}e!==null&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(t=t.sibling,t!==null){hr=t;return}hr=t=e}while(t!==null);Dr===0&&(Dr=5)}function ef(e){var t=Yc();return Ef(99,U8.bind(null,e,t)),null}function U8(e,t){do Su();while(e_!==null);if((tt&48)!==0)throw Error(xe(327));var n=e.finishedWork;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(xe(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var u=e.eventTimes,l=e.expirationTimes;0<a;){var f=31-du(a),h=1<<f;i[f]=0,u[f]=-1,l[f]=-1,a&=~h}if(Rs!==null&&(r&24)===0&&Rs.has(e)&&Rs.delete(e),e===di&&(hr=di=null,Qr=0),1<n.flags?n.lastEffect!==null?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,r!==null){if(i=tt,tt|=32,bP.current=null,qS=um,u=SO(),A2(u)){if("selectionStart"in u)l={start:u.selectionStart,end:u.selectionEnd};else e:if(l=(l=u.ownerDocument)&&l.defaultView||window,(h=l.getSelection&&l.getSelection())&&h.rangeCount!==0){l=h.anchorNode,a=h.anchorOffset,f=h.focusNode,h=h.focusOffset;try{l.nodeType,f.nodeType}catch{l=null;break e}var d=0,v=-1,_=-1,g=0,x=0,b=u,y=null;t:for(;;){for(var E;b!==l||a!==0&&b.nodeType!==3||(v=d+a),b!==f||h!==0&&b.nodeType!==3||(_=d+h),b.nodeType===3&&(d+=b.nodeValue.length),(E=b.firstChild)!==null;)y=b,b=E;for(;;){if(b===u)break t;if(y===l&&++g===a&&(v=d),y===f&&++x===h&&(_=d),(E=b.nextSibling)!==null)break;b=y,y=b.parentNode}b=E}l=v===-1||_===-1?null:{start:v,end:_}}else l=null;l=l||{start:0,end:0}}else l=null;YS={focusedElem:u,selectionRange:l},um=!1,n_=null,vm=!1,Fe=r;do try{D8()}catch(U){if(Fe===null)throw Error(xe(330));uu(Fe,U),Fe=Fe.nextEffect}while(Fe!==null);n_=null,Fe=r;do try{for(u=e;Fe!==null;){var S=Fe.flags;if(S&16&&h_(Fe.stateNode,""),S&128){var A=Fe.alternate;if(A!==null){var L=A.ref;L!==null&&(typeof L=="function"?L(null):L.current=null)}}switch(S&1038){case 2:fN(Fe),Fe.flags&=-3;break;case 6:fN(Fe),Fe.flags&=-3,nC(Fe.alternate,Fe);break;case 1024:Fe.flags&=-1025;break;case 1028:Fe.flags&=-1025,nC(Fe.alternate,Fe);break;case 4:nC(Fe.alternate,Fe);break;case 8:l=Fe,ZB(u,l);var P=l.alternate;uN(l),P!==null&&uN(P)}Fe=Fe.nextEffect}}catch(U){if(Fe===null)throw Error(xe(330));uu(Fe,U),Fe=Fe.nextEffect}while(Fe!==null);if(L=YS,A=SO(),S=L.focusedElem,u=L.selectionRange,A!==S&&S&&S.ownerDocument&&vB(S.ownerDocument.documentElement,S)){for(u!==null&&A2(S)&&(A=u.start,L=u.end,L===void 0&&(L=A),"selectionStart"in S?(S.selectionStart=A,S.selectionEnd=Math.min(L,S.value.length)):(L=(A=S.ownerDocument||document)&&A.defaultView||window,L.getSelection&&(L=L.getSelection(),l=S.textContent.length,P=Math.min(u.start,l),u=u.end===void 0?P:Math.min(u.end,l),!L.extend&&P>u&&(l=u,u=P,P=l),l=EO(S,P),a=EO(S,u),l&&a&&(L.rangeCount!==1||L.anchorNode!==l.node||L.anchorOffset!==l.offset||L.focusNode!==a.node||L.focusOffset!==a.offset)&&(A=A.createRange(),A.setStart(l.node,l.offset),L.removeAllRanges(),P>u?(L.addRange(A),L.extend(a.node,a.offset)):(A.setEnd(a.node,a.offset),L.addRange(A)))))),A=[],L=S;L=L.parentNode;)L.nodeType===1&&A.push({element:L,left:L.scrollLeft,top:L.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<A.length;S++)L=A[S],L.element.scrollLeft=L.left,L.element.scrollTop=L.top}um=!!qS,YS=qS=null,e.current=n,Fe=r;do try{for(S=e;Fe!==null;){var R=Fe.flags;if(R&36&&O8(S,Fe.alternate,Fe),R&128){A=void 0;var D=Fe.ref;if(D!==null){var $=Fe.stateNode;switch(Fe.tag){case 5:A=$;break;default:A=$}typeof D=="function"?D(A):D.current=A}}Fe=Fe.nextEffect}}catch(U){if(Fe===null)throw Error(xe(330));uu(Fe,U),Fe=Fe.nextEffect}while(Fe!==null);Fe=null,y8(),tt=i}else e.current=n;if(vu)vu=!1,e_=e,Gv=t;else for(Fe=r;Fe!==null;)t=Fe.nextEffect,Fe.nextEffect=null,Fe.flags&8&&(R=Fe,R.sibling=null,R.stateNode=null),Fe=t;if(r=e.pendingLanes,r===0&&(ca=null),r===1?e===Z2?t_++:(t_=0,Z2=e):t_=0,n=n.stateNode,_f&&typeof _f.onCommitFiberRoot=="function")try{_f.onCommitFiberRoot(uP,n,void 0,(n.current.flags&64)===64)}catch{}if(_o(e,Jr()),Qm)throw Qm=!1,e=q2,q2=null,e;return(tt&8)!==0||ba(),null}function D8(){for(;Fe!==null;){var e=Fe.alternate;vm||n_===null||((Fe.flags&8)!==0?fO(Fe,n_)&&(vm=!0):Fe.tag===13&&N8(e,Fe)&&fO(Fe,n_)&&(vm=!0));var t=Fe.flags;(t&256)!==0&&R8(e,Fe),(t&512)===0||vu||(vu=!0,x_(97,function(){return Su(),null})),Fe=Fe.nextEffect}}function Su(){if(Gv!==90){var e=97<Gv?97:Gv;return Gv=90,Ef(e,G8)}return!1}function M8(e,t){Y2.push(t,e),vu||(vu=!0,x_(97,function(){return Su(),null}))}function oU(e,t){K2.push(t,e),vu||(vu=!0,x_(97,function(){return Su(),null}))}function G8(){if(e_===null)return!1;var e=e_;if(e_=null,(tt&48)!==0)throw Error(xe(331));var t=tt;tt|=32;var n=K2;K2=[];for(var r=0;r<n.length;r+=2){var i=n[r],a=n[r+1],u=i.destroy;if(i.destroy=void 0,typeof u=="function")try{u()}catch(f){if(a===null)throw Error(xe(330));uu(a,f)}}for(n=Y2,Y2=[],r=0;r<n.length;r+=2){i=n[r],a=n[r+1];try{var l=i.create;i.destroy=l()}catch(f){if(a===null)throw Error(xe(330));uu(a,f)}}for(l=e.current.firstEffect;l!==null;)e=l.nextEffect,l.nextEffect=null,l.flags&8&&(l.sibling=null,l.stateNode=null),l=e;return tt=t,ba(),!0}function hN(e,t,n){t=xP(n,t),t=YB(e,t,1),ou(e,t),t=qi(),e=j0(e,1),e!==null&&(B0(e,1,t),_o(e,t))}function uu(e,t){if(e.tag===3)hN(e,e,t);else for(var n=e.return;n!==null;){if(n.tag===3){hN(n,e,t);break}else if(n.tag===1){var r=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ca===null||!ca.has(r))){e=xP(t,e);var i=KB(n,e,1);if(ou(n,i),i=qi(),n=j0(n,1),n!==null)B0(n,1,i),_o(n,i);else if(typeof r.componentDidCatch=="function"&&(ca===null||!ca.has(r)))try{r.componentDidCatch(t,e)}catch{}break}}n=n.return}}function $8(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=qi(),e.pingedLanes|=e.suspendedLanes&n,di===e&&(Qr&n)===n&&(Dr===4||Dr===3&&(Qr&62914560)===Qr&&500>Jr()-TP?Fc(e,0):wP|=n),_o(e,t)}function H8(e,t){var n=e.stateNode;n!==null&&n.delete(t),t=0,t===0&&(t=e.mode,(t&2)===0?t=1:(t&4)===0?t=Yc()===99?1:2:(Es===0&&(Es=vh),t=lc(62914560&~Es),t===0&&(t=4194304))),n=qi(),e=j0(e,t),e!==null&&(B0(e,t,n),_o(e,n))}var aU;aU=function(e,t,n){var r=t.lanes;if(e!==null)if(e.memoizedProps!==t.pendingProps||wi.current)qo=!0;else if((n&r)!==0)qo=(e.flags&16384)!==0;else{switch(qo=!1,t.tag){case 3:JO(t),QS();break;case 5:WO(t);break;case 1:Ti(t.type)&&cm(t);break;case 4:B2(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;Un($m,i._currentValue),i._currentValue=r;break;case 13:if(t.memoizedState!==null)return(n&t.child.childLanes)!==0?QO(e,t,n):(Un(Bn,Bn.current&1),t=Is(e,t,n),t!==null?t.sibling:null);Un(Bn,Bn.current&1);break;case 19:if(r=(n&t.childLanes)!==0,(e.flags&64)!==0){if(r)return iN(e,t,n);t.flags|=64}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Un(Bn,Bn.current),r)break;return null;case 23:case 24:return t.lanes=0,eC(e,t,n)}return Is(e,t,n)}else qo=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=qc(t,ti.current),Nc(t,n),i=_P(null,t,r,e,i,n),t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ti(r)){var a=!0;cm(t)}else a=!1;t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,hP(t);var u=r.getDerivedStateFromProps;typeof u=="function"&&jm(t,r,u,e),i.updater=H0,t.stateNode=i,i._reactInternals=t,F2(t,r,e,n),t=G2(null,t,r,!0,a,n)}else t.tag=0,yi(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,a=i._init,i=a(i._payload),t.type=i,a=t.tag=j8(i),e=zo(i,e),a){case 0:t=M2(null,t,i,e,n);break e;case 1:t=ZO(null,t,i,e,n);break e;case 11:t=YO(null,t,i,e,n);break e;case 14:t=KO(null,t,i,zo(i.type,e),r,n);break e}throw Error(xe(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:zo(r,i),M2(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:zo(r,i),ZO(e,t,r,i,n);case 3:if(JO(t),r=t.updateQueue,e===null||r===null)throw Error(xe(282));if(r=t.pendingProps,i=t.memoizedState,i=i!==null?i.element:null,OB(e,t),b_(t,r,null,n),r=t.memoizedState.element,r===i)QS(),t=Is(e,t,n);else{if(i=t.stateNode,(a=i.hydrate)&&(Ys=Oc(t.stateNode.containerInfo.firstChild),Cs=t,a=_a=!0),a){if(e=i.mutableSourceEagerHydrationData,e!=null)for(i=0;i<e.length;i+=2)a=e[i],a._workInProgressVersionPrimary=e[i+1],Lc.push(a);for(n=FB(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|1024,n=n.sibling}else yi(e,t,r,n),QS();t=t.child}return t;case 5:return WO(t),e===null&&U2(t),r=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,u=i.children,O2(r,i)?u=null:a!==null&&O2(r,a)&&(t.flags|=16),zB(e,t),yi(e,t,u,n),t.child;case 6:return e===null&&U2(t),null;case 13:return QO(e,t,n);case 4:return B2(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=zm(t,null,r,n):yi(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:zo(r,i),YO(e,t,r,i,n);case 7:return yi(e,t,t.pendingProps,n),t.child;case 8:return yi(e,t,t.pendingProps.children,n),t.child;case 12:return yi(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,u=t.memoizedProps,a=i.value;var l=t.type._context;if(Un($m,l._currentValue),l._currentValue=a,u!==null)if(l=u.value,a=uo(l,a)?0:(typeof r._calculateChangedBits=="function"?r._calculateChangedBits(l,a):1073741823)|0,a===0){if(u.children===i.children&&!wi.current){t=Is(e,t,n);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var f=l.dependencies;if(f!==null){u=l.child;for(var h=f.firstContext;h!==null;){if(h.context===r&&(h.observedBits&a)!==0){l.tag===1&&(h=iu(-1,n&-n),h.tag=2,ou(l,h)),l.lanes|=n,h=l.alternate,h!==null&&(h.lanes|=n),RB(l.return,n),f.lanes|=n;break}h=h.next}}else u=l.tag===10&&l.type===t.type?null:l.child;if(u!==null)u.return=l;else for(u=l;u!==null;){if(u===t){u=null;break}if(l=u.sibling,l!==null){l.return=u.return,u=l;break}u=u.return}l=u}yi(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,a=t.pendingProps,r=a.children,Nc(t,n),i=vo(i,a.unstable_observedBits),r=r(i),t.flags|=1,yi(e,t,r,n),t.child;case 14:return i=t.type,a=zo(i,t.pendingProps),a=zo(i.type,a),KO(e,t,i,a,r,n);case 15:return jB(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:zo(r,i),e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Ti(r)?(e=!0,cm(t)):e=!1,Nc(t,n),LB(t,r,i),F2(t,r,i,n),G2(null,t,r,!0,e,n);case 19:return iN(e,t,n);case 23:return eC(e,t,n);case 24:return eC(e,t,n)}throw Error(xe(156,t.tag))};function W8(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function lo(e,t,n,r){return new W8(e,t,n,r)}function SP(e){return e=e.prototype,!(!e||!e.isReactComponent)}function j8(e){if(typeof e=="function")return SP(e)?1:0;if(e!=null){if(e=e.$$typeof,e===L0)return 11;if(e===k0)return 14}return 2}function _u(e,t){var n=e.alternate;return n===null?(n=lo(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function _m(e,t,n,r,i,a){var u=2;if(r=e,typeof e=="function")SP(e)&&(u=1);else if(typeof e=="string")u=5;else e:switch(e){case zs:return Bc(n.children,i,a,t);case BF:u=8,i|=16;break;case $A:u=8,i|=1;break;case zv:return e=lo(12,n,t,i|8),e.elementType=zv,e.type=zv,e.lanes=a,e;case Xv:return e=lo(13,n,t,i),e.type=Xv,e.elementType=Xv,e.lanes=a,e;case Nm:return e=lo(19,n,t,i),e.elementType=Nm,e.lanes=a,e;case VA:return CP(n,i,a,t);case d2:return e=lo(24,n,t,i),e.elementType=d2,e.lanes=a,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case HA:u=10;break e;case WA:u=9;break e;case L0:u=11;break e;case k0:u=14;break e;case jA:u=16,r=null;break e;case zA:u=22;break e}throw Error(xe(130,e==null?e:typeof e,""))}return t=lo(u,n,t,i),t.elementType=e,t.type=r,t.lanes=a,t}function Bc(e,t,n,r){return e=lo(7,e,r,t),e.lanes=n,e}function CP(e,t,n,r){return e=lo(23,e,r,t),e.elementType=VA,e.lanes=n,e}function rC(e,t,n){return e=lo(6,e,null,t),e.lanes=n,e}function iC(e,t,n){return t=lo(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function z8(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=$S(0),this.expirationTimes=$S(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$S(0),this.mutableSourceEagerHydrationData=null}function X8(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ff,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function e0(e,t,n,r){var i=t.current,a=qi(),u=au(i);e:if(n){n=n._reactInternals;t:{if(Uf(n)!==n||n.tag!==1)throw Error(xe(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(Ti(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(l!==null);throw Error(xe(171))}if(n.tag===1){var f=n.type;if(Ti(f)){n=TB(n,f,l);break e}}n=l}else n=pu;return t.context===null?t.context=n:t.pendingContext=n,t=iu(a,u),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),ou(i,t),su(i,u,a),u}function oC(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function dN(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function IP(e,t){dN(e,t),(e=e.alternate)&&dN(e,t)}function V8(){return null}function AP(e,t,n){var r=n!=null&&n.hydrationOptions!=null&&n.hydrationOptions.mutableSources||null;if(n=new z8(e,t,n!=null&&n.hydrate===!0),t=lo(3,null,null,t===2?7:t===1?3:0),n.current=t,t.stateNode=n,hP(t),e[ph]=n.current,mB(e.nodeType===8?e.parentNode:e),r)for(e=0;e<r.length;e++){t=r[e];var i=t._getVersion;i=i(t._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}AP.prototype.render=function(e){e0(e,this._internalRoot,null,null)};AP.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;e0(null,e,null,function(){t[ph]=null})};function tg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function q8(e,t){if(t||(t=e?e.nodeType===9?e.documentElement:e.firstChild:null,t=!(!t||t.nodeType!==1||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new AP(e,0,t?{hydrate:!0}:void 0)}function z0(e,t,n,r,i){var a=n._reactRootContainer;if(a){var u=a._internalRoot;if(typeof i=="function"){var l=i;i=function(){var h=oC(u);l.call(h)}}e0(t,u,e,i)}else{if(a=n._reactRootContainer=q8(n,r),u=a._internalRoot,typeof i=="function"){var f=i;i=function(){var h=oC(u);f.call(h)}}eU(function(){e0(t,u,e,i)})}return oC(u)}ZF=function(e){if(e.tag===13){var t=qi();su(e,4,t),IP(e,4)}};JA=function(e){if(e.tag===13){var t=qi();su(e,67108864,t),IP(e,67108864)}};JF=function(e){if(e.tag===13){var t=qi(),n=au(e);su(e,n,t),IP(e,n)}};QF=function(e,t){return t()};T2=function(e,t,n){switch(t){case"input":if(v2(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=G0(r);if(!i)throw Error(xe(90));DF(r),v2(r,i)}}}break;case"textarea":GF(e,n);break;case"select":t=n.value,t!=null&&Ac(e,!!n.multiple,t,!1)}};YA=QB;VF=function(e,t,n,r,i){var a=tt;tt|=4;try{return Ef(98,e.bind(null,t,n,r,i))}finally{tt=a,tt===0&&(gh(),ba())}};KA=function(){(tt&49)===0&&(k8(),Su())};qF=function(e,t){var n=tt;tt|=2;try{return e(t)}finally{tt=n,tt===0&&(gh(),ba())}};function sU(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!tg(t))throw Error(xe(200));return X8(e,t,null,n)}var Y8={Events:[J_,vc,G0,zF,XF,Su,{current:!1}]},Tv={findFiberByHostInstance:hf,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},K8={bundleType:Tv.bundleType,version:Tv.version,rendererPackageName:Tv.rendererPackageName,rendererConfig:Tv.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Bf.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=KF(e),e===null?null:e.stateNode},findFiberByHostInstance:Tv.findFiberByHostInstance||V8,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var Ag=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ag.isDisabled&&Ag.supportsFiber)try{uP=Ag.inject(K8),_f=Ag}catch{}}yo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y8;yo.createPortal=sU;yo.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(xe(188)):Error(xe(268,Object.keys(e)));return e=KF(t),e=e===null?null:e.stateNode,e};yo.flushSync=function(e,t){var n=tt;if((n&48)!==0)return e(t);tt|=1;try{if(e)return Ef(99,e.bind(null,t))}finally{tt=n,ba()}};yo.hydrate=function(e,t,n){if(!tg(t))throw Error(xe(200));return z0(null,e,t,!0,n)};yo.render=function(e,t,n){if(!tg(t))throw Error(xe(200));return z0(null,e,t,!1,n)};yo.unmountComponentAtNode=function(e){if(!tg(e))throw Error(xe(40));return e._reactRootContainer?(eU(function(){z0(null,null,e,!1,function(){e._reactRootContainer=null,e[ph]=null})}),!0):!1};yo.unstable_batchedUpdates=QB;yo.unstable_createPortal=function(e,t){return sU(e,t,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};yo.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!tg(n))throw Error(xe(200));if(e==null||e._reactInternals===void 0)throw Error(xe(38));return z0(e,t,n,!1,r)};yo.version="17.0.2";function uU(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(uU)}catch(e){console.error(e)}}uU(),UA.exports=yo;var Cf=UA.exports;const Z8="_Title_main_1gh0b_2",J8="_Title_buttonList_1gh0b_9",Q8="_Title_button_1gh0b_9",eG="_Title_button_text_1gh0b_42",tG="_Title_button_text_up_1gh0b_51",nG="_Title_backup_background_1gh0b_57";var Pn={Title_main:Z8,Title_buttonList:J8,Title_button:Q8,Title_button_text:eG,Title_button_text_up:tG,Title_backup_background:nG};function Vo(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function gu(e){return!!e&&!!e[wn]}function mu(e){return!!e&&(function(t){if(!t||typeof t!="object")return!1;var n=Object.getPrototypeOf(t);if(n===null)return!0;var r=Object.hasOwnProperty.call(n,"constructor")&&n.constructor;return r===Object||typeof r=="function"&&Function.toString.call(r)===cG}(e)||Array.isArray(e)||!!e[xN]||!!e.constructor[xN]||PP(e)||RP(e))}function If(e,t,n){n===void 0&&(n=!1),mh(e)===0?(n?Object.keys:Dc)(e).forEach(function(r){n&&typeof r=="symbol"||t(r,e[r],e)}):e.forEach(function(r,i){return t(i,r,e)})}function mh(e){var t=e[wn];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:PP(e)?2:RP(e)?3:0}function Uc(e,t){return mh(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function rG(e,t){return mh(e)===2?e.get(t):e[t]}function lU(e,t,n){var r=mh(e);r===2?e.set(t,n):r===3?(e.delete(t),e.add(n)):e[t]=n}function fU(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function PP(e){return lG&&e instanceof Map}function RP(e){return fG&&e instanceof Set}function tf(e){return e.o||e.t}function OP(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=hU(e);delete t[wn];for(var n=Dc(t),r=0;r<n.length;r++){var i=n[r],a=t[i];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function NP(e,t){return t===void 0&&(t=!1),LP(e)||gu(e)||!mu(e)||(mh(e)>1&&(e.set=e.add=e.clear=e.delete=iG),Object.freeze(e),t&&If(e,function(n,r){return NP(r,!0)},!0)),e}function iG(){Vo(2)}function LP(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function ga(e){var t=nI[e];return t||Vo(18,e),t}function oG(e,t){nI[e]||(nI[e]=t)}function Q2(){return S_}function aC(e,t){t&&(ga("Patches"),e.u=[],e.s=[],e.v=t)}function t0(e){eI(e),e.p.forEach(aG),e.p=null}function eI(e){e===S_&&(S_=e.l)}function pN(e){return S_={p:[],l:S_,h:e,m:!0,_:0}}function aG(e){var t=e[wn];t.i===0||t.i===1?t.j():t.O=!0}function sC(e,t){t._=t.p.length;var n=t.p[0],r=e!==void 0&&e!==n;return t.h.g||ga("ES5").S(t,e,r),r?(n[wn].P&&(t0(t),Vo(4)),mu(e)&&(e=n0(t,e),t.l||r0(t,e)),t.u&&ga("Patches").M(n[wn].t,e,t.u,t.s)):e=n0(t,n,[]),t0(t),t.u&&t.v(t.u,t.s),e!==cU?e:void 0}function n0(e,t,n){if(LP(t))return t;var r=t[wn];if(!r)return If(t,function(a,u){return vN(e,r,t,a,u,n)},!0),t;if(r.A!==e)return t;if(!r.P)return r0(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=OP(r.k):r.o;If(r.i===3?new Set(i):i,function(a,u){return vN(e,r,i,a,u,n)}),r0(e,i,!1),n&&e.u&&ga("Patches").R(r,n,e.u,e.s)}return r.o}function vN(e,t,n,r,i,a){if(gu(i)){var u=n0(e,i,a&&t&&t.i!==3&&!Uc(t.D,r)?a.concat(r):void 0);if(lU(n,r,u),!gu(u))return;e.m=!1}if(mu(i)&&!LP(i)){if(!e.h.F&&e._<1)return;n0(e,i),t&&t.A.l||r0(e,i)}}function r0(e,t,n){n===void 0&&(n=!1),e.h.F&&e.m&&NP(t,n)}function uC(e,t){var n=e[wn];return(n?tf(n):e)[t]}function _N(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function Xs(e){e.P||(e.P=!0,e.l&&Xs(e.l))}function lC(e){e.o||(e.o=OP(e.t))}function tI(e,t,n){var r=PP(t)?ga("MapSet").N(t,n):RP(t)?ga("MapSet").T(t,n):e.g?function(i,a){var u=Array.isArray(i),l={i:u?1:0,A:a?a.A:Q2(),P:!1,I:!1,D:{},l:a,t:i,k:null,o:null,j:null,C:!1},f=l,h=C_;u&&(f=[l],h=Hv);var d=Proxy.revocable(f,h),v=d.revoke,_=d.proxy;return l.k=_,l.j=v,_}(t,n):ga("ES5").J(t,n);return(n?n.A:Q2()).p.push(r),r}function sG(e){return gu(e)||Vo(22,e),function t(n){if(!mu(n))return n;var r,i=n[wn],a=mh(n);if(i){if(!i.P&&(i.i<4||!ga("ES5").K(i)))return i.t;i.I=!0,r=gN(n,a),i.I=!1}else r=gN(n,a);return If(r,function(u,l){i&&rG(i.t,u)===l||lU(r,u,t(l))}),a===3?new Set(r):r}(e)}function gN(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return OP(e)}function uG(){function e(a,u){var l=i[a];return l?l.enumerable=u:i[a]=l={configurable:!0,enumerable:u,get:function(){var f=this[wn];return C_.get(f,a)},set:function(f){var h=this[wn];C_.set(h,a,f)}},l}function t(a){for(var u=a.length-1;u>=0;u--){var l=a[u][wn];if(!l.P)switch(l.i){case 5:r(l)&&Xs(l);break;case 4:n(l)&&Xs(l)}}}function n(a){for(var u=a.t,l=a.k,f=Dc(l),h=f.length-1;h>=0;h--){var d=f[h];if(d!==wn){var v=u[d];if(v===void 0&&!Uc(u,d))return!0;var _=l[d],g=_&&_[wn];if(g?g.t!==v:!fU(_,v))return!0}}var x=!!u[wn];return f.length!==Dc(u).length+(x?0:1)}function r(a){var u=a.k;if(u.length!==a.t.length)return!0;var l=Object.getOwnPropertyDescriptor(u,u.length-1);if(l&&!l.get)return!0;for(var f=0;f<u.length;f++)if(!u.hasOwnProperty(f))return!0;return!1}var i={};oG("ES5",{J:function(a,u){var l=Array.isArray(a),f=function(d,v){if(d){for(var _=Array(v.length),g=0;g<v.length;g++)Object.defineProperty(_,""+g,e(g,!0));return _}var x=hU(v);delete x[wn];for(var b=Dc(x),y=0;y<b.length;y++){var E=b[y];x[E]=e(E,d||!!x[E].enumerable)}return Object.create(Object.getPrototypeOf(v),x)}(l,a),h={i:l?5:4,A:u?u.A:Q2(),P:!1,I:!1,D:{},l:u,t:a,k:f,o:null,O:!1,C:!1};return Object.defineProperty(f,wn,{value:h,writable:!0}),f},S:function(a,u,l){l?gu(u)&&u[wn].A===a&&t(a.p):(a.u&&function f(h){if(h&&typeof h=="object"){var d=h[wn];if(d){var v=d.t,_=d.k,g=d.D,x=d.i;if(x===4)If(_,function(A){A!==wn&&(v[A]!==void 0||Uc(v,A)?g[A]||f(_[A]):(g[A]=!0,Xs(d)))}),If(v,function(A){_[A]!==void 0||Uc(_,A)||(g[A]=!1,Xs(d))});else if(x===5){if(r(d)&&(Xs(d),g.length=!0),_.length<v.length)for(var b=_.length;b<v.length;b++)g[b]=!1;else for(var y=v.length;y<_.length;y++)g[y]=!0;for(var E=Math.min(_.length,v.length),S=0;S<E;S++)_.hasOwnProperty(S)||(g[S]=!0),g[S]===void 0&&f(_[S])}}}}(a.p[0]),t(a.p))},K:function(a){return a.i===4?n(a):r(a)}})}var mN,S_,kP=typeof Symbol!="undefined"&&typeof Symbol("x")=="symbol",lG=typeof Map!="undefined",fG=typeof Set!="undefined",yN=typeof Proxy!="undefined"&&Proxy.revocable!==void 0&&typeof Reflect!="undefined",cU=kP?Symbol.for("immer-nothing"):((mN={})["immer-nothing"]=!0,mN),xN=kP?Symbol.for("immer-draftable"):"__$immer_draftable",wn=kP?Symbol.for("immer-state"):"__$immer_state",cG=""+Object.prototype.constructor,Dc=typeof Reflect!="undefined"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,hU=Object.getOwnPropertyDescriptors||function(e){var t={};return Dc(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},nI={},C_={get:function(e,t){if(t===wn)return e;var n=tf(e);if(!Uc(n,t))return function(i,a,u){var l,f=_N(a,u);return f?"value"in f?f.value:(l=f.get)===null||l===void 0?void 0:l.call(i.k):void 0}(e,n,t);var r=n[t];return e.I||!mu(r)?r:r===uC(e.t,t)?(lC(e),e.o[t]=tI(e.A.h,r,e)):r},has:function(e,t){return t in tf(e)},ownKeys:function(e){return Reflect.ownKeys(tf(e))},set:function(e,t,n){var r=_N(tf(e),t);if(r!=null&&r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=uC(tf(e),t),a=i==null?void 0:i[wn];if(a&&a.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(fU(n,i)&&(n!==void 0||Uc(e.t,t)))return!0;lC(e),Xs(e)}return e.o[t]===n&&typeof n!="number"&&(n!==void 0||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return uC(e.t,t)!==void 0||t in e.t?(e.D[t]=!1,lC(e),Xs(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=tf(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty:function(){Vo(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){Vo(12)}},Hv={};If(C_,function(e,t){Hv[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),Hv.deleteProperty=function(e,t){return Hv.set.call(this,e,t,void 0)},Hv.set=function(e,t,n){return C_.set.call(this,e[0],t,n,e[0])};var hG=function(){function e(n){var r=this;this.g=yN,this.F=!0,this.produce=function(i,a,u){if(typeof i=="function"&&typeof a!="function"){var l=a;a=i;var f=r;return function(b){var y=this;b===void 0&&(b=l);for(var E=arguments.length,S=Array(E>1?E-1:0),A=1;A<E;A++)S[A-1]=arguments[A];return f.produce(b,function(L){var P;return(P=a).call.apply(P,[y,L].concat(S))})}}var h;if(typeof a!="function"&&Vo(6),u!==void 0&&typeof u!="function"&&Vo(7),mu(i)){var d=pN(r),v=tI(r,i,void 0),_=!0;try{h=a(v),_=!1}finally{_?t0(d):eI(d)}return typeof Promise!="undefined"&&h instanceof Promise?h.then(function(b){return aC(d,u),sC(b,d)},function(b){throw t0(d),b}):(aC(d,u),sC(h,d))}if(!i||typeof i!="object"){if((h=a(i))===void 0&&(h=i),h===cU&&(h=void 0),r.F&&NP(h,!0),u){var g=[],x=[];ga("Patches").M(i,h,g,x),u(g,x)}return h}Vo(21,i)},this.produceWithPatches=function(i,a){if(typeof i=="function")return function(h){for(var d=arguments.length,v=Array(d>1?d-1:0),_=1;_<d;_++)v[_-1]=arguments[_];return r.produceWithPatches(h,function(g){return i.apply(void 0,[g].concat(v))})};var u,l,f=r.produce(i,a,function(h,d){u=h,l=d});return typeof Promise!="undefined"&&f instanceof Promise?f.then(function(h){return[h,u,l]}):[f,u,l]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){mu(n)||Vo(8),gu(n)&&(n=sG(n));var r=pN(this),i=tI(this,n,void 0);return i[wn].C=!0,eI(r),i},t.finishDraft=function(n,r){var i=n&&n[wn],a=i.A;return aC(a,r),sC(void 0,a)},t.setAutoFreeze=function(n){this.F=n},t.setUseProxies=function(n){n&&!yN&&Vo(20),this.g=n},t.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var a=r[i];if(a.path.length===0&&a.op==="replace"){n=a.value;break}}i>-1&&(r=r.slice(i+1));var u=ga("Patches").$;return gu(n)?u(n,r):this.produce(n,function(l){return u(l,r)})},e}(),Ki=new hG,dG=Ki.produce;Ki.produceWithPatches.bind(Ki);Ki.setAutoFreeze.bind(Ki);Ki.setUseProxies.bind(Ki);Ki.applyPatches.bind(Ki);Ki.createDraft.bind(Ki);Ki.finishDraft.bind(Ki);var gm=dG;function pG(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bN(Object(n),!0).forEach(function(r){pG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Xr(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var TN=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),fC=function(){return Math.random().toString(36).substring(7).split("").join(".")},i0={INIT:"@@redux/INIT"+fC(),REPLACE:"@@redux/REPLACE"+fC(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+fC()}};function vG(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function dU(e,t,n){var r;if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Xr(0));if(typeof t=="function"&&typeof n=="undefined"&&(n=t,t=void 0),typeof n!="undefined"){if(typeof n!="function")throw new Error(Xr(1));return n(dU)(e,t)}if(typeof e!="function")throw new Error(Xr(2));var i=e,a=t,u=[],l=u,f=!1;function h(){l===u&&(l=u.slice())}function d(){if(f)throw new Error(Xr(3));return a}function v(b){if(typeof b!="function")throw new Error(Xr(4));if(f)throw new Error(Xr(5));var y=!0;return h(),l.push(b),function(){if(!!y){if(f)throw new Error(Xr(6));y=!1,h();var S=l.indexOf(b);l.splice(S,1),u=null}}}function _(b){if(!vG(b))throw new Error(Xr(7));if(typeof b.type=="undefined")throw new Error(Xr(8));if(f)throw new Error(Xr(9));try{f=!0,a=i(a,b)}finally{f=!1}for(var y=u=l,E=0;E<y.length;E++){var S=y[E];S()}return b}function g(b){if(typeof b!="function")throw new Error(Xr(10));i=b,_({type:i0.REPLACE})}function x(){var b,y=v;return b={subscribe:function(S){if(typeof S!="object"||S===null)throw new Error(Xr(11));function A(){S.next&&S.next(d())}A();var L=y(A);return{unsubscribe:L}}},b[TN]=function(){return this},b}return _({type:i0.INIT}),r={dispatch:_,subscribe:v,getState:d,replaceReducer:g},r[TN]=x,r}function _G(e){Object.keys(e).forEach(function(t){var n=e[t],r=n(void 0,{type:i0.INIT});if(typeof r=="undefined")throw new Error(Xr(12));if(typeof n(void 0,{type:i0.PROBE_UNKNOWN_ACTION()})=="undefined")throw new Error(Xr(13))})}function gG(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];typeof e[i]=="function"&&(n[i]=e[i])}var a=Object.keys(n),u;try{_G(n)}catch(l){u=l}return function(f,h){if(f===void 0&&(f={}),u)throw u;for(var d=!1,v={},_=0;_<a.length;_++){var g=a[_],x=n[g],b=f[g],y=x(b,h);if(typeof y=="undefined")throw h&&h.type,new Error(Xr(14));v[g]=y,d=d||y!==b}return d=d||a.length!==Object.keys(f).length,d?v:f}}function o0(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length===0?function(r){return r}:t.length===1?t[0]:t.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function mG(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),a=function(){throw new Error(Xr(15))},u={getState:i.getState,dispatch:function(){return a.apply(void 0,arguments)}},l=t.map(function(f){return f(u)});return a=o0.apply(void 0,l)(i.dispatch),wN(wN({},i),{},{dispatch:a})}}}function pU(e){var t=function(r){var i=r.dispatch,a=r.getState;return function(u){return function(l){return typeof l=="function"?l(i,a,e):u(l)}}};return t}var vU=pU();vU.withExtraArgument=pU;var EN=vU,yG=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();globalThis&&globalThis.__generator;var a0=globalThis&&globalThis.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},xG=Object.defineProperty,SN=Object.getOwnPropertySymbols,bG=Object.prototype.hasOwnProperty,wG=Object.prototype.propertyIsEnumerable,CN=function(e,t,n){return t in e?xG(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},I_=function(e,t){for(var n in t||(t={}))bG.call(t,n)&&CN(e,n,t[n]);if(SN)for(var r=0,i=SN(t);r<i.length;r++){var n=i[r];wG.call(t,n)&&CN(e,n,t[n])}return e},TG=typeof window!="undefined"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?o0:o0.apply(null,arguments)};function EG(e){if(typeof e!="object"||e===null)return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(var n=t;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return t===n}var SG=function(e){yG(t,e);function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.prototype.concat.apply(this,n)},t.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(t.bind.apply(t,a0([void 0],n[0].concat(this)))):new(t.bind.apply(t,a0([void 0],n.concat(this))))},t}(Array);function CG(e){return typeof e=="boolean"}function IG(){return function(t){return AG(t)}}function AG(e){e===void 0&&(e={});var t=e.thunk,n=t===void 0?!0:t;e.immutableCheck,e.serializableCheck;var r=new SG;return n&&(CG(n)?r.push(EN):r.push(EN.withExtraArgument(n.extraArgument))),r}var PG=!0;function RG(e){var t=IG(),n=e||{},r=n.reducer,i=r===void 0?void 0:r,a=n.middleware,u=a===void 0?t():a,l=n.devTools,f=l===void 0?!0:l,h=n.preloadedState,d=h===void 0?void 0:h,v=n.enhancers,_=v===void 0?void 0:v,g;if(typeof i=="function")g=i;else if(EG(i))g=gG(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var x=u;typeof x=="function"&&(x=x(t));var b=mG.apply(void 0,x),y=o0;f&&(y=TG(I_({trace:!PG},typeof f=="object"&&f)));var E=[b];Array.isArray(_)?E=a0([b],_):typeof _=="function"&&(E=_(E));var S=y.apply(void 0,E);return dU(g,d,S)}function A_(e,t){function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(t){var a=t.apply(void 0,r);if(!a)throw new Error("prepareAction did not return an object");return I_(I_({type:e,payload:a.payload},"meta"in a&&{meta:a.meta}),"error"in a&&{error:a.error})}return{type:e,payload:r[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(r){return r.type===e},n}function _U(e){var t={},n=[],r,i={addCase:function(a,u){var l=typeof a=="string"?a:a.type;if(l in t)throw new Error("addCase cannot be called with two reducers for the same action type");return t[l]=u,i},addMatcher:function(a,u){return n.push({matcher:a,reducer:u}),i},addDefaultCase:function(a){return r=a,i}};return e(i),[t,n,r]}function OG(e){return typeof e=="function"}function NG(e,t,n,r){n===void 0&&(n=[]);var i=typeof t=="function"?_U(t):[t,n,r],a=i[0],u=i[1],l=i[2],f;if(OG(e))f=function(){return gm(e(),function(){})};else{var h=gm(e,function(){});f=function(){return h}}function d(v,_){v===void 0&&(v=f());var g=a0([a[_.type]],u.filter(function(x){var b=x.matcher;return b(_)}).map(function(x){var b=x.reducer;return b}));return g.filter(function(x){return!!x}).length===0&&(g=[l]),g.reduce(function(x,b){if(b)if(gu(x)){var y=x,E=b(y,_);return typeof E=="undefined"?x:E}else{if(mu(x))return gm(x,function(S){return b(S,_)});var E=b(x,_);if(typeof E=="undefined"){if(x===null)return x;throw Error("A case reducer on a non-draftable value must not return undefined")}return E}return x},v)}return d.getInitialState=f,d}function LG(e,t){return e+"/"+t}function FP(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var n=typeof e.initialState=="function"?e.initialState:gm(e.initialState,function(){}),r=e.reducers||{},i=Object.keys(r),a={},u={},l={};i.forEach(function(d){var v=r[d],_=LG(t,d),g,x;"reducer"in v?(g=v.reducer,x=v.prepare):g=v,a[d]=g,u[_]=g,l[d]=x?A_(_,x):A_(_)});function f(){var d=typeof e.extraReducers=="function"?_U(e.extraReducers):[e.extraReducers],v=d[0],_=v===void 0?{}:v,g=d[1],x=g===void 0?[]:g,b=d[2],y=b===void 0?void 0:b,E=I_(I_({},_),u);return NG(n,E,x,y)}var h;return{name:t,reducer:function(d,v){return h||(h=f()),h(d,v)},actions:l,caseReducers:a,getInitialState:function(){return h||(h=f()),h.getInitialState()}}}var BP="listenerMiddleware";A_(BP+"/add");A_(BP+"/removeAll");A_(BP+"/remove");uG();function kG(){this.__data__=[],this.size=0}var FG=kG;function BG(e,t){return e===t||e!==e&&t!==t}var gU=BG,UG=gU;function DG(e,t){for(var n=e.length;n--;)if(UG(e[n][0],t))return n;return-1}var X0=DG,MG=X0,GG=Array.prototype,$G=GG.splice;function HG(e){var t=this.__data__,n=MG(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():$G.call(t,n,1),--this.size,!0}var WG=HG,jG=X0;function zG(e){var t=this.__data__,n=jG(t,e);return n<0?void 0:t[n][1]}var XG=zG,VG=X0;function qG(e){return VG(this.__data__,e)>-1}var YG=qG,KG=X0;function ZG(e,t){var n=this.__data__,r=KG(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var JG=ZG,QG=FG,e9=WG,t9=XG,n9=YG,r9=JG;function yh(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}yh.prototype.clear=QG;yh.prototype.delete=e9;yh.prototype.get=t9;yh.prototype.has=n9;yh.prototype.set=r9;var V0=yh,i9=V0;function o9(){this.__data__=new i9,this.size=0}var a9=o9;function s9(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var u9=s9;function l9(e){return this.__data__.get(e)}var f9=l9;function c9(e){return this.__data__.has(e)}var h9=c9,d9=typeof Kr=="object"&&Kr&&Kr.Object===Object&&Kr,mU=d9,p9=mU,v9=typeof self=="object"&&self&&self.Object===Object&&self,_9=p9||v9||Function("return this")(),Qo=_9,g9=Qo,m9=g9.Symbol,UP=m9,IN=UP,yU=Object.prototype,y9=yU.hasOwnProperty,x9=yU.toString,Ev=IN?IN.toStringTag:void 0;function b9(e){var t=y9.call(e,Ev),n=e[Ev];try{e[Ev]=void 0;var r=!0}catch{}var i=x9.call(e);return r&&(t?e[Ev]=n:delete e[Ev]),i}var w9=b9,T9=Object.prototype,E9=T9.toString;function S9(e){return E9.call(e)}var C9=S9,AN=UP,I9=w9,A9=C9,P9="[object Null]",R9="[object Undefined]",PN=AN?AN.toStringTag:void 0;function O9(e){return e==null?e===void 0?R9:P9:PN&&PN in Object(e)?I9(e):A9(e)}var ng=O9;function N9(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Cu=N9,L9=ng,k9=Cu,F9="[object AsyncFunction]",B9="[object Function]",U9="[object GeneratorFunction]",D9="[object Proxy]";function M9(e){if(!k9(e))return!1;var t=L9(e);return t==B9||t==U9||t==F9||t==D9}var xU=M9,G9=Qo,$9=G9["__core-js_shared__"],H9=$9,cC=H9,RN=function(){var e=/[^.]+$/.exec(cC&&cC.keys&&cC.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function W9(e){return!!RN&&RN in e}var j9=W9,z9=Function.prototype,X9=z9.toString;function V9(e){if(e!=null){try{return X9.call(e)}catch{}try{return e+""}catch{}}return""}var bU=V9,q9=xU,Y9=j9,K9=Cu,Z9=bU,J9=/[\\^$.*+?()[\]{}|]/g,Q9=/^\[object .+?Constructor\]$/,e$=Function.prototype,t$=Object.prototype,n$=e$.toString,r$=t$.hasOwnProperty,i$=RegExp("^"+n$.call(r$).replace(J9,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function o$(e){if(!K9(e)||Y9(e))return!1;var t=q9(e)?i$:Q9;return t.test(Z9(e))}var a$=o$;function s$(e,t){return e==null?void 0:e[t]}var u$=s$,l$=a$,f$=u$;function c$(e,t){var n=f$(e,t);return l$(n)?n:void 0}var Mf=c$,h$=Mf,d$=Qo,p$=h$(d$,"Map"),DP=p$,v$=Mf,_$=v$(Object,"create"),q0=_$,ON=q0;function g$(){this.__data__=ON?ON(null):{},this.size=0}var m$=g$;function y$(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var x$=y$,b$=q0,w$="__lodash_hash_undefined__",T$=Object.prototype,E$=T$.hasOwnProperty;function S$(e){var t=this.__data__;if(b$){var n=t[e];return n===w$?void 0:n}return E$.call(t,e)?t[e]:void 0}var C$=S$,I$=q0,A$=Object.prototype,P$=A$.hasOwnProperty;function R$(e){var t=this.__data__;return I$?t[e]!==void 0:P$.call(t,e)}var O$=R$,N$=q0,L$="__lodash_hash_undefined__";function k$(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=N$&&t===void 0?L$:t,this}var F$=k$,B$=m$,U$=x$,D$=C$,M$=O$,G$=F$;function xh(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}xh.prototype.clear=B$;xh.prototype.delete=U$;xh.prototype.get=D$;xh.prototype.has=M$;xh.prototype.set=G$;var $$=xh,NN=$$,H$=V0,W$=DP;function j$(){this.size=0,this.__data__={hash:new NN,map:new(W$||H$),string:new NN}}var z$=j$;function X$(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var V$=X$,q$=V$;function Y$(e,t){var n=e.__data__;return q$(t)?n[typeof t=="string"?"string":"hash"]:n.map}var Y0=Y$,K$=Y0;function Z$(e){var t=K$(this,e).delete(e);return this.size-=t?1:0,t}var J$=Z$,Q$=Y0;function eH(e){return Q$(this,e).get(e)}var tH=eH,nH=Y0;function rH(e){return nH(this,e).has(e)}var iH=rH,oH=Y0;function aH(e,t){var n=oH(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var sH=aH,uH=z$,lH=J$,fH=tH,cH=iH,hH=sH;function bh(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}bh.prototype.clear=uH;bh.prototype.delete=lH;bh.prototype.get=fH;bh.prototype.has=cH;bh.prototype.set=hH;var wU=bh,dH=V0,pH=DP,vH=wU,_H=200;function gH(e,t){var n=this.__data__;if(n instanceof dH){var r=n.__data__;if(!pH||r.length<_H-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new vH(r)}return n.set(e,t),this.size=n.size,this}var mH=gH,yH=V0,xH=a9,bH=u9,wH=f9,TH=h9,EH=mH;function wh(e){var t=this.__data__=new yH(e);this.size=t.size}wh.prototype.clear=xH;wh.prototype.delete=bH;wh.prototype.get=wH;wh.prototype.has=TH;wh.prototype.set=EH;var SH=wh;function CH(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var IH=CH,AH=Mf,PH=function(){try{var e=AH(Object,"defineProperty");return e({},"",{}),e}catch{}}(),RH=PH,LN=RH;function OH(e,t,n){t=="__proto__"&&LN?LN(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var TU=OH,NH=TU,LH=gU,kH=Object.prototype,FH=kH.hasOwnProperty;function BH(e,t,n){var r=e[t];(!(FH.call(e,t)&&LH(r,n))||n===void 0&&!(t in e))&&NH(e,t,n)}var EU=BH,UH=EU,DH=TU;function MH(e,t,n,r){var i=!n;n||(n={});for(var a=-1,u=t.length;++a<u;){var l=t[a],f=r?r(n[l],e[l],l,n,e):void 0;f===void 0&&(f=e[l]),i?DH(n,l,f):UH(n,l,f)}return n}var K0=MH;function GH(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var $H=GH;function HH(e){return e!=null&&typeof e=="object"}var Th=HH,WH=ng,jH=Th,zH="[object Arguments]";function XH(e){return jH(e)&&WH(e)==zH}var VH=XH,kN=VH,qH=Th,SU=Object.prototype,YH=SU.hasOwnProperty,KH=SU.propertyIsEnumerable,ZH=kN(function(){return arguments}())?kN:function(e){return qH(e)&&YH.call(e,"callee")&&!KH.call(e,"callee")},JH=ZH,QH=Array.isArray,MP=QH,s0={exports:{}};function e7(){return!1}var t7=e7;(function(e,t){var n=Qo,r=t7,i=t&&!t.nodeType&&t,a=i&&!0&&e&&!e.nodeType&&e,u=a&&a.exports===i,l=u?n.Buffer:void 0,f=l?l.isBuffer:void 0,h=f||r;e.exports=h})(s0,s0.exports);var n7=9007199254740991,r7=/^(?:0|[1-9]\d*)$/;function i7(e,t){var n=typeof e;return t=t==null?n7:t,!!t&&(n=="number"||n!="symbol"&&r7.test(e))&&e>-1&&e%1==0&&e<t}var o7=i7,a7=9007199254740991;function s7(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=a7}var CU=s7,u7=ng,l7=CU,f7=Th,c7="[object Arguments]",h7="[object Array]",d7="[object Boolean]",p7="[object Date]",v7="[object Error]",_7="[object Function]",g7="[object Map]",m7="[object Number]",y7="[object Object]",x7="[object RegExp]",b7="[object Set]",w7="[object String]",T7="[object WeakMap]",E7="[object ArrayBuffer]",S7="[object DataView]",C7="[object Float32Array]",I7="[object Float64Array]",A7="[object Int8Array]",P7="[object Int16Array]",R7="[object Int32Array]",O7="[object Uint8Array]",N7="[object Uint8ClampedArray]",L7="[object Uint16Array]",k7="[object Uint32Array]",gn={};gn[C7]=gn[I7]=gn[A7]=gn[P7]=gn[R7]=gn[O7]=gn[N7]=gn[L7]=gn[k7]=!0;gn[c7]=gn[h7]=gn[E7]=gn[d7]=gn[S7]=gn[p7]=gn[v7]=gn[_7]=gn[g7]=gn[m7]=gn[y7]=gn[x7]=gn[b7]=gn[w7]=gn[T7]=!1;function F7(e){return f7(e)&&l7(e.length)&&!!gn[u7(e)]}var B7=F7;function U7(e){return function(t){return e(t)}}var GP=U7,P_={exports:{}};(function(e,t){var n=mU,r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===r,u=a&&n.process,l=function(){try{var f=i&&i.require&&i.require("util").types;return f||u&&u.binding&&u.binding("util")}catch{}}();e.exports=l})(P_,P_.exports);var D7=B7,M7=GP,FN=P_.exports,BN=FN&&FN.isTypedArray,G7=BN?M7(BN):D7,$7=G7,H7=$H,W7=JH,j7=MP,z7=s0.exports,X7=o7,V7=$7,q7=Object.prototype,Y7=q7.hasOwnProperty;function K7(e,t){var n=j7(e),r=!n&&W7(e),i=!n&&!r&&z7(e),a=!n&&!r&&!i&&V7(e),u=n||r||i||a,l=u?H7(e.length,String):[],f=l.length;for(var h in e)(t||Y7.call(e,h))&&!(u&&(h=="length"||i&&(h=="offset"||h=="parent")||a&&(h=="buffer"||h=="byteLength"||h=="byteOffset")||X7(h,f)))&&l.push(h);return l}var IU=K7,Z7=Object.prototype;function J7(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||Z7;return e===n}var $P=J7;function Q7(e,t){return function(n){return e(t(n))}}var AU=Q7,eW=AU,tW=eW(Object.keys,Object),nW=tW,rW=$P,iW=nW,oW=Object.prototype,aW=oW.hasOwnProperty;function sW(e){if(!rW(e))return iW(e);var t=[];for(var n in Object(e))aW.call(e,n)&&n!="constructor"&&t.push(n);return t}var uW=sW,lW=xU,fW=CU;function cW(e){return e!=null&&fW(e.length)&&!lW(e)}var PU=cW,hW=IU,dW=uW,pW=PU;function vW(e){return pW(e)?hW(e):dW(e)}var HP=vW,_W=K0,gW=HP;function mW(e,t){return e&&_W(t,gW(t),e)}var yW=mW;function xW(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var bW=xW,wW=Cu,TW=$P,EW=bW,SW=Object.prototype,CW=SW.hasOwnProperty;function IW(e){if(!wW(e))return EW(e);var t=TW(e),n=[];for(var r in e)r=="constructor"&&(t||!CW.call(e,r))||n.push(r);return n}var AW=IW,PW=IU,RW=AW,OW=PU;function NW(e){return OW(e)?PW(e,!0):RW(e)}var WP=NW,LW=K0,kW=WP;function FW(e,t){return e&&LW(t,kW(t),e)}var BW=FW,rI={exports:{}};(function(e,t){var n=Qo,r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===r,u=a?n.Buffer:void 0,l=u?u.allocUnsafe:void 0;function f(h,d){if(d)return h.slice();var v=h.length,_=l?l(v):new h.constructor(v);return h.copy(_),_}e.exports=f})(rI,rI.exports);function UW(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var DW=UW;function MW(e,t){for(var n=-1,r=e==null?0:e.length,i=0,a=[];++n<r;){var u=e[n];t(u,n,e)&&(a[i++]=u)}return a}var GW=MW;function $W(){return[]}var RU=$W,HW=GW,WW=RU,jW=Object.prototype,zW=jW.propertyIsEnumerable,UN=Object.getOwnPropertySymbols,XW=UN?function(e){return e==null?[]:(e=Object(e),HW(UN(e),function(t){return zW.call(e,t)}))}:WW,jP=XW,VW=K0,qW=jP;function YW(e,t){return VW(e,qW(e),t)}var KW=YW;function ZW(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var OU=ZW,JW=AU,QW=JW(Object.getPrototypeOf,Object),NU=QW,ej=OU,tj=NU,nj=jP,rj=RU,ij=Object.getOwnPropertySymbols,oj=ij?function(e){for(var t=[];e;)ej(t,nj(e)),e=tj(e);return t}:rj,LU=oj,aj=K0,sj=LU;function uj(e,t){return aj(e,sj(e),t)}var lj=uj,fj=OU,cj=MP;function hj(e,t,n){var r=t(e);return cj(e)?r:fj(r,n(e))}var kU=hj,dj=kU,pj=jP,vj=HP;function _j(e){return dj(e,vj,pj)}var gj=_j,mj=kU,yj=LU,xj=WP;function bj(e){return mj(e,xj,yj)}var wj=bj,Tj=Mf,Ej=Qo,Sj=Tj(Ej,"DataView"),Cj=Sj,Ij=Mf,Aj=Qo,Pj=Ij(Aj,"Promise"),Rj=Pj,Oj=Mf,Nj=Qo,Lj=Oj(Nj,"Set"),FU=Lj,kj=Mf,Fj=Qo,Bj=kj(Fj,"WeakMap"),Uj=Bj,iI=Cj,oI=DP,aI=Rj,sI=FU,uI=Uj,BU=ng,Eh=bU,DN="[object Map]",Dj="[object Object]",MN="[object Promise]",GN="[object Set]",$N="[object WeakMap]",HN="[object DataView]",Mj=Eh(iI),Gj=Eh(oI),$j=Eh(aI),Hj=Eh(sI),Wj=Eh(uI),nf=BU;(iI&&nf(new iI(new ArrayBuffer(1)))!=HN||oI&&nf(new oI)!=DN||aI&&nf(aI.resolve())!=MN||sI&&nf(new sI)!=GN||uI&&nf(new uI)!=$N)&&(nf=function(e){var t=BU(e),n=t==Dj?e.constructor:void 0,r=n?Eh(n):"";if(r)switch(r){case Mj:return HN;case Gj:return DN;case $j:return MN;case Hj:return GN;case Wj:return $N}return t});var zP=nf,jj=Object.prototype,zj=jj.hasOwnProperty;function Xj(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&zj.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var Vj=Xj,qj=Qo,Yj=qj.Uint8Array,Kj=Yj,WN=Kj;function Zj(e){var t=new e.constructor(e.byteLength);return new WN(t).set(new WN(e)),t}var XP=Zj,Jj=XP;function Qj(e,t){var n=t?Jj(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var ez=Qj,tz=/\w*$/;function nz(e){var t=new e.constructor(e.source,tz.exec(e));return t.lastIndex=e.lastIndex,t}var rz=nz,jN=UP,zN=jN?jN.prototype:void 0,XN=zN?zN.valueOf:void 0;function iz(e){return XN?Object(XN.call(e)):{}}var oz=iz,az=XP;function sz(e,t){var n=t?az(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var uz=sz,lz=XP,fz=ez,cz=rz,hz=oz,dz=uz,pz="[object Boolean]",vz="[object Date]",_z="[object Map]",gz="[object Number]",mz="[object RegExp]",yz="[object Set]",xz="[object String]",bz="[object Symbol]",wz="[object ArrayBuffer]",Tz="[object DataView]",Ez="[object Float32Array]",Sz="[object Float64Array]",Cz="[object Int8Array]",Iz="[object Int16Array]",Az="[object Int32Array]",Pz="[object Uint8Array]",Rz="[object Uint8ClampedArray]",Oz="[object Uint16Array]",Nz="[object Uint32Array]";function Lz(e,t,n){var r=e.constructor;switch(t){case wz:return lz(e);case pz:case vz:return new r(+e);case Tz:return fz(e,n);case Ez:case Sz:case Cz:case Iz:case Az:case Pz:case Rz:case Oz:case Nz:return dz(e,n);case _z:return new r;case gz:case xz:return new r(e);case mz:return cz(e);case yz:return new r;case bz:return hz(e)}}var kz=Lz,Fz=Cu,VN=Object.create,Bz=function(){function e(){}return function(t){if(!Fz(t))return{};if(VN)return VN(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),Uz=Bz,Dz=Uz,Mz=NU,Gz=$P;function $z(e){return typeof e.constructor=="function"&&!Gz(e)?Dz(Mz(e)):{}}var Hz=$z,Wz=zP,jz=Th,zz="[object Map]";function Xz(e){return jz(e)&&Wz(e)==zz}var Vz=Xz,qz=Vz,Yz=GP,qN=P_.exports,YN=qN&&qN.isMap,Kz=YN?Yz(YN):qz,Zz=Kz,Jz=zP,Qz=Th,eX="[object Set]";function tX(e){return Qz(e)&&Jz(e)==eX}var nX=tX,rX=nX,iX=GP,KN=P_.exports,ZN=KN&&KN.isSet,oX=ZN?iX(ZN):rX,aX=oX,sX=SH,uX=IH,lX=EU,fX=yW,cX=BW,hX=rI.exports,dX=DW,pX=KW,vX=lj,_X=gj,gX=wj,mX=zP,yX=Vj,xX=kz,bX=Hz,wX=MP,TX=s0.exports,EX=Zz,SX=Cu,CX=aX,IX=HP,AX=WP,PX=1,RX=2,OX=4,UU="[object Arguments]",NX="[object Array]",LX="[object Boolean]",kX="[object Date]",FX="[object Error]",DU="[object Function]",BX="[object GeneratorFunction]",UX="[object Map]",DX="[object Number]",MU="[object Object]",MX="[object RegExp]",GX="[object Set]",$X="[object String]",HX="[object Symbol]",WX="[object WeakMap]",jX="[object ArrayBuffer]",zX="[object DataView]",XX="[object Float32Array]",VX="[object Float64Array]",qX="[object Int8Array]",YX="[object Int16Array]",KX="[object Int32Array]",ZX="[object Uint8Array]",JX="[object Uint8ClampedArray]",QX="[object Uint16Array]",eV="[object Uint32Array]",on={};on[UU]=on[NX]=on[jX]=on[zX]=on[LX]=on[kX]=on[XX]=on[VX]=on[qX]=on[YX]=on[KX]=on[UX]=on[DX]=on[MU]=on[MX]=on[GX]=on[$X]=on[HX]=on[ZX]=on[JX]=on[QX]=on[eV]=!0;on[FX]=on[DU]=on[WX]=!1;function mm(e,t,n,r,i,a){var u,l=t&PX,f=t&RX,h=t&OX;if(n&&(u=i?n(e,r,i,a):n(e)),u!==void 0)return u;if(!SX(e))return e;var d=wX(e);if(d){if(u=yX(e),!l)return dX(e,u)}else{var v=mX(e),_=v==DU||v==BX;if(TX(e))return hX(e,l);if(v==MU||v==UU||_&&!i){if(u=f||_?{}:bX(e),!l)return f?vX(e,cX(u,e)):pX(e,fX(u,e))}else{if(!on[v])return i?e:{};u=xX(e,v,l)}}a||(a=new sX);var g=a.get(e);if(g)return g;a.set(e,u),CX(e)?e.forEach(function(y){u.add(mm(y,t,n,y,e,a))}):EX(e)&&e.forEach(function(y,E){u.set(E,mm(y,t,n,E,e,a))});var x=h?f?gX:_X:f?AX:IX,b=d?void 0:x(e);return uX(b||e,function(y,E){b&&(E=y,y=e[E]),lX(u,E,mm(y,t,n,E,e,a))}),u}var tV=mm,nV=tV,rV=1,iV=4;function oV(e){return nV(e,rV|iV)}var dr=oV;const GU={oldBgName:"",bgName:"",figName:"",figNameLeft:"",figNameRight:"",freeFigure:[],showText:"",showName:"",command:"",choose:[],vocal:"",bgm:"",miniAvatar:"",GameVar:{},effects:[],bgFilter:"",bgTransform:"",PerformList:[],currentDialogKey:"initial",currentConcatDialogPrev:"",enableFilm:"",isDisableTextbox:!1},$U=FP({name:"stage",initialState:dr(GU),reducers:{resetStageState:(e,t)=>{Object.assign(e,t.payload)},setStage:(e,t)=>{e[t.payload.key]=t.payload.value},setStageVar:(e,t)=>{e.GameVar[t.payload.key]=t.payload.value}}}),{resetStageState:Sh,setStage:Tn,setStageVar:Sv}=$U.actions;var aV=$U.reducer,Ls={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(e,t){(function(n){e.exports=n()})(function(){return function n(r,i,a){function u(h,d){if(!i[h]){if(!r[h]){var v=typeof _g=="function"&&_g;if(!d&&v)return v(h,!0);if(l)return l(h,!0);var _=new Error("Cannot find module '"+h+"'");throw _.code="MODULE_NOT_FOUND",_}var g=i[h]={exports:{}};r[h][0].call(g.exports,function(x){var b=r[h][1][x];return u(b||x)},g,g.exports,n,r,i,a)}return i[h].exports}for(var l=typeof _g=="function"&&_g,f=0;f<a.length;f++)u(a[f]);return u}({1:[function(n,r,i){(function(a){var u=a.MutationObserver||a.WebKitMutationObserver,l;if(u){var f=0,h=new u(x),d=a.document.createTextNode("");h.observe(d,{characterData:!0}),l=function(){d.data=f=++f%2}}else if(!a.setImmediate&&typeof a.MessageChannel!="undefined"){var v=new a.MessageChannel;v.port1.onmessage=x,l=function(){v.port2.postMessage(0)}}else"document"in a&&"onreadystatechange"in a.document.createElement("script")?l=function(){var y=a.document.createElement("script");y.onreadystatechange=function(){x(),y.onreadystatechange=null,y.parentNode.removeChild(y),y=null},a.document.documentElement.appendChild(y)}:l=function(){setTimeout(x,0)};var _,g=[];function x(){_=!0;for(var y,E,S=g.length;S;){for(E=g,g=[],y=-1;++y<S;)E[y]();S=g.length}_=!1}r.exports=b;function b(y){g.push(y)===1&&!_&&l()}}).call(this,typeof Kr!="undefined"?Kr:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],2:[function(n,r,i){var a=n(1);function u(){}var l={},f=["REJECTED"],h=["FULFILLED"],d=["PENDING"];r.exports=v;function v(P){if(typeof P!="function")throw new TypeError("resolver must be a function");this.state=d,this.queue=[],this.outcome=void 0,P!==u&&b(this,P)}v.prototype.catch=function(P){return this.then(null,P)},v.prototype.then=function(P,R){if(typeof P!="function"&&this.state===h||typeof R!="function"&&this.state===f)return this;var D=new this.constructor(u);if(this.state!==d){var $=this.state===h?P:R;g(D,$,this.outcome)}else this.queue.push(new _(D,P,R));return D};function _(P,R,D){this.promise=P,typeof R=="function"&&(this.onFulfilled=R,this.callFulfilled=this.otherCallFulfilled),typeof D=="function"&&(this.onRejected=D,this.callRejected=this.otherCallRejected)}_.prototype.callFulfilled=function(P){l.resolve(this.promise,P)},_.prototype.otherCallFulfilled=function(P){g(this.promise,this.onFulfilled,P)},_.prototype.callRejected=function(P){l.reject(this.promise,P)},_.prototype.otherCallRejected=function(P){g(this.promise,this.onRejected,P)};function g(P,R,D){a(function(){var $;try{$=R(D)}catch(U){return l.reject(P,U)}$===P?l.reject(P,new TypeError("Cannot resolve promise with itself")):l.resolve(P,$)})}l.resolve=function(P,R){var D=y(x,R);if(D.status==="error")return l.reject(P,D.value);var $=D.value;if($)b(P,$);else{P.state=h,P.outcome=R;for(var U=-1,K=P.queue.length;++U<K;)P.queue[U].callFulfilled(R)}return P},l.reject=function(P,R){P.state=f,P.outcome=R;for(var D=-1,$=P.queue.length;++D<$;)P.queue[D].callRejected(R);return P};function x(P){var R=P&&P.then;if(P&&(typeof P=="object"||typeof P=="function")&&typeof R=="function")return function(){R.apply(P,arguments)}}function b(P,R){var D=!1;function $(re){D||(D=!0,l.reject(P,re))}function U(re){D||(D=!0,l.resolve(P,re))}function K(){R(U,$)}var ie=y(K);ie.status==="error"&&$(ie.value)}function y(P,R){var D={};try{D.value=P(R),D.status="success"}catch($){D.status="error",D.value=$}return D}v.resolve=E;function E(P){return P instanceof this?P:l.resolve(new this(u),P)}v.reject=S;function S(P){var R=new this(u);return l.reject(R,P)}v.all=A;function A(P){var R=this;if(Object.prototype.toString.call(P)!=="[object Array]")return this.reject(new TypeError("must be an array"));var D=P.length,$=!1;if(!D)return this.resolve([]);for(var U=new Array(D),K=0,ie=-1,re=new this(u);++ie<D;)ve(P[ie],ie);return re;function ve(Ge,ae){R.resolve(Ge).then(ce,function(me){$||($=!0,l.reject(re,me))});function ce(me){U[ae]=me,++K===D&&!$&&($=!0,l.resolve(re,U))}}}v.race=L;function L(P){var R=this;if(Object.prototype.toString.call(P)!=="[object Array]")return this.reject(new TypeError("must be an array"));var D=P.length,$=!1;if(!D)return this.resolve([]);for(var U=-1,K=new this(u);++U<D;)ie(P[U]);return K;function ie(re){R.resolve(re).then(function(ve){$||($=!0,l.resolve(K,ve))},function(ve){$||($=!0,l.reject(K,ve))})}}},{"1":1}],3:[function(n,r,i){(function(a){typeof a.Promise!="function"&&(a.Promise=n(2))}).call(this,typeof Kr!="undefined"?Kr:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"2":2}],4:[function(n,r,i){var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(k){return typeof k}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k};function u(k,j){if(!(k instanceof j))throw new TypeError("Cannot call a class as a function")}function l(){try{if(typeof indexedDB!="undefined")return indexedDB;if(typeof webkitIndexedDB!="undefined")return webkitIndexedDB;if(typeof mozIndexedDB!="undefined")return mozIndexedDB;if(typeof OIndexedDB!="undefined")return OIndexedDB;if(typeof msIndexedDB!="undefined")return msIndexedDB}catch{return}}var f=l();function h(){try{if(!f||!f.open)return!1;var k=typeof openDatabase!="undefined"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),j=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!k||j)&&typeof indexedDB!="undefined"&&typeof IDBKeyRange!="undefined"}catch{return!1}}function d(k,j){k=k||[],j=j||{};try{return new Blob(k,j)}catch(X){if(X.name!=="TypeError")throw X;for(var F=typeof BlobBuilder!="undefined"?BlobBuilder:typeof MSBlobBuilder!="undefined"?MSBlobBuilder:typeof MozBlobBuilder!="undefined"?MozBlobBuilder:WebKitBlobBuilder,V=new F,q=0;q<k.length;q+=1)V.append(k[q]);return V.getBlob(j.type)}}typeof Promise=="undefined"&&n(3);var v=Promise;function _(k,j){j&&k.then(function(F){j(null,F)},function(F){j(F)})}function g(k,j,F){typeof j=="function"&&k.then(j),typeof F=="function"&&k.catch(F)}function x(k){return typeof k!="string"&&(console.warn(k+" used as a key, but it is not a string."),k=String(k)),k}function b(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var y="local-forage-detect-blob-support",E=void 0,S={},A=Object.prototype.toString,L="readonly",P="readwrite";function R(k){for(var j=k.length,F=new ArrayBuffer(j),V=new Uint8Array(F),q=0;q<j;q++)V[q]=k.charCodeAt(q);return F}function D(k){return new v(function(j){var F=k.transaction(y,P),V=d([""]);F.objectStore(y).put(V,"key"),F.onabort=function(q){q.preventDefault(),q.stopPropagation(),j(!1)},F.oncomplete=function(){var q=navigator.userAgent.match(/Chrome\/(\d+)/),X=navigator.userAgent.match(/Edge\//);j(X||!q||parseInt(q[1],10)>=43)}}).catch(function(){return!1})}function $(k){return typeof E=="boolean"?v.resolve(E):D(k).then(function(j){return E=j,E})}function U(k){var j=S[k.name],F={};F.promise=new v(function(V,q){F.resolve=V,F.reject=q}),j.deferredOperations.push(F),j.dbReady?j.dbReady=j.dbReady.then(function(){return F.promise}):j.dbReady=F.promise}function K(k){var j=S[k.name],F=j.deferredOperations.pop();if(F)return F.resolve(),F.promise}function ie(k,j){var F=S[k.name],V=F.deferredOperations.pop();if(V)return V.reject(j),V.promise}function re(k,j){return new v(function(F,V){if(S[k.name]=S[k.name]||ue(),k.db)if(j)U(k),k.db.close();else return F(k.db);var q=[k.name];j&&q.push(k.version);var X=f.open.apply(f,q);j&&(X.onupgradeneeded=function(ee){var oe=X.result;try{oe.createObjectStore(k.storeName),ee.oldVersion<=1&&oe.createObjectStore(y)}catch(pe){if(pe.name==="ConstraintError")console.warn('The database "'+k.name+'" has been upgraded from version '+ee.oldVersion+" to version "+ee.newVersion+', but the storage "'+k.storeName+'" already exists.');else throw pe}}),X.onerror=function(ee){ee.preventDefault(),V(X.error)},X.onsuccess=function(){var ee=X.result;ee.onversionchange=function(oe){oe.target.close()},F(ee),K(k)}})}function ve(k){return re(k,!1)}function Ge(k){return re(k,!0)}function ae(k,j){if(!k.db)return!0;var F=!k.db.objectStoreNames.contains(k.storeName),V=k.version<k.db.version,q=k.version>k.db.version;if(V&&(k.version!==j&&console.warn('The database "'+k.name+`" can't be downgraded from version `+k.db.version+" to version "+k.version+"."),k.version=k.db.version),q||F){if(F){var X=k.db.version+1;X>k.version&&(k.version=X)}return!0}return!1}function ce(k){return new v(function(j,F){var V=new FileReader;V.onerror=F,V.onloadend=function(q){var X=btoa(q.target.result||"");j({__local_forage_encoded_blob:!0,data:X,type:k.type})},V.readAsBinaryString(k)})}function me(k){var j=R(atob(k.data));return d([j],{type:k.type})}function Oe(k){return k&&k.__local_forage_encoded_blob}function pt(k){var j=this,F=j._initReady().then(function(){var V=S[j._dbInfo.name];if(V&&V.dbReady)return V.dbReady});return g(F,k,k),F}function te(k){U(k);for(var j=S[k.name],F=j.forages,V=0;V<F.length;V++){var q=F[V];q._dbInfo.db&&(q._dbInfo.db.close(),q._dbInfo.db=null)}return k.db=null,ve(k).then(function(X){return k.db=X,ae(k)?Ge(k):X}).then(function(X){k.db=j.db=X;for(var ee=0;ee<F.length;ee++)F[ee]._dbInfo.db=X}).catch(function(X){throw ie(k,X),X})}function Y(k,j,F,V){V===void 0&&(V=1);try{var q=k.db.transaction(k.storeName,j);F(null,q)}catch(X){if(V>0&&(!k.db||X.name==="InvalidStateError"||X.name==="NotFoundError"))return v.resolve().then(function(){if(!k.db||X.name==="NotFoundError"&&!k.db.objectStoreNames.contains(k.storeName)&&k.version<=k.db.version)return k.db&&(k.version=k.db.version+1),Ge(k)}).then(function(){return te(k).then(function(){Y(k,j,F,V-1)})}).catch(F);F(X)}}function ue(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function Se(k){var j=this,F={db:null};if(k)for(var V in k)F[V]=k[V];var q=S[F.name];q||(q=ue(),S[F.name]=q),q.forages.push(j),j._initReady||(j._initReady=j.ready,j.ready=pt);var X=[];function ee(){return v.resolve()}for(var oe=0;oe<q.forages.length;oe++){var pe=q.forages[oe];pe!==j&&X.push(pe._initReady().catch(ee))}var de=q.forages.slice(0);return v.all(X).then(function(){return F.db=q.db,ve(F)}).then(function(_e){return F.db=_e,ae(F,j._defaultConfig.version)?Ge(F):_e}).then(function(_e){F.db=q.db=_e,j._dbInfo=F;for(var Le=0;Le<de.length;Le++){var lt=de[Le];lt!==j&&(lt._dbInfo.db=F.db,lt._dbInfo.version=F.version)}})}function ke(k,j){var F=this;k=x(k);var V=new v(function(q,X){F.ready().then(function(){Y(F._dbInfo,L,function(ee,oe){if(ee)return X(ee);try{var pe=oe.objectStore(F._dbInfo.storeName),de=pe.get(k);de.onsuccess=function(){var _e=de.result;_e===void 0&&(_e=null),Oe(_e)&&(_e=me(_e)),q(_e)},de.onerror=function(){X(de.error)}}catch(_e){X(_e)}})}).catch(X)});return _(V,j),V}function Be(k,j){var F=this,V=new v(function(q,X){F.ready().then(function(){Y(F._dbInfo,L,function(ee,oe){if(ee)return X(ee);try{var pe=oe.objectStore(F._dbInfo.storeName),de=pe.openCursor(),_e=1;de.onsuccess=function(){var Le=de.result;if(Le){var lt=Le.value;Oe(lt)&&(lt=me(lt));var wt=k(lt,Le.key,_e++);wt!==void 0?q(wt):Le.continue()}else q()},de.onerror=function(){X(de.error)}}catch(Le){X(Le)}})}).catch(X)});return _(V,j),V}function Qe(k,j,F){var V=this;k=x(k);var q=new v(function(X,ee){var oe;V.ready().then(function(){return oe=V._dbInfo,A.call(j)==="[object Blob]"?$(oe.db).then(function(pe){return pe?j:ce(j)}):j}).then(function(pe){Y(V._dbInfo,P,function(de,_e){if(de)return ee(de);try{var Le=_e.objectStore(V._dbInfo.storeName);pe===null&&(pe=void 0);var lt=Le.put(pe,k);_e.oncomplete=function(){pe===void 0&&(pe=null),X(pe)},_e.onabort=_e.onerror=function(){var wt=lt.error?lt.error:lt.transaction.error;ee(wt)}}catch(wt){ee(wt)}})}).catch(ee)});return _(q,F),q}function It(k,j){var F=this;k=x(k);var V=new v(function(q,X){F.ready().then(function(){Y(F._dbInfo,P,function(ee,oe){if(ee)return X(ee);try{var pe=oe.objectStore(F._dbInfo.storeName),de=pe.delete(k);oe.oncomplete=function(){q()},oe.onerror=function(){X(de.error)},oe.onabort=function(){var _e=de.error?de.error:de.transaction.error;X(_e)}}catch(_e){X(_e)}})}).catch(X)});return _(V,j),V}function mt(k){var j=this,F=new v(function(V,q){j.ready().then(function(){Y(j._dbInfo,P,function(X,ee){if(X)return q(X);try{var oe=ee.objectStore(j._dbInfo.storeName),pe=oe.clear();ee.oncomplete=function(){V()},ee.onabort=ee.onerror=function(){var de=pe.error?pe.error:pe.transaction.error;q(de)}}catch(de){q(de)}})}).catch(q)});return _(F,k),F}function ot(k){var j=this,F=new v(function(V,q){j.ready().then(function(){Y(j._dbInfo,L,function(X,ee){if(X)return q(X);try{var oe=ee.objectStore(j._dbInfo.storeName),pe=oe.count();pe.onsuccess=function(){V(pe.result)},pe.onerror=function(){q(pe.error)}}catch(de){q(de)}})}).catch(q)});return _(F,k),F}function Yt(k,j){var F=this,V=new v(function(q,X){if(k<0){q(null);return}F.ready().then(function(){Y(F._dbInfo,L,function(ee,oe){if(ee)return X(ee);try{var pe=oe.objectStore(F._dbInfo.storeName),de=!1,_e=pe.openKeyCursor();_e.onsuccess=function(){var Le=_e.result;if(!Le){q(null);return}k===0||de?q(Le.key):(de=!0,Le.advance(k))},_e.onerror=function(){X(_e.error)}}catch(Le){X(Le)}})}).catch(X)});return _(V,j),V}function ft(k){var j=this,F=new v(function(V,q){j.ready().then(function(){Y(j._dbInfo,L,function(X,ee){if(X)return q(X);try{var oe=ee.objectStore(j._dbInfo.storeName),pe=oe.openKeyCursor(),de=[];pe.onsuccess=function(){var _e=pe.result;if(!_e){V(de);return}de.push(_e.key),_e.continue()},pe.onerror=function(){q(pe.error)}}catch(_e){q(_e)}})}).catch(q)});return _(F,k),F}function yt(k,j){j=b.apply(this,arguments);var F=this.config();k=typeof k!="function"&&k||{},k.name||(k.name=k.name||F.name,k.storeName=k.storeName||F.storeName);var V=this,q;if(!k.name)q=v.reject("Invalid arguments");else{var X=k.name===F.name&&V._dbInfo.db,ee=X?v.resolve(V._dbInfo.db):ve(k).then(function(oe){var pe=S[k.name],de=pe.forages;pe.db=oe;for(var _e=0;_e<de.length;_e++)de[_e]._dbInfo.db=oe;return oe});k.storeName?q=ee.then(function(oe){if(!!oe.objectStoreNames.contains(k.storeName)){var pe=oe.version+1;U(k);var de=S[k.name],_e=de.forages;oe.close();for(var Le=0;Le<_e.length;Le++){var lt=_e[Le];lt._dbInfo.db=null,lt._dbInfo.version=pe}var wt=new v(function(xt,jt){var Tt=f.open(k.name,pe);Tt.onerror=function(vr){var So=Tt.result;So.close(),jt(vr)},Tt.onupgradeneeded=function(){var vr=Tt.result;vr.deleteObjectStore(k.storeName)},Tt.onsuccess=function(){var vr=Tt.result;vr.close(),xt(vr)}});return wt.then(function(xt){de.db=xt;for(var jt=0;jt<_e.length;jt++){var Tt=_e[jt];Tt._dbInfo.db=xt,K(Tt._dbInfo)}}).catch(function(xt){throw(ie(k,xt)||v.resolve()).catch(function(){}),xt})}}):q=ee.then(function(oe){U(k);var pe=S[k.name],de=pe.forages;oe.close();for(var _e=0;_e<de.length;_e++){var Le=de[_e];Le._dbInfo.db=null}var lt=new v(function(wt,xt){var jt=f.deleteDatabase(k.name);jt.onerror=function(){var Tt=jt.result;Tt&&Tt.close(),xt(jt.error)},jt.onblocked=function(){console.warn('dropInstance blocked for database "'+k.name+'" until all open connections are closed')},jt.onsuccess=function(){var Tt=jt.result;Tt&&Tt.close(),wt(Tt)}});return lt.then(function(wt){pe.db=wt;for(var xt=0;xt<de.length;xt++){var jt=de[xt];K(jt._dbInfo)}}).catch(function(wt){throw(ie(k,wt)||v.resolve()).catch(function(){}),wt})})}return _(q,j),q}var nt={_driver:"asyncStorage",_initStorage:Se,_support:h(),iterate:Be,getItem:ke,setItem:Qe,removeItem:It,clear:mt,length:ot,key:Yt,keys:ft,dropInstance:yt};function ut(){return typeof openDatabase=="function"}var vt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ht="~~local_forage_type~",Pt=/^~~local_forage_type~([^~]+)~/,wr="__lfsc__:",io=wr.length,pr="arbf",Dt="blob",Tr="si08",ni="ui08",Wf="uic8",_i="si16",jf="si32",gi="ur16",jr="ui32",ea="fl32",ta="fl64",na=io+pr.length,ra=Object.prototype.toString;function ia(k){var j=k.length*.75,F=k.length,V,q=0,X,ee,oe,pe;k[k.length-1]==="="&&(j--,k[k.length-2]==="="&&j--);var de=new ArrayBuffer(j),_e=new Uint8Array(de);for(V=0;V<F;V+=4)X=vt.indexOf(k[V]),ee=vt.indexOf(k[V+1]),oe=vt.indexOf(k[V+2]),pe=vt.indexOf(k[V+3]),_e[q++]=X<<2|ee>>4,_e[q++]=(ee&15)<<4|oe>>2,_e[q++]=(oe&3)<<6|pe&63;return de}function wo(k){var j=new Uint8Array(k),F="",V;for(V=0;V<j.length;V+=3)F+=vt[j[V]>>2],F+=vt[(j[V]&3)<<4|j[V+1]>>4],F+=vt[(j[V+1]&15)<<2|j[V+2]>>6],F+=vt[j[V+2]&63];return j.length%3===2?F=F.substring(0,F.length-1)+"=":j.length%3===1&&(F=F.substring(0,F.length-2)+"=="),F}function Ca(k,j){var F="";if(k&&(F=ra.call(k)),k&&(F==="[object ArrayBuffer]"||k.buffer&&ra.call(k.buffer)==="[object ArrayBuffer]")){var V,q=wr;k instanceof ArrayBuffer?(V=k,q+=pr):(V=k.buffer,F==="[object Int8Array]"?q+=Tr:F==="[object Uint8Array]"?q+=ni:F==="[object Uint8ClampedArray]"?q+=Wf:F==="[object Int16Array]"?q+=_i:F==="[object Uint16Array]"?q+=gi:F==="[object Int32Array]"?q+=jf:F==="[object Uint32Array]"?q+=jr:F==="[object Float32Array]"?q+=ea:F==="[object Float64Array]"?q+=ta:j(new Error("Failed to get type for BinaryArray"))),j(q+wo(V))}else if(F==="[object Blob]"){var X=new FileReader;X.onload=function(){var ee=ht+k.type+"~"+wo(this.result);j(wr+Dt+ee)},X.readAsArrayBuffer(k)}else try{j(JSON.stringify(k))}catch(ee){console.error("Couldn't convert value into a JSON string: ",k),j(null,ee)}}function Ia(k){if(k.substring(0,io)!==wr)return JSON.parse(k);var j=k.substring(na),F=k.substring(io,na),V;if(F===Dt&&Pt.test(j)){var q=j.match(Pt);V=q[1],j=j.substring(q[0].length)}var X=ia(j);switch(F){case pr:return X;case Dt:return d([X],{type:V});case Tr:return new Int8Array(X);case ni:return new Uint8Array(X);case Wf:return new Uint8ClampedArray(X);case _i:return new Int16Array(X);case gi:return new Uint16Array(X);case jf:return new Int32Array(X);case jr:return new Uint32Array(X);case ea:return new Float32Array(X);case ta:return new Float64Array(X);default:throw new Error("Unkown type: "+F)}}var To={serialize:Ca,deserialize:Ia,stringToBuffer:ia,bufferToString:wo};function zf(k,j,F,V){k.executeSql("CREATE TABLE IF NOT EXISTS "+j.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],F,V)}function Nh(k){var j=this,F={db:null};if(k)for(var V in k)F[V]=typeof k[V]!="string"?k[V].toString():k[V];var q=new v(function(X,ee){try{F.db=openDatabase(F.name,String(F.version),F.description,F.size)}catch(oe){return ee(oe)}F.db.transaction(function(oe){zf(oe,F,function(){j._dbInfo=F,X()},function(pe,de){ee(de)})},ee)});return F.serializer=To,q}function oo(k,j,F,V,q,X){k.executeSql(F,V,q,function(ee,oe){oe.code===oe.SYNTAX_ERR?ee.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[j.storeName],function(pe,de){de.rows.length?X(pe,oe):zf(pe,j,function(){pe.executeSql(F,V,q,X)},X)},X):X(ee,oe)},X)}function Ou(k,j){var F=this;k=x(k);var V=new v(function(q,X){F.ready().then(function(){var ee=F._dbInfo;ee.db.transaction(function(oe){oo(oe,ee,"SELECT * FROM "+ee.storeName+" WHERE key = ? LIMIT 1",[k],function(pe,de){var _e=de.rows.length?de.rows.item(0).value:null;_e&&(_e=ee.serializer.deserialize(_e)),q(_e)},function(pe,de){X(de)})})}).catch(X)});return _(V,j),V}function Nu(k,j){var F=this,V=new v(function(q,X){F.ready().then(function(){var ee=F._dbInfo;ee.db.transaction(function(oe){oo(oe,ee,"SELECT * FROM "+ee.storeName,[],function(pe,de){for(var _e=de.rows,Le=_e.length,lt=0;lt<Le;lt++){var wt=_e.item(lt),xt=wt.value;if(xt&&(xt=ee.serializer.deserialize(xt)),xt=k(xt,wt.key,lt+1),xt!==void 0){q(xt);return}}q()},function(pe,de){X(de)})})}).catch(X)});return _(V,j),V}function Xf(k,j,F,V){var q=this;k=x(k);var X=new v(function(ee,oe){q.ready().then(function(){j===void 0&&(j=null);var pe=j,de=q._dbInfo;de.serializer.serialize(j,function(_e,Le){Le?oe(Le):de.db.transaction(function(lt){oo(lt,de,"INSERT OR REPLACE INTO "+de.storeName+" (key, value) VALUES (?, ?)",[k,_e],function(){ee(pe)},function(wt,xt){oe(xt)})},function(lt){if(lt.code===lt.QUOTA_ERR){if(V>0){ee(Xf.apply(q,[k,pe,F,V-1]));return}oe(lt)}})})}).catch(oe)});return _(X,F),X}function Lh(k,j,F){return Xf.apply(this,[k,j,F,1])}function kh(k,j){var F=this;k=x(k);var V=new v(function(q,X){F.ready().then(function(){var ee=F._dbInfo;ee.db.transaction(function(oe){oo(oe,ee,"DELETE FROM "+ee.storeName+" WHERE key = ?",[k],function(){q()},function(pe,de){X(de)})})}).catch(X)});return _(V,j),V}function Fh(k){var j=this,F=new v(function(V,q){j.ready().then(function(){var X=j._dbInfo;X.db.transaction(function(ee){oo(ee,X,"DELETE FROM "+X.storeName,[],function(){V()},function(oe,pe){q(pe)})})}).catch(q)});return _(F,k),F}function Lu(k){var j=this,F=new v(function(V,q){j.ready().then(function(){var X=j._dbInfo;X.db.transaction(function(ee){oo(ee,X,"SELECT COUNT(key) as c FROM "+X.storeName,[],function(oe,pe){var de=pe.rows.item(0).c;V(de)},function(oe,pe){q(pe)})})}).catch(q)});return _(F,k),F}function Bh(k,j){var F=this,V=new v(function(q,X){F.ready().then(function(){var ee=F._dbInfo;ee.db.transaction(function(oe){oo(oe,ee,"SELECT key FROM "+ee.storeName+" WHERE id = ? LIMIT 1",[k+1],function(pe,de){var _e=de.rows.length?de.rows.item(0).key:null;q(_e)},function(pe,de){X(de)})})}).catch(X)});return _(V,j),V}function Uh(k){var j=this,F=new v(function(V,q){j.ready().then(function(){var X=j._dbInfo;X.db.transaction(function(ee){oo(ee,X,"SELECT key FROM "+X.storeName,[],function(oe,pe){for(var de=[],_e=0;_e<pe.rows.length;_e++)de.push(pe.rows.item(_e).key);V(de)},function(oe,pe){q(pe)})})}).catch(q)});return _(F,k),F}function Dh(k){return new v(function(j,F){k.transaction(function(V){V.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(q,X){for(var ee=[],oe=0;oe<X.rows.length;oe++)ee.push(X.rows.item(oe).name);j({db:k,storeNames:ee})},function(q,X){F(X)})},function(V){F(V)})})}function Aa(k,j){j=b.apply(this,arguments);var F=this.config();k=typeof k!="function"&&k||{},k.name||(k.name=k.name||F.name,k.storeName=k.storeName||F.storeName);var V=this,q;return k.name?q=new v(function(X){var ee;k.name===F.name?ee=V._dbInfo.db:ee=openDatabase(k.name,"","",0),k.storeName?X({db:ee,storeNames:[k.storeName]}):X(Dh(ee))}).then(function(X){return new v(function(ee,oe){X.db.transaction(function(pe){function de(wt){return new v(function(xt,jt){pe.executeSql("DROP TABLE IF EXISTS "+wt,[],function(){xt()},function(Tt,vr){jt(vr)})})}for(var _e=[],Le=0,lt=X.storeNames.length;Le<lt;Le++)_e.push(de(X.storeNames[Le]));v.all(_e).then(function(){ee()}).catch(function(wt){oe(wt)})},function(pe){oe(pe)})})}):q=v.reject("Invalid arguments"),_(q,j),q}var Mh={_driver:"webSQLStorage",_initStorage:Nh,_support:ut(),iterate:Nu,getItem:Ou,setItem:Lh,removeItem:kh,clear:Fh,length:Lu,key:Bh,keys:Uh,dropInstance:Aa};function Pa(){try{return typeof localStorage!="undefined"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function Vf(k,j){var F=k.name+"/";return k.storeName!==j.storeName&&(F+=k.storeName+"/"),F}function Gh(){var k="_localforage_support_test";try{return localStorage.setItem(k,!0),localStorage.removeItem(k),!1}catch{return!0}}function $h(){return!Gh()||localStorage.length>0}function Hh(k){var j=this,F={};if(k)for(var V in k)F[V]=k[V];return F.keyPrefix=Vf(k,j._defaultConfig),$h()?(j._dbInfo=F,F.serializer=To,v.resolve()):v.reject()}function Wh(k){var j=this,F=j.ready().then(function(){for(var V=j._dbInfo.keyPrefix,q=localStorage.length-1;q>=0;q--){var X=localStorage.key(q);X.indexOf(V)===0&&localStorage.removeItem(X)}});return _(F,k),F}function jh(k,j){var F=this;k=x(k);var V=F.ready().then(function(){var q=F._dbInfo,X=localStorage.getItem(q.keyPrefix+k);return X&&(X=q.serializer.deserialize(X)),X});return _(V,j),V}function zh(k,j){var F=this,V=F.ready().then(function(){for(var q=F._dbInfo,X=q.keyPrefix,ee=X.length,oe=localStorage.length,pe=1,de=0;de<oe;de++){var _e=localStorage.key(de);if(_e.indexOf(X)===0){var Le=localStorage.getItem(_e);if(Le&&(Le=q.serializer.deserialize(Le)),Le=k(Le,_e.substring(ee),pe++),Le!==void 0)return Le}}});return _(V,j),V}function Xh(k,j){var F=this,V=F.ready().then(function(){var q=F._dbInfo,X;try{X=localStorage.key(k)}catch{X=null}return X&&(X=X.substring(q.keyPrefix.length)),X});return _(V,j),V}function ku(k){var j=this,F=j.ready().then(function(){for(var V=j._dbInfo,q=localStorage.length,X=[],ee=0;ee<q;ee++){var oe=localStorage.key(ee);oe.indexOf(V.keyPrefix)===0&&X.push(oe.substring(V.keyPrefix.length))}return X});return _(F,k),F}function Vh(k){var j=this,F=j.keys().then(function(V){return V.length});return _(F,k),F}function qh(k,j){var F=this;k=x(k);var V=F.ready().then(function(){var q=F._dbInfo;localStorage.removeItem(q.keyPrefix+k)});return _(V,j),V}function Yh(k,j,F){var V=this;k=x(k);var q=V.ready().then(function(){j===void 0&&(j=null);var X=j;return new v(function(ee,oe){var pe=V._dbInfo;pe.serializer.serialize(j,function(de,_e){if(_e)oe(_e);else try{localStorage.setItem(pe.keyPrefix+k,de),ee(X)}catch(Le){(Le.name==="QuotaExceededError"||Le.name==="NS_ERROR_DOM_QUOTA_REACHED")&&oe(Le),oe(Le)}})})});return _(q,F),q}function Kh(k,j){if(j=b.apply(this,arguments),k=typeof k!="function"&&k||{},!k.name){var F=this.config();k.name=k.name||F.name,k.storeName=k.storeName||F.storeName}var V=this,q;return k.name?q=new v(function(X){k.storeName?X(Vf(k,V._defaultConfig)):X(k.name+"/")}).then(function(X){for(var ee=localStorage.length-1;ee>=0;ee--){var oe=localStorage.key(ee);oe.indexOf(X)===0&&localStorage.removeItem(oe)}}):q=v.reject("Invalid arguments"),_(q,j),q}var Zh={_driver:"localStorageWrapper",_initStorage:Hh,_support:Pa(),iterate:zh,getItem:jh,setItem:Yh,removeItem:qh,clear:Wh,length:Vh,key:Xh,keys:ku,dropInstance:Kh},Jh=function(j,F){return j===F||typeof j=="number"&&typeof F=="number"&&isNaN(j)&&isNaN(F)},Eo=function(j,F){for(var V=j.length,q=0;q<V;){if(Jh(j[q],F))return!0;q++}return!1},qf=Array.isArray||function(k){return Object.prototype.toString.call(k)==="[object Array]"},ri={},Yf={},oa={INDEXEDDB:nt,WEBSQL:Mh,LOCALSTORAGE:Zh},Qh=[oa.INDEXEDDB._driver,oa.WEBSQL._driver,oa.LOCALSTORAGE._driver],aa=["dropInstance"],Ra=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(aa),Fu={description:"",driver:Qh.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function ed(k,j){k[j]=function(){var F=arguments;return k.ready().then(function(){return k[j].apply(k,F)})}}function Bu(){for(var k=1;k<arguments.length;k++){var j=arguments[k];if(j)for(var F in j)j.hasOwnProperty(F)&&(qf(j[F])?arguments[0][F]=j[F].slice():arguments[0][F]=j[F])}return arguments[0]}var td=function(){function k(j){u(this,k);for(var F in oa)if(oa.hasOwnProperty(F)){var V=oa[F],q=V._driver;this[F]=q,ri[q]||this.defineDriver(V)}this._defaultConfig=Bu({},Fu),this._config=Bu({},this._defaultConfig,j),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return k.prototype.config=function(F){if((typeof F=="undefined"?"undefined":a(F))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var V in F){if(V==="storeName"&&(F[V]=F[V].replace(/\W/g,"_")),V==="version"&&typeof F[V]!="number")return new Error("Database version must be a number.");this._config[V]=F[V]}return"driver"in F&&F.driver?this.setDriver(this._config.driver):!0}else return typeof F=="string"?this._config[F]:this._config},k.prototype.defineDriver=function(F,V,q){var X=new v(function(ee,oe){try{var pe=F._driver,de=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!F._driver){oe(de);return}for(var _e=Ra.concat("_initStorage"),Le=0,lt=_e.length;Le<lt;Le++){var wt=_e[Le],xt=!Eo(aa,wt);if((xt||F[wt])&&typeof F[wt]!="function"){oe(de);return}}var jt=function(){for(var So=function(Mu){return function(){var rd=new Error("Method "+Mu+" is not implemented by the current driver"),Zf=v.reject(rd);return _(Zf,arguments[arguments.length-1]),Zf}},Uu=0,Du=aa.length;Uu<Du;Uu++){var Oa=aa[Uu];F[Oa]||(F[Oa]=So(Oa))}};jt();var Tt=function(So){ri[pe]&&console.info("Redefining LocalForage driver: "+pe),ri[pe]=F,Yf[pe]=So,ee()};"_support"in F?F._support&&typeof F._support=="function"?F._support().then(Tt,oe):Tt(!!F._support):Tt(!0)}catch(vr){oe(vr)}});return g(X,V,q),X},k.prototype.driver=function(){return this._driver||null},k.prototype.getDriver=function(F,V,q){var X=ri[F]?v.resolve(ri[F]):v.reject(new Error("Driver not found."));return g(X,V,q),X},k.prototype.getSerializer=function(F){var V=v.resolve(To);return g(V,F),V},k.prototype.ready=function(F){var V=this,q=V._driverSet.then(function(){return V._ready===null&&(V._ready=V._initDriver()),V._ready});return g(q,F,F),q},k.prototype.setDriver=function(F,V,q){var X=this;qf(F)||(F=[F]);var ee=this._getSupportedDrivers(F);function oe(){X._config.driver=X.driver()}function pe(Le){return X._extend(Le),oe(),X._ready=X._initStorage(X._config),X._ready}function de(Le){return function(){var lt=0;function wt(){for(;lt<Le.length;){var xt=Le[lt];return lt++,X._dbInfo=null,X._ready=null,X.getDriver(xt).then(pe).catch(wt)}oe();var jt=new Error("No available storage method found.");return X._driverSet=v.reject(jt),X._driverSet}return wt()}}var _e=this._driverSet!==null?this._driverSet.catch(function(){return v.resolve()}):v.resolve();return this._driverSet=_e.then(function(){var Le=ee[0];return X._dbInfo=null,X._ready=null,X.getDriver(Le).then(function(lt){X._driver=lt._driver,oe(),X._wrapLibraryMethodsWithReady(),X._initDriver=de(ee)})}).catch(function(){oe();var Le=new Error("No available storage method found.");return X._driverSet=v.reject(Le),X._driverSet}),g(this._driverSet,V,q),this._driverSet},k.prototype.supports=function(F){return!!Yf[F]},k.prototype._extend=function(F){Bu(this,F)},k.prototype._getSupportedDrivers=function(F){for(var V=[],q=0,X=F.length;q<X;q++){var ee=F[q];this.supports(ee)&&V.push(ee)}return V},k.prototype._wrapLibraryMethodsWithReady=function(){for(var F=0,V=Ra.length;F<V;F++)ed(this,Ra[F])},k.prototype.createInstance=function(F){return new k(F)},k}(),nd=new td;r.exports=nd},{"3":3}]},{},[4])(4)})})(Ls);var Z0=Ls.exports;const Zi={gameName:"",gameKey:""},Ch=[],JN=[],Ih=[];var VP={exports:{}},HU=function(t,n){return function(){for(var i=new Array(arguments.length),a=0;a<i.length;a++)i[a]=arguments[a];return t.apply(n,i)}},sV=HU,Gf=Object.prototype.toString;function qP(e){return Gf.call(e)==="[object Array]"}function lI(e){return typeof e=="undefined"}function uV(e){return e!==null&&!lI(e)&&e.constructor!==null&&!lI(e.constructor)&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function lV(e){return Gf.call(e)==="[object ArrayBuffer]"}function fV(e){return typeof FormData!="undefined"&&e instanceof FormData}function cV(e){var t;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&e.buffer instanceof ArrayBuffer,t}function hV(e){return typeof e=="string"}function dV(e){return typeof e=="number"}function WU(e){return e!==null&&typeof e=="object"}function ym(e){if(Gf.call(e)!=="[object Object]")return!1;var t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function pV(e){return Gf.call(e)==="[object Date]"}function vV(e){return Gf.call(e)==="[object File]"}function _V(e){return Gf.call(e)==="[object Blob]"}function jU(e){return Gf.call(e)==="[object Function]"}function gV(e){return WU(e)&&jU(e.pipe)}function mV(e){return typeof URLSearchParams!="undefined"&&e instanceof URLSearchParams}function yV(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function xV(){return typeof navigator!="undefined"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window!="undefined"&&typeof document!="undefined"}function YP(e,t){if(!(e===null||typeof e=="undefined"))if(typeof e!="object"&&(e=[e]),qP(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}function fI(){var e={};function t(i,a){ym(e[a])&&ym(i)?e[a]=fI(e[a],i):ym(i)?e[a]=fI({},i):qP(i)?e[a]=i.slice():e[a]=i}for(var n=0,r=arguments.length;n<r;n++)YP(arguments[n],t);return e}function bV(e,t,n){return YP(t,function(i,a){n&&typeof i=="function"?e[a]=sV(i,n):e[a]=i}),e}function wV(e){return e.charCodeAt(0)===65279&&(e=e.slice(1)),e}var no={isArray:qP,isArrayBuffer:lV,isBuffer:uV,isFormData:fV,isArrayBufferView:cV,isString:hV,isNumber:dV,isObject:WU,isPlainObject:ym,isUndefined:lI,isDate:pV,isFile:vV,isBlob:_V,isFunction:jU,isStream:gV,isURLSearchParams:mV,isStandardBrowserEnv:xV,forEach:YP,merge:fI,extend:bV,trim:yV,stripBOM:wV},Qf=no;function QN(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var zU=function(t,n,r){if(!n)return t;var i;if(r)i=r(n);else if(Qf.isURLSearchParams(n))i=n.toString();else{var a=[];Qf.forEach(n,function(f,h){f===null||typeof f=="undefined"||(Qf.isArray(f)?h=h+"[]":f=[f],Qf.forEach(f,function(v){Qf.isDate(v)?v=v.toISOString():Qf.isObject(v)&&(v=JSON.stringify(v)),a.push(QN(h)+"="+QN(v))}))}),i=a.join("&")}if(i){var u=t.indexOf("#");u!==-1&&(t=t.slice(0,u)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t},TV=no;function J0(){this.handlers=[]}J0.prototype.use=function(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1};J0.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)};J0.prototype.forEach=function(t){TV.forEach(this.handlers,function(r){r!==null&&t(r)})};var EV=J0,SV=no,CV=function(t,n){SV.forEach(t,function(i,a){a!==n&&a.toUpperCase()===n.toUpperCase()&&(t[n]=i,delete t[a])})},XU=function(t,n,r,i,a){return t.config=n,r&&(t.code=r),t.request=i,t.response=a,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},t},IV=XU,VU=function(t,n,r,i,a){var u=new Error(t);return IV(u,n,r,i,a)},AV=VU,PV=function(t,n,r){var i=r.config.validateStatus;!r.status||!i||i(r.status)?t(r):n(AV("Request failed with status code "+r.status,r.config,null,r.request,r))},Pg=no,RV=Pg.isStandardBrowserEnv()?function(){return{write:function(n,r,i,a,u,l){var f=[];f.push(n+"="+encodeURIComponent(r)),Pg.isNumber(i)&&f.push("expires="+new Date(i).toGMTString()),Pg.isString(a)&&f.push("path="+a),Pg.isString(u)&&f.push("domain="+u),l===!0&&f.push("secure"),document.cookie=f.join("; ")},read:function(n){var r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),OV=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)},NV=function(t,n){return n?t.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):t},LV=OV,kV=NV,FV=function(t,n){return t&&!LV(n)?kV(t,n):n},hC=no,BV=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],UV=function(t){var n={},r,i,a;return t&&hC.forEach(t.split(`
`),function(l){if(a=l.indexOf(":"),r=hC.trim(l.substr(0,a)).toLowerCase(),i=hC.trim(l.substr(a+1)),r){if(n[r]&&BV.indexOf(r)>=0)return;r==="set-cookie"?n[r]=(n[r]?n[r]:[]).concat([i]):n[r]=n[r]?n[r]+", "+i:i}}),n},eL=no,DV=eL.isStandardBrowserEnv()?function(){var t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a"),r;function i(a){var u=a;return t&&(n.setAttribute("href",u),u=n.href),n.setAttribute("href",u),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(u){var l=eL.isString(u)?i(u):u;return l.protocol===r.protocol&&l.host===r.host}}():function(){return function(){return!0}}();function KP(e){this.message=e}KP.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")};KP.prototype.__CANCEL__=!0;var Q0=KP,Rg=no,MV=PV,GV=RV,$V=zU,HV=FV,WV=UV,jV=DV,dC=VU,zV=ty,XV=Q0,tL=function(t){return new Promise(function(r,i){var a=t.data,u=t.headers,l=t.responseType,f;function h(){t.cancelToken&&t.cancelToken.unsubscribe(f),t.signal&&t.signal.removeEventListener("abort",f)}Rg.isFormData(a)&&delete u["Content-Type"];var d=new XMLHttpRequest;if(t.auth){var v=t.auth.username||"",_=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";u.Authorization="Basic "+btoa(v+":"+_)}var g=HV(t.baseURL,t.url);d.open(t.method.toUpperCase(),$V(g,t.params,t.paramsSerializer),!0),d.timeout=t.timeout;function x(){if(!!d){var y="getAllResponseHeaders"in d?WV(d.getAllResponseHeaders()):null,E=!l||l==="text"||l==="json"?d.responseText:d.response,S={data:E,status:d.status,statusText:d.statusText,headers:y,config:t,request:d};MV(function(L){r(L),h()},function(L){i(L),h()},S),d=null}}if("onloadend"in d?d.onloadend=x:d.onreadystatechange=function(){!d||d.readyState!==4||d.status===0&&!(d.responseURL&&d.responseURL.indexOf("file:")===0)||setTimeout(x)},d.onabort=function(){!d||(i(dC("Request aborted",t,"ECONNABORTED",d)),d=null)},d.onerror=function(){i(dC("Network Error",t,null,d)),d=null},d.ontimeout=function(){var E=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded",S=t.transitional||zV.transitional;t.timeoutErrorMessage&&(E=t.timeoutErrorMessage),i(dC(E,t,S.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",d)),d=null},Rg.isStandardBrowserEnv()){var b=(t.withCredentials||jV(g))&&t.xsrfCookieName?GV.read(t.xsrfCookieName):void 0;b&&(u[t.xsrfHeaderName]=b)}"setRequestHeader"in d&&Rg.forEach(u,function(E,S){typeof a=="undefined"&&S.toLowerCase()==="content-type"?delete u[S]:d.setRequestHeader(S,E)}),Rg.isUndefined(t.withCredentials)||(d.withCredentials=!!t.withCredentials),l&&l!=="json"&&(d.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&d.addEventListener("progress",t.onDownloadProgress),typeof t.onUploadProgress=="function"&&d.upload&&d.upload.addEventListener("progress",t.onUploadProgress),(t.cancelToken||t.signal)&&(f=function(y){!d||(i(!y||y&&y.type?new XV("canceled"):y),d.abort(),d=null)},t.cancelToken&&t.cancelToken.subscribe(f),t.signal&&(t.signal.aborted?f():t.signal.addEventListener("abort",f))),a||(a=null),d.send(a)})},Fr=no,nL=CV,VV=XU,qV={"Content-Type":"application/x-www-form-urlencoded"};function rL(e,t){!Fr.isUndefined(e)&&Fr.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function YV(){var e;return(typeof XMLHttpRequest!="undefined"||typeof process!="undefined"&&Object.prototype.toString.call(process)==="[object process]")&&(e=tL),e}function KV(e,t,n){if(Fr.isString(e))try{return(t||JSON.parse)(e),Fr.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}var ey={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:YV(),transformRequest:[function(t,n){return nL(n,"Accept"),nL(n,"Content-Type"),Fr.isFormData(t)||Fr.isArrayBuffer(t)||Fr.isBuffer(t)||Fr.isStream(t)||Fr.isFile(t)||Fr.isBlob(t)?t:Fr.isArrayBufferView(t)?t.buffer:Fr.isURLSearchParams(t)?(rL(n,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):Fr.isObject(t)||n&&n["Content-Type"]==="application/json"?(rL(n,"application/json"),KV(t)):t}],transformResponse:[function(t){var n=this.transitional||ey.transitional,r=n&&n.silentJSONParsing,i=n&&n.forcedJSONParsing,a=!r&&this.responseType==="json";if(a||i&&Fr.isString(t)&&t.length)try{return JSON.parse(t)}catch(u){if(a)throw u.name==="SyntaxError"?VV(u,this,"E_JSON_PARSE"):u}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Fr.forEach(["delete","get","head"],function(t){ey.headers[t]={}});Fr.forEach(["post","put","patch"],function(t){ey.headers[t]=Fr.merge(qV)});var ty=ey,ZV=no,JV=ty,QV=function(t,n,r){var i=this||JV;return ZV.forEach(r,function(u){t=u.call(i,t,n)}),t},qU=function(t){return!!(t&&t.__CANCEL__)},iL=no,pC=QV,eq=qU,tq=ty,nq=Q0;function vC(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new nq("canceled")}var rq=function(t){vC(t),t.headers=t.headers||{},t.data=pC.call(t,t.data,t.headers,t.transformRequest),t.headers=iL.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),iL.forEach(["delete","get","head","post","put","patch","common"],function(i){delete t.headers[i]});var n=t.adapter||tq.adapter;return n(t).then(function(i){return vC(t),i.data=pC.call(t,i.data,i.headers,t.transformResponse),i},function(i){return eq(i)||(vC(t),i&&i.response&&(i.response.data=pC.call(t,i.response.data,i.response.headers,t.transformResponse))),Promise.reject(i)})},Wi=no,YU=function(t,n){n=n||{};var r={};function i(d,v){return Wi.isPlainObject(d)&&Wi.isPlainObject(v)?Wi.merge(d,v):Wi.isPlainObject(v)?Wi.merge({},v):Wi.isArray(v)?v.slice():v}function a(d){if(Wi.isUndefined(n[d])){if(!Wi.isUndefined(t[d]))return i(void 0,t[d])}else return i(t[d],n[d])}function u(d){if(!Wi.isUndefined(n[d]))return i(void 0,n[d])}function l(d){if(Wi.isUndefined(n[d])){if(!Wi.isUndefined(t[d]))return i(void 0,t[d])}else return i(void 0,n[d])}function f(d){if(d in n)return i(t[d],n[d]);if(d in t)return i(void 0,t[d])}var h={url:u,method:u,data:u,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:f};return Wi.forEach(Object.keys(t).concat(Object.keys(n)),function(v){var _=h[v]||a,g=_(v);Wi.isUndefined(g)&&_!==f||(r[v]=g)}),r},KU={version:"0.24.0"},iq=KU.version,ZP={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){ZP[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});var oL={};ZP.transitional=function(t,n,r){function i(a,u){return"[Axios v"+iq+"] Transitional option '"+a+"'"+u+(r?". "+r:"")}return function(a,u,l){if(t===!1)throw new Error(i(u," has been removed"+(n?" in "+n:"")));return n&&!oL[u]&&(oL[u]=!0,console.warn(i(u," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(a,u,l):!0}};function oq(e,t,n){if(typeof e!="object")throw new TypeError("options must be an object");for(var r=Object.keys(e),i=r.length;i-- >0;){var a=r[i],u=t[a];if(u){var l=e[a],f=l===void 0||u(l,a,e);if(f!==!0)throw new TypeError("option "+a+" must be "+f);continue}if(n!==!0)throw Error("Unknown option "+a)}}var aq={assertOptions:oq,validators:ZP},ZU=no,sq=zU,aL=EV,sL=rq,ny=YU,JU=aq,ec=JU.validators;function rg(e){this.defaults=e,this.interceptors={request:new aL,response:new aL}}rg.prototype.request=function(t){typeof t=="string"?(t=arguments[1]||{},t.url=arguments[0]):t=t||{},t=ny(this.defaults,t),t.method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n=t.transitional;n!==void 0&&JU.assertOptions(n,{silentJSONParsing:ec.transitional(ec.boolean),forcedJSONParsing:ec.transitional(ec.boolean),clarifyTimeoutError:ec.transitional(ec.boolean)},!1);var r=[],i=!0;this.interceptors.request.forEach(function(_){typeof _.runWhen=="function"&&_.runWhen(t)===!1||(i=i&&_.synchronous,r.unshift(_.fulfilled,_.rejected))});var a=[];this.interceptors.response.forEach(function(_){a.push(_.fulfilled,_.rejected)});var u;if(!i){var l=[sL,void 0];for(Array.prototype.unshift.apply(l,r),l=l.concat(a),u=Promise.resolve(t);l.length;)u=u.then(l.shift(),l.shift());return u}for(var f=t;r.length;){var h=r.shift(),d=r.shift();try{f=h(f)}catch(v){d(v);break}}try{u=sL(f)}catch(v){return Promise.reject(v)}for(;a.length;)u=u.then(a.shift(),a.shift());return u};rg.prototype.getUri=function(t){return t=ny(this.defaults,t),sq(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")};ZU.forEach(["delete","get","head","options"],function(t){rg.prototype[t]=function(n,r){return this.request(ny(r||{},{method:t,url:n,data:(r||{}).data}))}});ZU.forEach(["post","put","patch"],function(t){rg.prototype[t]=function(n,r,i){return this.request(ny(i||{},{method:t,url:n,data:r}))}});var uq=rg,lq=Q0;function Zc(e){if(typeof e!="function")throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(i){t=i});var n=this;this.promise.then(function(r){if(!!n._listeners){var i,a=n._listeners.length;for(i=0;i<a;i++)n._listeners[i](r);n._listeners=null}}),this.promise.then=function(r){var i,a=new Promise(function(u){n.subscribe(u),i=u}).then(r);return a.cancel=function(){n.unsubscribe(i)},a},e(function(i){n.reason||(n.reason=new lq(i),t(n.reason))})}Zc.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};Zc.prototype.subscribe=function(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]};Zc.prototype.unsubscribe=function(t){if(!!this._listeners){var n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}};Zc.source=function(){var t,n=new Zc(function(i){t=i});return{token:n,cancel:t}};var fq=Zc,cq=function(t){return function(r){return t.apply(null,r)}},hq=function(t){return typeof t=="object"&&t.isAxiosError===!0},uL=no,dq=HU,xm=uq,pq=YU,vq=ty;function QU(e){var t=new xm(e),n=dq(xm.prototype.request,t);return uL.extend(n,xm.prototype,t),uL.extend(n,t),n.create=function(i){return QU(pq(e,i))},n}var wa=QU(vq);wa.Axios=xm;wa.Cancel=Q0;wa.CancelToken=fq;wa.isCancel=qU;wa.VERSION=KU.version;wa.all=function(t){return Promise.all(t)};wa.spread=cq;wa.isAxiosError=hq;VP.exports=wa;VP.exports.default=wa;var _q=VP.exports;const gq=_q;class mq{constructor(){this.url="",this.level="all",this.mongoUrl="mongodb://localhost:27017/",this.collection="main",this.isUpload=!0}init(t,n){this.url=t,n&&(this.mongoUrl=n)}setUpload(t){this.isUpload=t}setCollection(t){this.collection=t}setLevel(t){this.level=t.toUpperCase()}upload(t,n,r,i){typeof t!="string"&&this.error("log\u7684\u7B2C\u4E00\u4E2A\u53C2\u6570\u4E0D\u662F\u5B57\u7B26\u4E32",void 0,!1);let a={log:{info:t,data:n,level:r,now:i},mongoUrl:this.mongoUrl,collection:this.collection};const u=this;this.url!==""&&this.isUpload&&gq.post(this.url+"/log",a).then(l=>{u.trace("Logged to cloud.",void 0,!1)}).catch(l=>{u.error("Logging to cloud failed!",void 0,!1)})}clog(t,n,r,i,a,u){const l={all:7,ALL:7,TRACE:6,DEBUG:5,INFO:4,WARN:3,ERROR:2,FATAL:1,NONE:0,none:0};l[r]<=l[this.level]&&(console.log("%c%s%c%s%c%s%c %s","color:white;background-color:"+i,"["+r+"]",""," ","color:"+i,"["+a.toLocaleString()+"]","",t),n&&(console.log(n),console.log("------------------------"))),u===void 0&&this.upload(t,n,r,a),u!==void 0&&u&&this.upload(t,n,r,a)}trace(t,n,r){const i=new Date,a="TRACE",u="#005CAF";this.clog(t,n,a,u,i,r)}debug(t,n,r){const i=new Date,a="DEBUG",u="#0089A7";this.clog(t,n,a,u,i,r)}info(t,n,r){const i=new Date,a="INFO",u="#00896C";this.clog(t,n,a,u,i,r)}warn(t,n,r){const i=new Date,a="WARN",u="#DDA52D";this.clog(t,n,a,u,i,r)}error(t,n,r){const i=new Date,a="ERROR",u="#AB3B3A";this.clog(t,n,a,u,i,r)}fatal(t,n,r){const i=new Date,a="FATAL",u="#E16B8C";this.clog(t,n,a,u,i,r)}}var yq=mq;const Me=new yq;var pi=(e=>(e[e.slow=0]="slow",e[e.normal=1]="normal",e[e.fast=2]="fast",e))(pi||{}),r_=(e=>(e[e.small=0]="small",e[e.medium=1]="medium",e[e.large=2]="large",e))(r_||{}),Jc=(e=>(e[e.song=0]="song",e[e.hei=1]="hei",e))(Jc||{}),R_={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(e,t){(function(){var n,r="4.17.21",i=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",u="Expected a function",l="Invalid `variable` option passed into `_.template`",f="__lodash_hash_undefined__",h=500,d="__lodash_placeholder__",v=1,_=2,g=4,x=1,b=2,y=1,E=2,S=4,A=8,L=16,P=32,R=64,D=128,$=256,U=512,K=30,ie="...",re=800,ve=16,Ge=1,ae=2,ce=3,me=1/0,Oe=9007199254740991,pt=17976931348623157e292,te=0/0,Y=4294967295,ue=Y-1,Se=Y>>>1,ke=[["ary",D],["bind",y],["bindKey",E],["curry",A],["curryRight",L],["flip",U],["partial",P],["partialRight",R],["rearg",$]],Be="[object Arguments]",Qe="[object Array]",It="[object AsyncFunction]",mt="[object Boolean]",ot="[object Date]",Yt="[object DOMException]",ft="[object Error]",yt="[object Function]",nt="[object GeneratorFunction]",ut="[object Map]",vt="[object Number]",ht="[object Null]",Pt="[object Object]",wr="[object Promise]",io="[object Proxy]",pr="[object RegExp]",Dt="[object Set]",Tr="[object String]",ni="[object Symbol]",Wf="[object Undefined]",_i="[object WeakMap]",jf="[object WeakSet]",gi="[object ArrayBuffer]",jr="[object DataView]",ea="[object Float32Array]",ta="[object Float64Array]",na="[object Int8Array]",ra="[object Int16Array]",ia="[object Int32Array]",wo="[object Uint8Array]",Ca="[object Uint8ClampedArray]",Ia="[object Uint16Array]",To="[object Uint32Array]",zf=/\b__p \+= '';/g,Nh=/\b(__p \+=) '' \+/g,oo=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ou=/&(?:amp|lt|gt|quot|#39);/g,Nu=/[&<>"']/g,Xf=RegExp(Ou.source),Lh=RegExp(Nu.source),kh=/<%-([\s\S]+?)%>/g,Fh=/<%([\s\S]+?)%>/g,Lu=/<%=([\s\S]+?)%>/g,Bh=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Uh=/^\w*$/,Dh=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Aa=/[\\^$.*+?()[\]{}|]/g,Mh=RegExp(Aa.source),Pa=/^\s+/,Vf=/\s/,Gh=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,$h=/\{\n\/\* \[wrapped with (.+)\] \*/,Hh=/,? & /,Wh=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,jh=/[()=,{}\[\]\/\s]/,zh=/\\(\\)?/g,Xh=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ku=/\w*$/,Vh=/^[-+]0x[0-9a-f]+$/i,qh=/^0b[01]+$/i,Yh=/^\[object .+?Constructor\]$/,Kh=/^0o[0-7]+$/i,Zh=/^(?:0|[1-9]\d*)$/,Jh=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Eo=/($^)/,qf=/['\n\r\u2028\u2029\\]/g,ri="\\ud800-\\udfff",Yf="\\u0300-\\u036f",oa="\\ufe20-\\ufe2f",Qh="\\u20d0-\\u20ff",aa=Yf+oa+Qh,Ra="\\u2700-\\u27bf",Fu="a-z\\xdf-\\xf6\\xf8-\\xff",ed="\\xac\\xb1\\xd7\\xf7",Bu="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",td="\\u2000-\\u206f",nd=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",k="A-Z\\xc0-\\xd6\\xd8-\\xde",j="\\ufe0e\\ufe0f",F=ed+Bu+td+nd,V="['\u2019]",q="["+ri+"]",X="["+F+"]",ee="["+aa+"]",oe="\\d+",pe="["+Ra+"]",de="["+Fu+"]",_e="[^"+ri+F+oe+Ra+Fu+k+"]",Le="\\ud83c[\\udffb-\\udfff]",lt="(?:"+ee+"|"+Le+")",wt="[^"+ri+"]",xt="(?:\\ud83c[\\udde6-\\uddff]){2}",jt="[\\ud800-\\udbff][\\udc00-\\udfff]",Tt="["+k+"]",vr="\\u200d",So="(?:"+de+"|"+_e+")",Uu="(?:"+Tt+"|"+_e+")",Du="(?:"+V+"(?:d|ll|m|re|s|t|ve))?",Oa="(?:"+V+"(?:D|LL|M|RE|S|T|VE))?",Kf=lt+"?",Mu="["+j+"]?",rd="(?:"+vr+"(?:"+[wt,xt,jt].join("|")+")"+Mu+Kf+")*",Zf="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",$y="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",id=Mu+Kf+rd,Hy="(?:"+[pe,xt,jt].join("|")+")"+id,Wy="(?:"+[wt+ee+"?",ee,xt,jt,q].join("|")+")",jy=RegExp(V,"g"),zy=RegExp(ee,"g"),Gu=RegExp(Le+"(?="+Le+")|"+Wy+id,"g"),Xy=RegExp([Tt+"?"+de+"+"+Du+"(?="+[X,Tt,"$"].join("|")+")",Uu+"+"+Oa+"(?="+[X,Tt+So,"$"].join("|")+")",Tt+"?"+So+"+"+Du,Tt+"+"+Oa,$y,Zf,oe,Hy].join("|"),"g"),Vy=RegExp("["+vr+ri+aa+j+"]"),qy=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Yy=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ky=-1,Ke={};Ke[ea]=Ke[ta]=Ke[na]=Ke[ra]=Ke[ia]=Ke[wo]=Ke[Ca]=Ke[Ia]=Ke[To]=!0,Ke[Be]=Ke[Qe]=Ke[gi]=Ke[mt]=Ke[jr]=Ke[ot]=Ke[ft]=Ke[yt]=Ke[ut]=Ke[vt]=Ke[Pt]=Ke[pr]=Ke[Dt]=Ke[Tr]=Ke[_i]=!1;var Xe={};Xe[Be]=Xe[Qe]=Xe[gi]=Xe[jr]=Xe[mt]=Xe[ot]=Xe[ea]=Xe[ta]=Xe[na]=Xe[ra]=Xe[ia]=Xe[ut]=Xe[vt]=Xe[Pt]=Xe[pr]=Xe[Dt]=Xe[Tr]=Xe[ni]=Xe[wo]=Xe[Ca]=Xe[Ia]=Xe[To]=!0,Xe[ft]=Xe[yt]=Xe[_i]=!1;var Zy={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},Jy={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Qy={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},e1={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},t1=parseFloat,n1=parseInt,od=typeof Kr=="object"&&Kr&&Kr.Object===Object&&Kr,r1=typeof self=="object"&&self&&self.Object===Object&&self,Et=od||r1||Function("return this")(),$u=t&&!t.nodeType&&t,ii=$u&&!0&&e&&!e.nodeType&&e,ad=ii&&ii.exports===$u,Hu=ad&&od.process,un=function(){try{var O=ii&&ii.require&&ii.require("util").types;return O||Hu&&Hu.binding&&Hu.binding("util")}catch{}}(),sd=un&&un.isArrayBuffer,ud=un&&un.isDate,ld=un&&un.isMap,fd=un&&un.isRegExp,cd=un&&un.isSet,hd=un&&un.isTypedArray;function Kt(O,G,B){switch(B.length){case 0:return O.call(G);case 1:return O.call(G,B[0]);case 2:return O.call(G,B[0],B[1]);case 3:return O.call(G,B[0],B[1],B[2])}return O.apply(G,B)}function i1(O,G,B,J){for(var ge=-1,Ue=O==null?0:O.length;++ge<Ue;){var _t=O[ge];G(J,_t,B(_t),O)}return J}function ln(O,G){for(var B=-1,J=O==null?0:O.length;++B<J&&G(O[B],B,O)!==!1;);return O}function o1(O,G){for(var B=O==null?0:O.length;B--&&G(O[B],B,O)!==!1;);return O}function dd(O,G){for(var B=-1,J=O==null?0:O.length;++B<J;)if(!G(O[B],B,O))return!1;return!0}function Er(O,G){for(var B=-1,J=O==null?0:O.length,ge=0,Ue=[];++B<J;){var _t=O[B];G(_t,B,O)&&(Ue[ge++]=_t)}return Ue}function Na(O,G){var B=O==null?0:O.length;return!!B&&Ri(O,G,0)>-1}function Wu(O,G,B){for(var J=-1,ge=O==null?0:O.length;++J<ge;)if(B(G,O[J]))return!0;return!1}function Je(O,G){for(var B=-1,J=O==null?0:O.length,ge=Array(J);++B<J;)ge[B]=G(O[B],B,O);return ge}function Sr(O,G){for(var B=-1,J=G.length,ge=O.length;++B<J;)O[ge+B]=G[B];return O}function ju(O,G,B,J){var ge=-1,Ue=O==null?0:O.length;for(J&&Ue&&(B=O[++ge]);++ge<Ue;)B=G(B,O[ge],ge,O);return B}function a1(O,G,B,J){var ge=O==null?0:O.length;for(J&&ge&&(B=O[--ge]);ge--;)B=G(B,O[ge],ge,O);return B}function zu(O,G){for(var B=-1,J=O==null?0:O.length;++B<J;)if(G(O[B],B,O))return!0;return!1}var s1=Xu("length");function u1(O){return O.split("")}function l1(O){return O.match(Wh)||[]}function pd(O,G,B){var J;return B(O,function(ge,Ue,_t){if(G(ge,Ue,_t))return J=Ue,!1}),J}function La(O,G,B,J){for(var ge=O.length,Ue=B+(J?1:-1);J?Ue--:++Ue<ge;)if(G(O[Ue],Ue,O))return Ue;return-1}function Ri(O,G,B){return G===G?b1(O,G,B):La(O,vd,B)}function f1(O,G,B,J){for(var ge=B-1,Ue=O.length;++ge<Ue;)if(J(O[ge],G))return ge;return-1}function vd(O){return O!==O}function _d(O,G){var B=O==null?0:O.length;return B?qu(O,G)/B:te}function Xu(O){return function(G){return G==null?n:G[O]}}function Vu(O){return function(G){return O==null?n:O[G]}}function gd(O,G,B,J,ge){return ge(O,function(Ue,_t,je){B=J?(J=!1,Ue):G(B,Ue,_t,je)}),B}function c1(O,G){var B=O.length;for(O.sort(G);B--;)O[B]=O[B].value;return O}function qu(O,G){for(var B,J=-1,ge=O.length;++J<ge;){var Ue=G(O[J]);Ue!==n&&(B=B===n?Ue:B+Ue)}return B}function Yu(O,G){for(var B=-1,J=Array(O);++B<O;)J[B]=G(B);return J}function h1(O,G){return Je(G,function(B){return[B,O[B]]})}function md(O){return O&&O.slice(0,wd(O)+1).replace(Pa,"")}function Zt(O){return function(G){return O(G)}}function Ku(O,G){return Je(G,function(B){return O[B]})}function Co(O,G){return O.has(G)}function yd(O,G){for(var B=-1,J=O.length;++B<J&&Ri(G,O[B],0)>-1;);return B}function xd(O,G){for(var B=O.length;B--&&Ri(G,O[B],0)>-1;);return B}function d1(O,G){for(var B=O.length,J=0;B--;)O[B]===G&&++J;return J}var p1=Vu(Zy),v1=Vu(Jy);function _1(O){return"\\"+e1[O]}function g1(O,G){return O==null?n:O[G]}function Oi(O){return Vy.test(O)}function m1(O){return qy.test(O)}function y1(O){for(var G,B=[];!(G=O.next()).done;)B.push(G.value);return B}function Zu(O){var G=-1,B=Array(O.size);return O.forEach(function(J,ge){B[++G]=[ge,J]}),B}function bd(O,G){return function(B){return O(G(B))}}function Cr(O,G){for(var B=-1,J=O.length,ge=0,Ue=[];++B<J;){var _t=O[B];(_t===G||_t===d)&&(O[B]=d,Ue[ge++]=B)}return Ue}function ka(O){var G=-1,B=Array(O.size);return O.forEach(function(J){B[++G]=J}),B}function x1(O){var G=-1,B=Array(O.size);return O.forEach(function(J){B[++G]=[J,J]}),B}function b1(O,G,B){for(var J=B-1,ge=O.length;++J<ge;)if(O[J]===G)return J;return-1}function w1(O,G,B){for(var J=B+1;J--;)if(O[J]===G)return J;return J}function Ni(O){return Oi(O)?E1(O):s1(O)}function Sn(O){return Oi(O)?S1(O):u1(O)}function wd(O){for(var G=O.length;G--&&Vf.test(O.charAt(G)););return G}var T1=Vu(Qy);function E1(O){for(var G=Gu.lastIndex=0;Gu.test(O);)++G;return G}function S1(O){return O.match(Gu)||[]}function C1(O){return O.match(Xy)||[]}var I1=function O(G){G=G==null?Et:Li.defaults(Et.Object(),G,Li.pick(Et,Yy));var B=G.Array,J=G.Date,ge=G.Error,Ue=G.Function,_t=G.Math,je=G.Object,Ju=G.RegExp,A1=G.String,fn=G.TypeError,Fa=B.prototype,P1=Ue.prototype,ki=je.prototype,Ba=G["__core-js_shared__"],Ua=P1.toString,We=ki.hasOwnProperty,R1=0,Td=function(){var o=/[^.]+$/.exec(Ba&&Ba.keys&&Ba.keys.IE_PROTO||"");return o?"Symbol(src)_1."+o:""}(),Da=ki.toString,O1=Ua.call(je),N1=Et._,L1=Ju("^"+Ua.call(We).replace(Aa,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ma=ad?G.Buffer:n,Ir=G.Symbol,Ga=G.Uint8Array,Ed=Ma?Ma.allocUnsafe:n,$a=bd(je.getPrototypeOf,je),Sd=je.create,Cd=ki.propertyIsEnumerable,Ha=Fa.splice,Id=Ir?Ir.isConcatSpreadable:n,Io=Ir?Ir.iterator:n,oi=Ir?Ir.toStringTag:n,Wa=function(){try{var o=fi(je,"defineProperty");return o({},"",{}),o}catch{}}(),k1=G.clearTimeout!==Et.clearTimeout&&G.clearTimeout,F1=J&&J.now!==Et.Date.now&&J.now,B1=G.setTimeout!==Et.setTimeout&&G.setTimeout,ja=_t.ceil,za=_t.floor,Qu=je.getOwnPropertySymbols,U1=Ma?Ma.isBuffer:n,Ad=G.isFinite,D1=Fa.join,M1=bd(je.keys,je),gt=_t.max,Rt=_t.min,G1=J.now,$1=G.parseInt,Pd=_t.random,H1=Fa.reverse,el=fi(G,"DataView"),Ao=fi(G,"Map"),tl=fi(G,"Promise"),Fi=fi(G,"Set"),Po=fi(G,"WeakMap"),Ro=fi(je,"create"),Xa=Po&&new Po,Bi={},W1=ci(el),j1=ci(Ao),z1=ci(tl),X1=ci(Fi),V1=ci(Po),Va=Ir?Ir.prototype:n,Oo=Va?Va.valueOf:n,Rd=Va?Va.toString:n;function w(o){if(rt(o)&&!ye(o)&&!(o instanceof Pe)){if(o instanceof cn)return o;if(We.call(o,"__wrapped__"))return Op(o)}return new cn(o)}var Ui=function(){function o(){}return function(s){if(!et(s))return{};if(Sd)return Sd(s);o.prototype=s;var c=new o;return o.prototype=n,c}}();function qa(){}function cn(o,s){this.__wrapped__=o,this.__actions__=[],this.__chain__=!!s,this.__index__=0,this.__values__=n}w.templateSettings={escape:kh,evaluate:Fh,interpolate:Lu,variable:"",imports:{_:w}},w.prototype=qa.prototype,w.prototype.constructor=w,cn.prototype=Ui(qa.prototype),cn.prototype.constructor=cn;function Pe(o){this.__wrapped__=o,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Y,this.__views__=[]}function q1(){var o=new Pe(this.__wrapped__);return o.__actions__=Mt(this.__actions__),o.__dir__=this.__dir__,o.__filtered__=this.__filtered__,o.__iteratees__=Mt(this.__iteratees__),o.__takeCount__=this.__takeCount__,o.__views__=Mt(this.__views__),o}function Y1(){if(this.__filtered__){var o=new Pe(this);o.__dir__=-1,o.__filtered__=!0}else o=this.clone(),o.__dir__*=-1;return o}function K1(){var o=this.__wrapped__.value(),s=this.__dir__,c=ye(o),p=s<0,m=c?o.length:0,T=ub(0,m,this.__views__),C=T.start,I=T.end,N=I-C,H=p?I:C-1,W=this.__iteratees__,z=W.length,Z=0,ne=Rt(N,this.__takeCount__);if(!c||!p&&m==N&&ne==N)return ep(o,this.__actions__);var le=[];e:for(;N--&&Z<ne;){H+=s;for(var Te=-1,fe=o[H];++Te<z;){var Ae=W[Te],Ne=Ae.iteratee,en=Ae.type,Ut=Ne(fe);if(en==ae)fe=Ut;else if(!Ut){if(en==Ge)continue e;break e}}le[Z++]=fe}return le}Pe.prototype=Ui(qa.prototype),Pe.prototype.constructor=Pe;function ai(o){var s=-1,c=o==null?0:o.length;for(this.clear();++s<c;){var p=o[s];this.set(p[0],p[1])}}function Z1(){this.__data__=Ro?Ro(null):{},this.size=0}function J1(o){var s=this.has(o)&&delete this.__data__[o];return this.size-=s?1:0,s}function Q1(o){var s=this.__data__;if(Ro){var c=s[o];return c===f?n:c}return We.call(s,o)?s[o]:n}function ex(o){var s=this.__data__;return Ro?s[o]!==n:We.call(s,o)}function tx(o,s){var c=this.__data__;return this.size+=this.has(o)?0:1,c[o]=Ro&&s===n?f:s,this}ai.prototype.clear=Z1,ai.prototype.delete=J1,ai.prototype.get=Q1,ai.prototype.has=ex,ai.prototype.set=tx;function tr(o){var s=-1,c=o==null?0:o.length;for(this.clear();++s<c;){var p=o[s];this.set(p[0],p[1])}}function nx(){this.__data__=[],this.size=0}function rx(o){var s=this.__data__,c=Ya(s,o);if(c<0)return!1;var p=s.length-1;return c==p?s.pop():Ha.call(s,c,1),--this.size,!0}function ix(o){var s=this.__data__,c=Ya(s,o);return c<0?n:s[c][1]}function ox(o){return Ya(this.__data__,o)>-1}function ax(o,s){var c=this.__data__,p=Ya(c,o);return p<0?(++this.size,c.push([o,s])):c[p][1]=s,this}tr.prototype.clear=nx,tr.prototype.delete=rx,tr.prototype.get=ix,tr.prototype.has=ox,tr.prototype.set=ax;function nr(o){var s=-1,c=o==null?0:o.length;for(this.clear();++s<c;){var p=o[s];this.set(p[0],p[1])}}function sx(){this.size=0,this.__data__={hash:new ai,map:new(Ao||tr),string:new ai}}function ux(o){var s=ss(this,o).delete(o);return this.size-=s?1:0,s}function lx(o){return ss(this,o).get(o)}function fx(o){return ss(this,o).has(o)}function cx(o,s){var c=ss(this,o),p=c.size;return c.set(o,s),this.size+=c.size==p?0:1,this}nr.prototype.clear=sx,nr.prototype.delete=ux,nr.prototype.get=lx,nr.prototype.has=fx,nr.prototype.set=cx;function si(o){var s=-1,c=o==null?0:o.length;for(this.__data__=new nr;++s<c;)this.add(o[s])}function hx(o){return this.__data__.set(o,f),this}function dx(o){return this.__data__.has(o)}si.prototype.add=si.prototype.push=hx,si.prototype.has=dx;function Cn(o){var s=this.__data__=new tr(o);this.size=s.size}function px(){this.__data__=new tr,this.size=0}function vx(o){var s=this.__data__,c=s.delete(o);return this.size=s.size,c}function _x(o){return this.__data__.get(o)}function gx(o){return this.__data__.has(o)}function mx(o,s){var c=this.__data__;if(c instanceof tr){var p=c.__data__;if(!Ao||p.length<i-1)return p.push([o,s]),this.size=++c.size,this;c=this.__data__=new nr(p)}return c.set(o,s),this.size=c.size,this}Cn.prototype.clear=px,Cn.prototype.delete=vx,Cn.prototype.get=_x,Cn.prototype.has=gx,Cn.prototype.set=mx;function Od(o,s){var c=ye(o),p=!c&&hi(o),m=!c&&!p&&Nr(o),T=!c&&!p&&!m&&$i(o),C=c||p||m||T,I=C?Yu(o.length,A1):[],N=I.length;for(var H in o)(s||We.call(o,H))&&!(C&&(H=="length"||m&&(H=="offset"||H=="parent")||T&&(H=="buffer"||H=="byteLength"||H=="byteOffset")||ar(H,N)))&&I.push(H);return I}function Nd(o){var s=o.length;return s?o[hl(0,s-1)]:n}function yx(o,s){return us(Mt(o),ui(s,0,o.length))}function xx(o){return us(Mt(o))}function nl(o,s,c){(c!==n&&!In(o[s],c)||c===n&&!(s in o))&&rr(o,s,c)}function No(o,s,c){var p=o[s];(!(We.call(o,s)&&In(p,c))||c===n&&!(s in o))&&rr(o,s,c)}function Ya(o,s){for(var c=o.length;c--;)if(In(o[c][0],s))return c;return-1}function bx(o,s,c,p){return Ar(o,function(m,T,C){s(p,m,c(m),C)}),p}function Ld(o,s){return o&&Wn(s,bt(s),o)}function wx(o,s){return o&&Wn(s,$t(s),o)}function rr(o,s,c){s=="__proto__"&&Wa?Wa(o,s,{configurable:!0,enumerable:!0,value:c,writable:!0}):o[s]=c}function rl(o,s){for(var c=-1,p=s.length,m=B(p),T=o==null;++c<p;)m[c]=T?n:Ul(o,s[c]);return m}function ui(o,s,c){return o===o&&(c!==n&&(o=o<=c?o:c),s!==n&&(o=o>=s?o:s)),o}function hn(o,s,c,p,m,T){var C,I=s&v,N=s&_,H=s&g;if(c&&(C=m?c(o,p,m,T):c(o)),C!==n)return C;if(!et(o))return o;var W=ye(o);if(W){if(C=fb(o),!I)return Mt(o,C)}else{var z=Ot(o),Z=z==yt||z==nt;if(Nr(o))return rp(o,I);if(z==Pt||z==Be||Z&&!m){if(C=N||Z?{}:wp(o),!I)return N?Qx(o,wx(C,o)):Jx(o,Ld(C,o))}else{if(!Xe[z])return m?o:{};C=cb(o,z,I)}}T||(T=new Cn);var ne=T.get(o);if(ne)return ne;T.set(o,C),Zp(o)?o.forEach(function(fe){C.add(hn(fe,s,c,fe,o,T))}):Yp(o)&&o.forEach(function(fe,Ae){C.set(Ae,hn(fe,s,c,Ae,o,T))});var le=H?N?Tl:wl:N?$t:bt,Te=W?n:le(o);return ln(Te||o,function(fe,Ae){Te&&(Ae=fe,fe=o[Ae]),No(C,Ae,hn(fe,s,c,Ae,o,T))}),C}function Tx(o){var s=bt(o);return function(c){return kd(c,o,s)}}function kd(o,s,c){var p=c.length;if(o==null)return!p;for(o=je(o);p--;){var m=c[p],T=s[m],C=o[m];if(C===n&&!(m in o)||!T(C))return!1}return!0}function Fd(o,s,c){if(typeof o!="function")throw new fn(u);return Mo(function(){o.apply(n,c)},s)}function Lo(o,s,c,p){var m=-1,T=Na,C=!0,I=o.length,N=[],H=s.length;if(!I)return N;c&&(s=Je(s,Zt(c))),p?(T=Wu,C=!1):s.length>=i&&(T=Co,C=!1,s=new si(s));e:for(;++m<I;){var W=o[m],z=c==null?W:c(W);if(W=p||W!==0?W:0,C&&z===z){for(var Z=H;Z--;)if(s[Z]===z)continue e;N.push(W)}else T(s,z,p)||N.push(W)}return N}var Ar=up(Hn),Bd=up(ol,!0);function Ex(o,s){var c=!0;return Ar(o,function(p,m,T){return c=!!s(p,m,T),c}),c}function Ka(o,s,c){for(var p=-1,m=o.length;++p<m;){var T=o[p],C=s(T);if(C!=null&&(I===n?C===C&&!Qt(C):c(C,I)))var I=C,N=T}return N}function Sx(o,s,c,p){var m=o.length;for(c=we(c),c<0&&(c=-c>m?0:m+c),p=p===n||p>m?m:we(p),p<0&&(p+=m),p=c>p?0:Qp(p);c<p;)o[c++]=s;return o}function Ud(o,s){var c=[];return Ar(o,function(p,m,T){s(p,m,T)&&c.push(p)}),c}function St(o,s,c,p,m){var T=-1,C=o.length;for(c||(c=db),m||(m=[]);++T<C;){var I=o[T];s>0&&c(I)?s>1?St(I,s-1,c,p,m):Sr(m,I):p||(m[m.length]=I)}return m}var il=lp(),Dd=lp(!0);function Hn(o,s){return o&&il(o,s,bt)}function ol(o,s){return o&&Dd(o,s,bt)}function Za(o,s){return Er(s,function(c){return sr(o[c])})}function li(o,s){s=Rr(s,o);for(var c=0,p=s.length;o!=null&&c<p;)o=o[jn(s[c++])];return c&&c==p?o:n}function Md(o,s,c){var p=s(o);return ye(o)?p:Sr(p,c(o))}function Ft(o){return o==null?o===n?Wf:ht:oi&&oi in je(o)?sb(o):xb(o)}function al(o,s){return o>s}function Cx(o,s){return o!=null&&We.call(o,s)}function Ix(o,s){return o!=null&&s in je(o)}function Ax(o,s,c){return o>=Rt(s,c)&&o<gt(s,c)}function sl(o,s,c){for(var p=c?Wu:Na,m=o[0].length,T=o.length,C=T,I=B(T),N=1/0,H=[];C--;){var W=o[C];C&&s&&(W=Je(W,Zt(s))),N=Rt(W.length,N),I[C]=!c&&(s||m>=120&&W.length>=120)?new si(C&&W):n}W=o[0];var z=-1,Z=I[0];e:for(;++z<m&&H.length<N;){var ne=W[z],le=s?s(ne):ne;if(ne=c||ne!==0?ne:0,!(Z?Co(Z,le):p(H,le,c))){for(C=T;--C;){var Te=I[C];if(!(Te?Co(Te,le):p(o[C],le,c)))continue e}Z&&Z.push(le),H.push(ne)}}return H}function Px(o,s,c,p){return Hn(o,function(m,T,C){s(p,c(m),T,C)}),p}function ko(o,s,c){s=Rr(s,o),o=Cp(o,s);var p=o==null?o:o[jn(pn(s))];return p==null?n:Kt(p,o,c)}function Gd(o){return rt(o)&&Ft(o)==Be}function Rx(o){return rt(o)&&Ft(o)==gi}function Ox(o){return rt(o)&&Ft(o)==ot}function Fo(o,s,c,p,m){return o===s?!0:o==null||s==null||!rt(o)&&!rt(s)?o!==o&&s!==s:Nx(o,s,c,p,Fo,m)}function Nx(o,s,c,p,m,T){var C=ye(o),I=ye(s),N=C?Qe:Ot(o),H=I?Qe:Ot(s);N=N==Be?Pt:N,H=H==Be?Pt:H;var W=N==Pt,z=H==Pt,Z=N==H;if(Z&&Nr(o)){if(!Nr(s))return!1;C=!0,W=!1}if(Z&&!W)return T||(T=new Cn),C||$i(o)?yp(o,s,c,p,m,T):ob(o,s,N,c,p,m,T);if(!(c&x)){var ne=W&&We.call(o,"__wrapped__"),le=z&&We.call(s,"__wrapped__");if(ne||le){var Te=ne?o.value():o,fe=le?s.value():s;return T||(T=new Cn),m(Te,fe,c,p,T)}}return Z?(T||(T=new Cn),ab(o,s,c,p,m,T)):!1}function Lx(o){return rt(o)&&Ot(o)==ut}function ul(o,s,c,p){var m=c.length,T=m,C=!p;if(o==null)return!T;for(o=je(o);m--;){var I=c[m];if(C&&I[2]?I[1]!==o[I[0]]:!(I[0]in o))return!1}for(;++m<T;){I=c[m];var N=I[0],H=o[N],W=I[1];if(C&&I[2]){if(H===n&&!(N in o))return!1}else{var z=new Cn;if(p)var Z=p(H,W,N,o,s,z);if(!(Z===n?Fo(W,H,x|b,p,z):Z))return!1}}return!0}function $d(o){if(!et(o)||vb(o))return!1;var s=sr(o)?L1:Yh;return s.test(ci(o))}function kx(o){return rt(o)&&Ft(o)==pr}function Fx(o){return rt(o)&&Ot(o)==Dt}function Bx(o){return rt(o)&&ps(o.length)&&!!Ke[Ft(o)]}function Hd(o){return typeof o=="function"?o:o==null?Ht:typeof o=="object"?ye(o)?zd(o[0],o[1]):jd(o):fv(o)}function ll(o){if(!Do(o))return M1(o);var s=[];for(var c in je(o))We.call(o,c)&&c!="constructor"&&s.push(c);return s}function Ux(o){if(!et(o))return yb(o);var s=Do(o),c=[];for(var p in o)p=="constructor"&&(s||!We.call(o,p))||c.push(p);return c}function fl(o,s){return o<s}function Wd(o,s){var c=-1,p=Gt(o)?B(o.length):[];return Ar(o,function(m,T,C){p[++c]=s(m,T,C)}),p}function jd(o){var s=Sl(o);return s.length==1&&s[0][2]?Ep(s[0][0],s[0][1]):function(c){return c===o||ul(c,o,s)}}function zd(o,s){return Il(o)&&Tp(s)?Ep(jn(o),s):function(c){var p=Ul(c,o);return p===n&&p===s?Dl(c,o):Fo(s,p,x|b)}}function Ja(o,s,c,p,m){o!==s&&il(s,function(T,C){if(m||(m=new Cn),et(T))Dx(o,s,C,c,Ja,p,m);else{var I=p?p(Pl(o,C),T,C+"",o,s,m):n;I===n&&(I=T),nl(o,C,I)}},$t)}function Dx(o,s,c,p,m,T,C){var I=Pl(o,c),N=Pl(s,c),H=C.get(N);if(H){nl(o,c,H);return}var W=T?T(I,N,c+"",o,s,C):n,z=W===n;if(z){var Z=ye(N),ne=!Z&&Nr(N),le=!Z&&!ne&&$i(N);W=N,Z||ne||le?ye(I)?W=I:at(I)?W=Mt(I):ne?(z=!1,W=rp(N,!0)):le?(z=!1,W=ip(N,!0)):W=[]:Go(N)||hi(N)?(W=I,hi(I)?W=ev(I):(!et(I)||sr(I))&&(W=wp(N))):z=!1}z&&(C.set(N,W),m(W,N,p,T,C),C.delete(N)),nl(o,c,W)}function Xd(o,s){var c=o.length;if(!!c)return s+=s<0?c:0,ar(s,c)?o[s]:n}function Vd(o,s,c){s.length?s=Je(s,function(T){return ye(T)?function(C){return li(C,T.length===1?T[0]:T)}:T}):s=[Ht];var p=-1;s=Je(s,Zt(se()));var m=Wd(o,function(T,C,I){var N=Je(s,function(H){return H(T)});return{criteria:N,index:++p,value:T}});return c1(m,function(T,C){return Zx(T,C,c)})}function Mx(o,s){return qd(o,s,function(c,p){return Dl(o,p)})}function qd(o,s,c){for(var p=-1,m=s.length,T={};++p<m;){var C=s[p],I=li(o,C);c(I,C)&&Bo(T,Rr(C,o),I)}return T}function Gx(o){return function(s){return li(s,o)}}function cl(o,s,c,p){var m=p?f1:Ri,T=-1,C=s.length,I=o;for(o===s&&(s=Mt(s)),c&&(I=Je(o,Zt(c)));++T<C;)for(var N=0,H=s[T],W=c?c(H):H;(N=m(I,W,N,p))>-1;)I!==o&&Ha.call(I,N,1),Ha.call(o,N,1);return o}function Yd(o,s){for(var c=o?s.length:0,p=c-1;c--;){var m=s[c];if(c==p||m!==T){var T=m;ar(m)?Ha.call(o,m,1):vl(o,m)}}return o}function hl(o,s){return o+za(Pd()*(s-o+1))}function $x(o,s,c,p){for(var m=-1,T=gt(ja((s-o)/(c||1)),0),C=B(T);T--;)C[p?T:++m]=o,o+=c;return C}function dl(o,s){var c="";if(!o||s<1||s>Oe)return c;do s%2&&(c+=o),s=za(s/2),s&&(o+=o);while(s);return c}function Ce(o,s){return Rl(Sp(o,s,Ht),o+"")}function Hx(o){return Nd(Hi(o))}function Wx(o,s){var c=Hi(o);return us(c,ui(s,0,c.length))}function Bo(o,s,c,p){if(!et(o))return o;s=Rr(s,o);for(var m=-1,T=s.length,C=T-1,I=o;I!=null&&++m<T;){var N=jn(s[m]),H=c;if(N==="__proto__"||N==="constructor"||N==="prototype")return o;if(m!=C){var W=I[N];H=p?p(W,N,I):n,H===n&&(H=et(W)?W:ar(s[m+1])?[]:{})}No(I,N,H),I=I[N]}return o}var Kd=Xa?function(o,s){return Xa.set(o,s),o}:Ht,jx=Wa?function(o,s){return Wa(o,"toString",{configurable:!0,enumerable:!1,value:Gl(s),writable:!0})}:Ht;function zx(o){return us(Hi(o))}function dn(o,s,c){var p=-1,m=o.length;s<0&&(s=-s>m?0:m+s),c=c>m?m:c,c<0&&(c+=m),m=s>c?0:c-s>>>0,s>>>=0;for(var T=B(m);++p<m;)T[p]=o[p+s];return T}function Xx(o,s){var c;return Ar(o,function(p,m,T){return c=s(p,m,T),!c}),!!c}function Qa(o,s,c){var p=0,m=o==null?p:o.length;if(typeof s=="number"&&s===s&&m<=Se){for(;p<m;){var T=p+m>>>1,C=o[T];C!==null&&!Qt(C)&&(c?C<=s:C<s)?p=T+1:m=T}return m}return pl(o,s,Ht,c)}function pl(o,s,c,p){var m=0,T=o==null?0:o.length;if(T===0)return 0;s=c(s);for(var C=s!==s,I=s===null,N=Qt(s),H=s===n;m<T;){var W=za((m+T)/2),z=c(o[W]),Z=z!==n,ne=z===null,le=z===z,Te=Qt(z);if(C)var fe=p||le;else H?fe=le&&(p||Z):I?fe=le&&Z&&(p||!ne):N?fe=le&&Z&&!ne&&(p||!Te):ne||Te?fe=!1:fe=p?z<=s:z<s;fe?m=W+1:T=W}return Rt(T,ue)}function Zd(o,s){for(var c=-1,p=o.length,m=0,T=[];++c<p;){var C=o[c],I=s?s(C):C;if(!c||!In(I,N)){var N=I;T[m++]=C===0?0:C}}return T}function Jd(o){return typeof o=="number"?o:Qt(o)?te:+o}function Jt(o){if(typeof o=="string")return o;if(ye(o))return Je(o,Jt)+"";if(Qt(o))return Rd?Rd.call(o):"";var s=o+"";return s=="0"&&1/o==-me?"-0":s}function Pr(o,s,c){var p=-1,m=Na,T=o.length,C=!0,I=[],N=I;if(c)C=!1,m=Wu;else if(T>=i){var H=s?null:rb(o);if(H)return ka(H);C=!1,m=Co,N=new si}else N=s?[]:I;e:for(;++p<T;){var W=o[p],z=s?s(W):W;if(W=c||W!==0?W:0,C&&z===z){for(var Z=N.length;Z--;)if(N[Z]===z)continue e;s&&N.push(z),I.push(W)}else m(N,z,c)||(N!==I&&N.push(z),I.push(W))}return I}function vl(o,s){return s=Rr(s,o),o=Cp(o,s),o==null||delete o[jn(pn(s))]}function Qd(o,s,c,p){return Bo(o,s,c(li(o,s)),p)}function es(o,s,c,p){for(var m=o.length,T=p?m:-1;(p?T--:++T<m)&&s(o[T],T,o););return c?dn(o,p?0:T,p?T+1:m):dn(o,p?T+1:0,p?m:T)}function ep(o,s){var c=o;return c instanceof Pe&&(c=c.value()),ju(s,function(p,m){return m.func.apply(m.thisArg,Sr([p],m.args))},c)}function _l(o,s,c){var p=o.length;if(p<2)return p?Pr(o[0]):[];for(var m=-1,T=B(p);++m<p;)for(var C=o[m],I=-1;++I<p;)I!=m&&(T[m]=Lo(T[m]||C,o[I],s,c));return Pr(St(T,1),s,c)}function tp(o,s,c){for(var p=-1,m=o.length,T=s.length,C={};++p<m;){var I=p<T?s[p]:n;c(C,o[p],I)}return C}function gl(o){return at(o)?o:[]}function ml(o){return typeof o=="function"?o:Ht}function Rr(o,s){return ye(o)?o:Il(o,s)?[o]:Rp($e(o))}var Vx=Ce;function Or(o,s,c){var p=o.length;return c=c===n?p:c,!s&&c>=p?o:dn(o,s,c)}var np=k1||function(o){return Et.clearTimeout(o)};function rp(o,s){if(s)return o.slice();var c=o.length,p=Ed?Ed(c):new o.constructor(c);return o.copy(p),p}function yl(o){var s=new o.constructor(o.byteLength);return new Ga(s).set(new Ga(o)),s}function qx(o,s){var c=s?yl(o.buffer):o.buffer;return new o.constructor(c,o.byteOffset,o.byteLength)}function Yx(o){var s=new o.constructor(o.source,ku.exec(o));return s.lastIndex=o.lastIndex,s}function Kx(o){return Oo?je(Oo.call(o)):{}}function ip(o,s){var c=s?yl(o.buffer):o.buffer;return new o.constructor(c,o.byteOffset,o.length)}function op(o,s){if(o!==s){var c=o!==n,p=o===null,m=o===o,T=Qt(o),C=s!==n,I=s===null,N=s===s,H=Qt(s);if(!I&&!H&&!T&&o>s||T&&C&&N&&!I&&!H||p&&C&&N||!c&&N||!m)return 1;if(!p&&!T&&!H&&o<s||H&&c&&m&&!p&&!T||I&&c&&m||!C&&m||!N)return-1}return 0}function Zx(o,s,c){for(var p=-1,m=o.criteria,T=s.criteria,C=m.length,I=c.length;++p<C;){var N=op(m[p],T[p]);if(N){if(p>=I)return N;var H=c[p];return N*(H=="desc"?-1:1)}}return o.index-s.index}function ap(o,s,c,p){for(var m=-1,T=o.length,C=c.length,I=-1,N=s.length,H=gt(T-C,0),W=B(N+H),z=!p;++I<N;)W[I]=s[I];for(;++m<C;)(z||m<T)&&(W[c[m]]=o[m]);for(;H--;)W[I++]=o[m++];return W}function sp(o,s,c,p){for(var m=-1,T=o.length,C=-1,I=c.length,N=-1,H=s.length,W=gt(T-I,0),z=B(W+H),Z=!p;++m<W;)z[m]=o[m];for(var ne=m;++N<H;)z[ne+N]=s[N];for(;++C<I;)(Z||m<T)&&(z[ne+c[C]]=o[m++]);return z}function Mt(o,s){var c=-1,p=o.length;for(s||(s=B(p));++c<p;)s[c]=o[c];return s}function Wn(o,s,c,p){var m=!c;c||(c={});for(var T=-1,C=s.length;++T<C;){var I=s[T],N=p?p(c[I],o[I],I,c,o):n;N===n&&(N=o[I]),m?rr(c,I,N):No(c,I,N)}return c}function Jx(o,s){return Wn(o,Cl(o),s)}function Qx(o,s){return Wn(o,xp(o),s)}function ts(o,s){return function(c,p){var m=ye(c)?i1:bx,T=s?s():{};return m(c,o,se(p,2),T)}}function Di(o){return Ce(function(s,c){var p=-1,m=c.length,T=m>1?c[m-1]:n,C=m>2?c[2]:n;for(T=o.length>3&&typeof T=="function"?(m--,T):n,C&&Bt(c[0],c[1],C)&&(T=m<3?n:T,m=1),s=je(s);++p<m;){var I=c[p];I&&o(s,I,p,T)}return s})}function up(o,s){return function(c,p){if(c==null)return c;if(!Gt(c))return o(c,p);for(var m=c.length,T=s?m:-1,C=je(c);(s?T--:++T<m)&&p(C[T],T,C)!==!1;);return c}}function lp(o){return function(s,c,p){for(var m=-1,T=je(s),C=p(s),I=C.length;I--;){var N=C[o?I:++m];if(c(T[N],N,T)===!1)break}return s}}function eb(o,s,c){var p=s&y,m=Uo(o);function T(){var C=this&&this!==Et&&this instanceof T?m:o;return C.apply(p?c:this,arguments)}return T}function fp(o){return function(s){s=$e(s);var c=Oi(s)?Sn(s):n,p=c?c[0]:s.charAt(0),m=c?Or(c,1).join(""):s.slice(1);return p[o]()+m}}function Mi(o){return function(s){return ju(uv(sv(s).replace(jy,"")),o,"")}}function Uo(o){return function(){var s=arguments;switch(s.length){case 0:return new o;case 1:return new o(s[0]);case 2:return new o(s[0],s[1]);case 3:return new o(s[0],s[1],s[2]);case 4:return new o(s[0],s[1],s[2],s[3]);case 5:return new o(s[0],s[1],s[2],s[3],s[4]);case 6:return new o(s[0],s[1],s[2],s[3],s[4],s[5]);case 7:return new o(s[0],s[1],s[2],s[3],s[4],s[5],s[6])}var c=Ui(o.prototype),p=o.apply(c,s);return et(p)?p:c}}function tb(o,s,c){var p=Uo(o);function m(){for(var T=arguments.length,C=B(T),I=T,N=Gi(m);I--;)C[I]=arguments[I];var H=T<3&&C[0]!==N&&C[T-1]!==N?[]:Cr(C,N);if(T-=H.length,T<c)return vp(o,s,ns,m.placeholder,n,C,H,n,n,c-T);var W=this&&this!==Et&&this instanceof m?p:o;return Kt(W,this,C)}return m}function cp(o){return function(s,c,p){var m=je(s);if(!Gt(s)){var T=se(c,3);s=bt(s),c=function(I){return T(m[I],I,m)}}var C=o(s,c,p);return C>-1?m[T?s[C]:C]:n}}function hp(o){return or(function(s){var c=s.length,p=c,m=cn.prototype.thru;for(o&&s.reverse();p--;){var T=s[p];if(typeof T!="function")throw new fn(u);if(m&&!C&&as(T)=="wrapper")var C=new cn([],!0)}for(p=C?p:c;++p<c;){T=s[p];var I=as(T),N=I=="wrapper"?El(T):n;N&&Al(N[0])&&N[1]==(D|A|P|$)&&!N[4].length&&N[9]==1?C=C[as(N[0])].apply(C,N[3]):C=T.length==1&&Al(T)?C[I]():C.thru(T)}return function(){var H=arguments,W=H[0];if(C&&H.length==1&&ye(W))return C.plant(W).value();for(var z=0,Z=c?s[z].apply(this,H):W;++z<c;)Z=s[z].call(this,Z);return Z}})}function ns(o,s,c,p,m,T,C,I,N,H){var W=s&D,z=s&y,Z=s&E,ne=s&(A|L),le=s&U,Te=Z?n:Uo(o);function fe(){for(var Ae=arguments.length,Ne=B(Ae),en=Ae;en--;)Ne[en]=arguments[en];if(ne)var Ut=Gi(fe),tn=d1(Ne,Ut);if(p&&(Ne=ap(Ne,p,m,ne)),T&&(Ne=sp(Ne,T,C,ne)),Ae-=tn,ne&&Ae<H){var st=Cr(Ne,Ut);return vp(o,s,ns,fe.placeholder,c,Ne,st,I,N,H-Ae)}var An=z?c:this,lr=Z?An[o]:o;return Ae=Ne.length,I?Ne=bb(Ne,I):le&&Ae>1&&Ne.reverse(),W&&N<Ae&&(Ne.length=N),this&&this!==Et&&this instanceof fe&&(lr=Te||Uo(lr)),lr.apply(An,Ne)}return fe}function dp(o,s){return function(c,p){return Px(c,o,s(p),{})}}function rs(o,s){return function(c,p){var m;if(c===n&&p===n)return s;if(c!==n&&(m=c),p!==n){if(m===n)return p;typeof c=="string"||typeof p=="string"?(c=Jt(c),p=Jt(p)):(c=Jd(c),p=Jd(p)),m=o(c,p)}return m}}function xl(o){return or(function(s){return s=Je(s,Zt(se())),Ce(function(c){var p=this;return o(s,function(m){return Kt(m,p,c)})})})}function is(o,s){s=s===n?" ":Jt(s);var c=s.length;if(c<2)return c?dl(s,o):s;var p=dl(s,ja(o/Ni(s)));return Oi(s)?Or(Sn(p),0,o).join(""):p.slice(0,o)}function nb(o,s,c,p){var m=s&y,T=Uo(o);function C(){for(var I=-1,N=arguments.length,H=-1,W=p.length,z=B(W+N),Z=this&&this!==Et&&this instanceof C?T:o;++H<W;)z[H]=p[H];for(;N--;)z[H++]=arguments[++I];return Kt(Z,m?c:this,z)}return C}function pp(o){return function(s,c,p){return p&&typeof p!="number"&&Bt(s,c,p)&&(c=p=n),s=ur(s),c===n?(c=s,s=0):c=ur(c),p=p===n?s<c?1:-1:ur(p),$x(s,c,p,o)}}function os(o){return function(s,c){return typeof s=="string"&&typeof c=="string"||(s=vn(s),c=vn(c)),o(s,c)}}function vp(o,s,c,p,m,T,C,I,N,H){var W=s&A,z=W?C:n,Z=W?n:C,ne=W?T:n,le=W?n:T;s|=W?P:R,s&=~(W?R:P),s&S||(s&=~(y|E));var Te=[o,s,m,ne,z,le,Z,I,N,H],fe=c.apply(n,Te);return Al(o)&&Ip(fe,Te),fe.placeholder=p,Ap(fe,o,s)}function bl(o){var s=_t[o];return function(c,p){if(c=vn(c),p=p==null?0:Rt(we(p),292),p&&Ad(c)){var m=($e(c)+"e").split("e"),T=s(m[0]+"e"+(+m[1]+p));return m=($e(T)+"e").split("e"),+(m[0]+"e"+(+m[1]-p))}return s(c)}}var rb=Fi&&1/ka(new Fi([,-0]))[1]==me?function(o){return new Fi(o)}:Wl;function _p(o){return function(s){var c=Ot(s);return c==ut?Zu(s):c==Dt?x1(s):h1(s,o(s))}}function ir(o,s,c,p,m,T,C,I){var N=s&E;if(!N&&typeof o!="function")throw new fn(u);var H=p?p.length:0;if(H||(s&=~(P|R),p=m=n),C=C===n?C:gt(we(C),0),I=I===n?I:we(I),H-=m?m.length:0,s&R){var W=p,z=m;p=m=n}var Z=N?n:El(o),ne=[o,s,c,p,m,W,z,T,C,I];if(Z&&mb(ne,Z),o=ne[0],s=ne[1],c=ne[2],p=ne[3],m=ne[4],I=ne[9]=ne[9]===n?N?0:o.length:gt(ne[9]-H,0),!I&&s&(A|L)&&(s&=~(A|L)),!s||s==y)var le=eb(o,s,c);else s==A||s==L?le=tb(o,s,I):(s==P||s==(y|P))&&!m.length?le=nb(o,s,c,p):le=ns.apply(n,ne);var Te=Z?Kd:Ip;return Ap(Te(le,ne),o,s)}function gp(o,s,c,p){return o===n||In(o,ki[c])&&!We.call(p,c)?s:o}function mp(o,s,c,p,m,T){return et(o)&&et(s)&&(T.set(s,o),Ja(o,s,n,mp,T),T.delete(s)),o}function ib(o){return Go(o)?n:o}function yp(o,s,c,p,m,T){var C=c&x,I=o.length,N=s.length;if(I!=N&&!(C&&N>I))return!1;var H=T.get(o),W=T.get(s);if(H&&W)return H==s&&W==o;var z=-1,Z=!0,ne=c&b?new si:n;for(T.set(o,s),T.set(s,o);++z<I;){var le=o[z],Te=s[z];if(p)var fe=C?p(Te,le,z,s,o,T):p(le,Te,z,o,s,T);if(fe!==n){if(fe)continue;Z=!1;break}if(ne){if(!zu(s,function(Ae,Ne){if(!Co(ne,Ne)&&(le===Ae||m(le,Ae,c,p,T)))return ne.push(Ne)})){Z=!1;break}}else if(!(le===Te||m(le,Te,c,p,T))){Z=!1;break}}return T.delete(o),T.delete(s),Z}function ob(o,s,c,p,m,T,C){switch(c){case jr:if(o.byteLength!=s.byteLength||o.byteOffset!=s.byteOffset)return!1;o=o.buffer,s=s.buffer;case gi:return!(o.byteLength!=s.byteLength||!T(new Ga(o),new Ga(s)));case mt:case ot:case vt:return In(+o,+s);case ft:return o.name==s.name&&o.message==s.message;case pr:case Tr:return o==s+"";case ut:var I=Zu;case Dt:var N=p&x;if(I||(I=ka),o.size!=s.size&&!N)return!1;var H=C.get(o);if(H)return H==s;p|=b,C.set(o,s);var W=yp(I(o),I(s),p,m,T,C);return C.delete(o),W;case ni:if(Oo)return Oo.call(o)==Oo.call(s)}return!1}function ab(o,s,c,p,m,T){var C=c&x,I=wl(o),N=I.length,H=wl(s),W=H.length;if(N!=W&&!C)return!1;for(var z=N;z--;){var Z=I[z];if(!(C?Z in s:We.call(s,Z)))return!1}var ne=T.get(o),le=T.get(s);if(ne&&le)return ne==s&&le==o;var Te=!0;T.set(o,s),T.set(s,o);for(var fe=C;++z<N;){Z=I[z];var Ae=o[Z],Ne=s[Z];if(p)var en=C?p(Ne,Ae,Z,s,o,T):p(Ae,Ne,Z,o,s,T);if(!(en===n?Ae===Ne||m(Ae,Ne,c,p,T):en)){Te=!1;break}fe||(fe=Z=="constructor")}if(Te&&!fe){var Ut=o.constructor,tn=s.constructor;Ut!=tn&&"constructor"in o&&"constructor"in s&&!(typeof Ut=="function"&&Ut instanceof Ut&&typeof tn=="function"&&tn instanceof tn)&&(Te=!1)}return T.delete(o),T.delete(s),Te}function or(o){return Rl(Sp(o,n,kp),o+"")}function wl(o){return Md(o,bt,Cl)}function Tl(o){return Md(o,$t,xp)}var El=Xa?function(o){return Xa.get(o)}:Wl;function as(o){for(var s=o.name+"",c=Bi[s],p=We.call(Bi,s)?c.length:0;p--;){var m=c[p],T=m.func;if(T==null||T==o)return m.name}return s}function Gi(o){var s=We.call(w,"placeholder")?w:o;return s.placeholder}function se(){var o=w.iteratee||$l;return o=o===$l?Hd:o,arguments.length?o(arguments[0],arguments[1]):o}function ss(o,s){var c=o.__data__;return pb(s)?c[typeof s=="string"?"string":"hash"]:c.map}function Sl(o){for(var s=bt(o),c=s.length;c--;){var p=s[c],m=o[p];s[c]=[p,m,Tp(m)]}return s}function fi(o,s){var c=g1(o,s);return $d(c)?c:n}function sb(o){var s=We.call(o,oi),c=o[oi];try{o[oi]=n;var p=!0}catch{}var m=Da.call(o);return p&&(s?o[oi]=c:delete o[oi]),m}var Cl=Qu?function(o){return o==null?[]:(o=je(o),Er(Qu(o),function(s){return Cd.call(o,s)}))}:jl,xp=Qu?function(o){for(var s=[];o;)Sr(s,Cl(o)),o=$a(o);return s}:jl,Ot=Ft;(el&&Ot(new el(new ArrayBuffer(1)))!=jr||Ao&&Ot(new Ao)!=ut||tl&&Ot(tl.resolve())!=wr||Fi&&Ot(new Fi)!=Dt||Po&&Ot(new Po)!=_i)&&(Ot=function(o){var s=Ft(o),c=s==Pt?o.constructor:n,p=c?ci(c):"";if(p)switch(p){case W1:return jr;case j1:return ut;case z1:return wr;case X1:return Dt;case V1:return _i}return s});function ub(o,s,c){for(var p=-1,m=c.length;++p<m;){var T=c[p],C=T.size;switch(T.type){case"drop":o+=C;break;case"dropRight":s-=C;break;case"take":s=Rt(s,o+C);break;case"takeRight":o=gt(o,s-C);break}}return{start:o,end:s}}function lb(o){var s=o.match($h);return s?s[1].split(Hh):[]}function bp(o,s,c){s=Rr(s,o);for(var p=-1,m=s.length,T=!1;++p<m;){var C=jn(s[p]);if(!(T=o!=null&&c(o,C)))break;o=o[C]}return T||++p!=m?T:(m=o==null?0:o.length,!!m&&ps(m)&&ar(C,m)&&(ye(o)||hi(o)))}function fb(o){var s=o.length,c=new o.constructor(s);return s&&typeof o[0]=="string"&&We.call(o,"index")&&(c.index=o.index,c.input=o.input),c}function wp(o){return typeof o.constructor=="function"&&!Do(o)?Ui($a(o)):{}}function cb(o,s,c){var p=o.constructor;switch(s){case gi:return yl(o);case mt:case ot:return new p(+o);case jr:return qx(o,c);case ea:case ta:case na:case ra:case ia:case wo:case Ca:case Ia:case To:return ip(o,c);case ut:return new p;case vt:case Tr:return new p(o);case pr:return Yx(o);case Dt:return new p;case ni:return Kx(o)}}function hb(o,s){var c=s.length;if(!c)return o;var p=c-1;return s[p]=(c>1?"& ":"")+s[p],s=s.join(c>2?", ":" "),o.replace(Gh,`{
/* [wrapped with `+s+`] */
`)}function db(o){return ye(o)||hi(o)||!!(Id&&o&&o[Id])}function ar(o,s){var c=typeof o;return s=s==null?Oe:s,!!s&&(c=="number"||c!="symbol"&&Zh.test(o))&&o>-1&&o%1==0&&o<s}function Bt(o,s,c){if(!et(c))return!1;var p=typeof s;return(p=="number"?Gt(c)&&ar(s,c.length):p=="string"&&s in c)?In(c[s],o):!1}function Il(o,s){if(ye(o))return!1;var c=typeof o;return c=="number"||c=="symbol"||c=="boolean"||o==null||Qt(o)?!0:Uh.test(o)||!Bh.test(o)||s!=null&&o in je(s)}function pb(o){var s=typeof o;return s=="string"||s=="number"||s=="symbol"||s=="boolean"?o!=="__proto__":o===null}function Al(o){var s=as(o),c=w[s];if(typeof c!="function"||!(s in Pe.prototype))return!1;if(o===c)return!0;var p=El(c);return!!p&&o===p[0]}function vb(o){return!!Td&&Td in o}var _b=Ba?sr:zl;function Do(o){var s=o&&o.constructor,c=typeof s=="function"&&s.prototype||ki;return o===c}function Tp(o){return o===o&&!et(o)}function Ep(o,s){return function(c){return c==null?!1:c[o]===s&&(s!==n||o in je(c))}}function gb(o){var s=hs(o,function(p){return c.size===h&&c.clear(),p}),c=s.cache;return s}function mb(o,s){var c=o[1],p=s[1],m=c|p,T=m<(y|E|D),C=p==D&&c==A||p==D&&c==$&&o[7].length<=s[8]||p==(D|$)&&s[7].length<=s[8]&&c==A;if(!(T||C))return o;p&y&&(o[2]=s[2],m|=c&y?0:S);var I=s[3];if(I){var N=o[3];o[3]=N?ap(N,I,s[4]):I,o[4]=N?Cr(o[3],d):s[4]}return I=s[5],I&&(N=o[5],o[5]=N?sp(N,I,s[6]):I,o[6]=N?Cr(o[5],d):s[6]),I=s[7],I&&(o[7]=I),p&D&&(o[8]=o[8]==null?s[8]:Rt(o[8],s[8])),o[9]==null&&(o[9]=s[9]),o[0]=s[0],o[1]=m,o}function yb(o){var s=[];if(o!=null)for(var c in je(o))s.push(c);return s}function xb(o){return Da.call(o)}function Sp(o,s,c){return s=gt(s===n?o.length-1:s,0),function(){for(var p=arguments,m=-1,T=gt(p.length-s,0),C=B(T);++m<T;)C[m]=p[s+m];m=-1;for(var I=B(s+1);++m<s;)I[m]=p[m];return I[s]=c(C),Kt(o,this,I)}}function Cp(o,s){return s.length<2?o:li(o,dn(s,0,-1))}function bb(o,s){for(var c=o.length,p=Rt(s.length,c),m=Mt(o);p--;){var T=s[p];o[p]=ar(T,c)?m[T]:n}return o}function Pl(o,s){if(!(s==="constructor"&&typeof o[s]=="function")&&s!="__proto__")return o[s]}var Ip=Pp(Kd),Mo=B1||function(o,s){return Et.setTimeout(o,s)},Rl=Pp(jx);function Ap(o,s,c){var p=s+"";return Rl(o,hb(p,wb(lb(p),c)))}function Pp(o){var s=0,c=0;return function(){var p=G1(),m=ve-(p-c);if(c=p,m>0){if(++s>=re)return arguments[0]}else s=0;return o.apply(n,arguments)}}function us(o,s){var c=-1,p=o.length,m=p-1;for(s=s===n?p:s;++c<s;){var T=hl(c,m),C=o[T];o[T]=o[c],o[c]=C}return o.length=s,o}var Rp=gb(function(o){var s=[];return o.charCodeAt(0)===46&&s.push(""),o.replace(Dh,function(c,p,m,T){s.push(m?T.replace(zh,"$1"):p||c)}),s});function jn(o){if(typeof o=="string"||Qt(o))return o;var s=o+"";return s=="0"&&1/o==-me?"-0":s}function ci(o){if(o!=null){try{return Ua.call(o)}catch{}try{return o+""}catch{}}return""}function wb(o,s){return ln(ke,function(c){var p="_."+c[0];s&c[1]&&!Na(o,p)&&o.push(p)}),o.sort()}function Op(o){if(o instanceof Pe)return o.clone();var s=new cn(o.__wrapped__,o.__chain__);return s.__actions__=Mt(o.__actions__),s.__index__=o.__index__,s.__values__=o.__values__,s}function Tb(o,s,c){(c?Bt(o,s,c):s===n)?s=1:s=gt(we(s),0);var p=o==null?0:o.length;if(!p||s<1)return[];for(var m=0,T=0,C=B(ja(p/s));m<p;)C[T++]=dn(o,m,m+=s);return C}function Eb(o){for(var s=-1,c=o==null?0:o.length,p=0,m=[];++s<c;){var T=o[s];T&&(m[p++]=T)}return m}function Sb(){var o=arguments.length;if(!o)return[];for(var s=B(o-1),c=arguments[0],p=o;p--;)s[p-1]=arguments[p];return Sr(ye(c)?Mt(c):[c],St(s,1))}var Cb=Ce(function(o,s){return at(o)?Lo(o,St(s,1,at,!0)):[]}),Ib=Ce(function(o,s){var c=pn(s);return at(c)&&(c=n),at(o)?Lo(o,St(s,1,at,!0),se(c,2)):[]}),Ab=Ce(function(o,s){var c=pn(s);return at(c)&&(c=n),at(o)?Lo(o,St(s,1,at,!0),n,c):[]});function Pb(o,s,c){var p=o==null?0:o.length;return p?(s=c||s===n?1:we(s),dn(o,s<0?0:s,p)):[]}function Rb(o,s,c){var p=o==null?0:o.length;return p?(s=c||s===n?1:we(s),s=p-s,dn(o,0,s<0?0:s)):[]}function Ob(o,s){return o&&o.length?es(o,se(s,3),!0,!0):[]}function Nb(o,s){return o&&o.length?es(o,se(s,3),!0):[]}function Lb(o,s,c,p){var m=o==null?0:o.length;return m?(c&&typeof c!="number"&&Bt(o,s,c)&&(c=0,p=m),Sx(o,s,c,p)):[]}function Np(o,s,c){var p=o==null?0:o.length;if(!p)return-1;var m=c==null?0:we(c);return m<0&&(m=gt(p+m,0)),La(o,se(s,3),m)}function Lp(o,s,c){var p=o==null?0:o.length;if(!p)return-1;var m=p-1;return c!==n&&(m=we(c),m=c<0?gt(p+m,0):Rt(m,p-1)),La(o,se(s,3),m,!0)}function kp(o){var s=o==null?0:o.length;return s?St(o,1):[]}function kb(o){var s=o==null?0:o.length;return s?St(o,me):[]}function Fb(o,s){var c=o==null?0:o.length;return c?(s=s===n?1:we(s),St(o,s)):[]}function Bb(o){for(var s=-1,c=o==null?0:o.length,p={};++s<c;){var m=o[s];p[m[0]]=m[1]}return p}function Fp(o){return o&&o.length?o[0]:n}function Ub(o,s,c){var p=o==null?0:o.length;if(!p)return-1;var m=c==null?0:we(c);return m<0&&(m=gt(p+m,0)),Ri(o,s,m)}function Db(o){var s=o==null?0:o.length;return s?dn(o,0,-1):[]}var Mb=Ce(function(o){var s=Je(o,gl);return s.length&&s[0]===o[0]?sl(s):[]}),Gb=Ce(function(o){var s=pn(o),c=Je(o,gl);return s===pn(c)?s=n:c.pop(),c.length&&c[0]===o[0]?sl(c,se(s,2)):[]}),$b=Ce(function(o){var s=pn(o),c=Je(o,gl);return s=typeof s=="function"?s:n,s&&c.pop(),c.length&&c[0]===o[0]?sl(c,n,s):[]});function Hb(o,s){return o==null?"":D1.call(o,s)}function pn(o){var s=o==null?0:o.length;return s?o[s-1]:n}function Wb(o,s,c){var p=o==null?0:o.length;if(!p)return-1;var m=p;return c!==n&&(m=we(c),m=m<0?gt(p+m,0):Rt(m,p-1)),s===s?w1(o,s,m):La(o,vd,m,!0)}function jb(o,s){return o&&o.length?Xd(o,we(s)):n}var zb=Ce(Bp);function Bp(o,s){return o&&o.length&&s&&s.length?cl(o,s):o}function Xb(o,s,c){return o&&o.length&&s&&s.length?cl(o,s,se(c,2)):o}function Vb(o,s,c){return o&&o.length&&s&&s.length?cl(o,s,n,c):o}var qb=or(function(o,s){var c=o==null?0:o.length,p=rl(o,s);return Yd(o,Je(s,function(m){return ar(m,c)?+m:m}).sort(op)),p});function Yb(o,s){var c=[];if(!(o&&o.length))return c;var p=-1,m=[],T=o.length;for(s=se(s,3);++p<T;){var C=o[p];s(C,p,o)&&(c.push(C),m.push(p))}return Yd(o,m),c}function Ol(o){return o==null?o:H1.call(o)}function Kb(o,s,c){var p=o==null?0:o.length;return p?(c&&typeof c!="number"&&Bt(o,s,c)?(s=0,c=p):(s=s==null?0:we(s),c=c===n?p:we(c)),dn(o,s,c)):[]}function Zb(o,s){return Qa(o,s)}function Jb(o,s,c){return pl(o,s,se(c,2))}function Qb(o,s){var c=o==null?0:o.length;if(c){var p=Qa(o,s);if(p<c&&In(o[p],s))return p}return-1}function ew(o,s){return Qa(o,s,!0)}function tw(o,s,c){return pl(o,s,se(c,2),!0)}function nw(o,s){var c=o==null?0:o.length;if(c){var p=Qa(o,s,!0)-1;if(In(o[p],s))return p}return-1}function rw(o){return o&&o.length?Zd(o):[]}function iw(o,s){return o&&o.length?Zd(o,se(s,2)):[]}function ow(o){var s=o==null?0:o.length;return s?dn(o,1,s):[]}function aw(o,s,c){return o&&o.length?(s=c||s===n?1:we(s),dn(o,0,s<0?0:s)):[]}function sw(o,s,c){var p=o==null?0:o.length;return p?(s=c||s===n?1:we(s),s=p-s,dn(o,s<0?0:s,p)):[]}function uw(o,s){return o&&o.length?es(o,se(s,3),!1,!0):[]}function lw(o,s){return o&&o.length?es(o,se(s,3)):[]}var fw=Ce(function(o){return Pr(St(o,1,at,!0))}),cw=Ce(function(o){var s=pn(o);return at(s)&&(s=n),Pr(St(o,1,at,!0),se(s,2))}),hw=Ce(function(o){var s=pn(o);return s=typeof s=="function"?s:n,Pr(St(o,1,at,!0),n,s)});function dw(o){return o&&o.length?Pr(o):[]}function pw(o,s){return o&&o.length?Pr(o,se(s,2)):[]}function vw(o,s){return s=typeof s=="function"?s:n,o&&o.length?Pr(o,n,s):[]}function Nl(o){if(!(o&&o.length))return[];var s=0;return o=Er(o,function(c){if(at(c))return s=gt(c.length,s),!0}),Yu(s,function(c){return Je(o,Xu(c))})}function Up(o,s){if(!(o&&o.length))return[];var c=Nl(o);return s==null?c:Je(c,function(p){return Kt(s,n,p)})}var _w=Ce(function(o,s){return at(o)?Lo(o,s):[]}),gw=Ce(function(o){return _l(Er(o,at))}),mw=Ce(function(o){var s=pn(o);return at(s)&&(s=n),_l(Er(o,at),se(s,2))}),yw=Ce(function(o){var s=pn(o);return s=typeof s=="function"?s:n,_l(Er(o,at),n,s)}),xw=Ce(Nl);function bw(o,s){return tp(o||[],s||[],No)}function ww(o,s){return tp(o||[],s||[],Bo)}var Tw=Ce(function(o){var s=o.length,c=s>1?o[s-1]:n;return c=typeof c=="function"?(o.pop(),c):n,Up(o,c)});function Dp(o){var s=w(o);return s.__chain__=!0,s}function Ew(o,s){return s(o),o}function ls(o,s){return s(o)}var Sw=or(function(o){var s=o.length,c=s?o[0]:0,p=this.__wrapped__,m=function(T){return rl(T,o)};return s>1||this.__actions__.length||!(p instanceof Pe)||!ar(c)?this.thru(m):(p=p.slice(c,+c+(s?1:0)),p.__actions__.push({func:ls,args:[m],thisArg:n}),new cn(p,this.__chain__).thru(function(T){return s&&!T.length&&T.push(n),T}))});function Cw(){return Dp(this)}function Iw(){return new cn(this.value(),this.__chain__)}function Aw(){this.__values__===n&&(this.__values__=Jp(this.value()));var o=this.__index__>=this.__values__.length,s=o?n:this.__values__[this.__index__++];return{done:o,value:s}}function Pw(){return this}function Rw(o){for(var s,c=this;c instanceof qa;){var p=Op(c);p.__index__=0,p.__values__=n,s?m.__wrapped__=p:s=p;var m=p;c=c.__wrapped__}return m.__wrapped__=o,s}function Ow(){var o=this.__wrapped__;if(o instanceof Pe){var s=o;return this.__actions__.length&&(s=new Pe(this)),s=s.reverse(),s.__actions__.push({func:ls,args:[Ol],thisArg:n}),new cn(s,this.__chain__)}return this.thru(Ol)}function Nw(){return ep(this.__wrapped__,this.__actions__)}var Lw=ts(function(o,s,c){We.call(o,c)?++o[c]:rr(o,c,1)});function kw(o,s,c){var p=ye(o)?dd:Ex;return c&&Bt(o,s,c)&&(s=n),p(o,se(s,3))}function Fw(o,s){var c=ye(o)?Er:Ud;return c(o,se(s,3))}var Bw=cp(Np),Uw=cp(Lp);function Dw(o,s){return St(fs(o,s),1)}function Mw(o,s){return St(fs(o,s),me)}function Gw(o,s,c){return c=c===n?1:we(c),St(fs(o,s),c)}function Mp(o,s){var c=ye(o)?ln:Ar;return c(o,se(s,3))}function Gp(o,s){var c=ye(o)?o1:Bd;return c(o,se(s,3))}var $w=ts(function(o,s,c){We.call(o,c)?o[c].push(s):rr(o,c,[s])});function Hw(o,s,c,p){o=Gt(o)?o:Hi(o),c=c&&!p?we(c):0;var m=o.length;return c<0&&(c=gt(m+c,0)),vs(o)?c<=m&&o.indexOf(s,c)>-1:!!m&&Ri(o,s,c)>-1}var Ww=Ce(function(o,s,c){var p=-1,m=typeof s=="function",T=Gt(o)?B(o.length):[];return Ar(o,function(C){T[++p]=m?Kt(s,C,c):ko(C,s,c)}),T}),jw=ts(function(o,s,c){rr(o,c,s)});function fs(o,s){var c=ye(o)?Je:Wd;return c(o,se(s,3))}function zw(o,s,c,p){return o==null?[]:(ye(s)||(s=s==null?[]:[s]),c=p?n:c,ye(c)||(c=c==null?[]:[c]),Vd(o,s,c))}var Xw=ts(function(o,s,c){o[c?0:1].push(s)},function(){return[[],[]]});function Vw(o,s,c){var p=ye(o)?ju:gd,m=arguments.length<3;return p(o,se(s,4),c,m,Ar)}function qw(o,s,c){var p=ye(o)?a1:gd,m=arguments.length<3;return p(o,se(s,4),c,m,Bd)}function Yw(o,s){var c=ye(o)?Er:Ud;return c(o,ds(se(s,3)))}function Kw(o){var s=ye(o)?Nd:Hx;return s(o)}function Zw(o,s,c){(c?Bt(o,s,c):s===n)?s=1:s=we(s);var p=ye(o)?yx:Wx;return p(o,s)}function Jw(o){var s=ye(o)?xx:zx;return s(o)}function Qw(o){if(o==null)return 0;if(Gt(o))return vs(o)?Ni(o):o.length;var s=Ot(o);return s==ut||s==Dt?o.size:ll(o).length}function eT(o,s,c){var p=ye(o)?zu:Xx;return c&&Bt(o,s,c)&&(s=n),p(o,se(s,3))}var tT=Ce(function(o,s){if(o==null)return[];var c=s.length;return c>1&&Bt(o,s[0],s[1])?s=[]:c>2&&Bt(s[0],s[1],s[2])&&(s=[s[0]]),Vd(o,St(s,1),[])}),cs=F1||function(){return Et.Date.now()};function nT(o,s){if(typeof s!="function")throw new fn(u);return o=we(o),function(){if(--o<1)return s.apply(this,arguments)}}function $p(o,s,c){return s=c?n:s,s=o&&s==null?o.length:s,ir(o,D,n,n,n,n,s)}function Hp(o,s){var c;if(typeof s!="function")throw new fn(u);return o=we(o),function(){return--o>0&&(c=s.apply(this,arguments)),o<=1&&(s=n),c}}var Ll=Ce(function(o,s,c){var p=y;if(c.length){var m=Cr(c,Gi(Ll));p|=P}return ir(o,p,s,c,m)}),Wp=Ce(function(o,s,c){var p=y|E;if(c.length){var m=Cr(c,Gi(Wp));p|=P}return ir(s,p,o,c,m)});function jp(o,s,c){s=c?n:s;var p=ir(o,A,n,n,n,n,n,s);return p.placeholder=jp.placeholder,p}function zp(o,s,c){s=c?n:s;var p=ir(o,L,n,n,n,n,n,s);return p.placeholder=zp.placeholder,p}function Xp(o,s,c){var p,m,T,C,I,N,H=0,W=!1,z=!1,Z=!0;if(typeof o!="function")throw new fn(u);s=vn(s)||0,et(c)&&(W=!!c.leading,z="maxWait"in c,T=z?gt(vn(c.maxWait)||0,s):T,Z="trailing"in c?!!c.trailing:Z);function ne(st){var An=p,lr=m;return p=m=n,H=st,C=o.apply(lr,An),C}function le(st){return H=st,I=Mo(Ae,s),W?ne(st):C}function Te(st){var An=st-N,lr=st-H,cv=s-An;return z?Rt(cv,T-lr):cv}function fe(st){var An=st-N,lr=st-H;return N===n||An>=s||An<0||z&&lr>=T}function Ae(){var st=cs();if(fe(st))return Ne(st);I=Mo(Ae,Te(st))}function Ne(st){return I=n,Z&&p?ne(st):(p=m=n,C)}function en(){I!==n&&np(I),H=0,p=N=m=I=n}function Ut(){return I===n?C:Ne(cs())}function tn(){var st=cs(),An=fe(st);if(p=arguments,m=this,N=st,An){if(I===n)return le(N);if(z)return np(I),I=Mo(Ae,s),ne(N)}return I===n&&(I=Mo(Ae,s)),C}return tn.cancel=en,tn.flush=Ut,tn}var rT=Ce(function(o,s){return Fd(o,1,s)}),iT=Ce(function(o,s,c){return Fd(o,vn(s)||0,c)});function oT(o){return ir(o,U)}function hs(o,s){if(typeof o!="function"||s!=null&&typeof s!="function")throw new fn(u);var c=function(){var p=arguments,m=s?s.apply(this,p):p[0],T=c.cache;if(T.has(m))return T.get(m);var C=o.apply(this,p);return c.cache=T.set(m,C)||T,C};return c.cache=new(hs.Cache||nr),c}hs.Cache=nr;function ds(o){if(typeof o!="function")throw new fn(u);return function(){var s=arguments;switch(s.length){case 0:return!o.call(this);case 1:return!o.call(this,s[0]);case 2:return!o.call(this,s[0],s[1]);case 3:return!o.call(this,s[0],s[1],s[2])}return!o.apply(this,s)}}function aT(o){return Hp(2,o)}var sT=Vx(function(o,s){s=s.length==1&&ye(s[0])?Je(s[0],Zt(se())):Je(St(s,1),Zt(se()));var c=s.length;return Ce(function(p){for(var m=-1,T=Rt(p.length,c);++m<T;)p[m]=s[m].call(this,p[m]);return Kt(o,this,p)})}),kl=Ce(function(o,s){var c=Cr(s,Gi(kl));return ir(o,P,n,s,c)}),Vp=Ce(function(o,s){var c=Cr(s,Gi(Vp));return ir(o,R,n,s,c)}),uT=or(function(o,s){return ir(o,$,n,n,n,s)});function lT(o,s){if(typeof o!="function")throw new fn(u);return s=s===n?s:we(s),Ce(o,s)}function fT(o,s){if(typeof o!="function")throw new fn(u);return s=s==null?0:gt(we(s),0),Ce(function(c){var p=c[s],m=Or(c,0,s);return p&&Sr(m,p),Kt(o,this,m)})}function cT(o,s,c){var p=!0,m=!0;if(typeof o!="function")throw new fn(u);return et(c)&&(p="leading"in c?!!c.leading:p,m="trailing"in c?!!c.trailing:m),Xp(o,s,{leading:p,maxWait:s,trailing:m})}function hT(o){return $p(o,1)}function dT(o,s){return kl(ml(s),o)}function pT(){if(!arguments.length)return[];var o=arguments[0];return ye(o)?o:[o]}function vT(o){return hn(o,g)}function _T(o,s){return s=typeof s=="function"?s:n,hn(o,g,s)}function gT(o){return hn(o,v|g)}function mT(o,s){return s=typeof s=="function"?s:n,hn(o,v|g,s)}function yT(o,s){return s==null||kd(o,s,bt(s))}function In(o,s){return o===s||o!==o&&s!==s}var xT=os(al),bT=os(function(o,s){return o>=s}),hi=Gd(function(){return arguments}())?Gd:function(o){return rt(o)&&We.call(o,"callee")&&!Cd.call(o,"callee")},ye=B.isArray,wT=sd?Zt(sd):Rx;function Gt(o){return o!=null&&ps(o.length)&&!sr(o)}function at(o){return rt(o)&&Gt(o)}function TT(o){return o===!0||o===!1||rt(o)&&Ft(o)==mt}var Nr=U1||zl,ET=ud?Zt(ud):Ox;function ST(o){return rt(o)&&o.nodeType===1&&!Go(o)}function CT(o){if(o==null)return!0;if(Gt(o)&&(ye(o)||typeof o=="string"||typeof o.splice=="function"||Nr(o)||$i(o)||hi(o)))return!o.length;var s=Ot(o);if(s==ut||s==Dt)return!o.size;if(Do(o))return!ll(o).length;for(var c in o)if(We.call(o,c))return!1;return!0}function IT(o,s){return Fo(o,s)}function AT(o,s,c){c=typeof c=="function"?c:n;var p=c?c(o,s):n;return p===n?Fo(o,s,n,c):!!p}function Fl(o){if(!rt(o))return!1;var s=Ft(o);return s==ft||s==Yt||typeof o.message=="string"&&typeof o.name=="string"&&!Go(o)}function PT(o){return typeof o=="number"&&Ad(o)}function sr(o){if(!et(o))return!1;var s=Ft(o);return s==yt||s==nt||s==It||s==io}function qp(o){return typeof o=="number"&&o==we(o)}function ps(o){return typeof o=="number"&&o>-1&&o%1==0&&o<=Oe}function et(o){var s=typeof o;return o!=null&&(s=="object"||s=="function")}function rt(o){return o!=null&&typeof o=="object"}var Yp=ld?Zt(ld):Lx;function RT(o,s){return o===s||ul(o,s,Sl(s))}function OT(o,s,c){return c=typeof c=="function"?c:n,ul(o,s,Sl(s),c)}function NT(o){return Kp(o)&&o!=+o}function LT(o){if(_b(o))throw new ge(a);return $d(o)}function kT(o){return o===null}function FT(o){return o==null}function Kp(o){return typeof o=="number"||rt(o)&&Ft(o)==vt}function Go(o){if(!rt(o)||Ft(o)!=Pt)return!1;var s=$a(o);if(s===null)return!0;var c=We.call(s,"constructor")&&s.constructor;return typeof c=="function"&&c instanceof c&&Ua.call(c)==O1}var Bl=fd?Zt(fd):kx;function BT(o){return qp(o)&&o>=-Oe&&o<=Oe}var Zp=cd?Zt(cd):Fx;function vs(o){return typeof o=="string"||!ye(o)&&rt(o)&&Ft(o)==Tr}function Qt(o){return typeof o=="symbol"||rt(o)&&Ft(o)==ni}var $i=hd?Zt(hd):Bx;function UT(o){return o===n}function DT(o){return rt(o)&&Ot(o)==_i}function MT(o){return rt(o)&&Ft(o)==jf}var GT=os(fl),$T=os(function(o,s){return o<=s});function Jp(o){if(!o)return[];if(Gt(o))return vs(o)?Sn(o):Mt(o);if(Io&&o[Io])return y1(o[Io]());var s=Ot(o),c=s==ut?Zu:s==Dt?ka:Hi;return c(o)}function ur(o){if(!o)return o===0?o:0;if(o=vn(o),o===me||o===-me){var s=o<0?-1:1;return s*pt}return o===o?o:0}function we(o){var s=ur(o),c=s%1;return s===s?c?s-c:s:0}function Qp(o){return o?ui(we(o),0,Y):0}function vn(o){if(typeof o=="number")return o;if(Qt(o))return te;if(et(o)){var s=typeof o.valueOf=="function"?o.valueOf():o;o=et(s)?s+"":s}if(typeof o!="string")return o===0?o:+o;o=md(o);var c=qh.test(o);return c||Kh.test(o)?n1(o.slice(2),c?2:8):Vh.test(o)?te:+o}function ev(o){return Wn(o,$t(o))}function HT(o){return o?ui(we(o),-Oe,Oe):o===0?o:0}function $e(o){return o==null?"":Jt(o)}var WT=Di(function(o,s){if(Do(s)||Gt(s)){Wn(s,bt(s),o);return}for(var c in s)We.call(s,c)&&No(o,c,s[c])}),tv=Di(function(o,s){Wn(s,$t(s),o)}),_s=Di(function(o,s,c,p){Wn(s,$t(s),o,p)}),jT=Di(function(o,s,c,p){Wn(s,bt(s),o,p)}),zT=or(rl);function XT(o,s){var c=Ui(o);return s==null?c:Ld(c,s)}var VT=Ce(function(o,s){o=je(o);var c=-1,p=s.length,m=p>2?s[2]:n;for(m&&Bt(s[0],s[1],m)&&(p=1);++c<p;)for(var T=s[c],C=$t(T),I=-1,N=C.length;++I<N;){var H=C[I],W=o[H];(W===n||In(W,ki[H])&&!We.call(o,H))&&(o[H]=T[H])}return o}),qT=Ce(function(o){return o.push(n,mp),Kt(nv,n,o)});function YT(o,s){return pd(o,se(s,3),Hn)}function KT(o,s){return pd(o,se(s,3),ol)}function ZT(o,s){return o==null?o:il(o,se(s,3),$t)}function JT(o,s){return o==null?o:Dd(o,se(s,3),$t)}function QT(o,s){return o&&Hn(o,se(s,3))}function eE(o,s){return o&&ol(o,se(s,3))}function tE(o){return o==null?[]:Za(o,bt(o))}function nE(o){return o==null?[]:Za(o,$t(o))}function Ul(o,s,c){var p=o==null?n:li(o,s);return p===n?c:p}function rE(o,s){return o!=null&&bp(o,s,Cx)}function Dl(o,s){return o!=null&&bp(o,s,Ix)}var iE=dp(function(o,s,c){s!=null&&typeof s.toString!="function"&&(s=Da.call(s)),o[s]=c},Gl(Ht)),oE=dp(function(o,s,c){s!=null&&typeof s.toString!="function"&&(s=Da.call(s)),We.call(o,s)?o[s].push(c):o[s]=[c]},se),aE=Ce(ko);function bt(o){return Gt(o)?Od(o):ll(o)}function $t(o){return Gt(o)?Od(o,!0):Ux(o)}function sE(o,s){var c={};return s=se(s,3),Hn(o,function(p,m,T){rr(c,s(p,m,T),p)}),c}function uE(o,s){var c={};return s=se(s,3),Hn(o,function(p,m,T){rr(c,m,s(p,m,T))}),c}var lE=Di(function(o,s,c){Ja(o,s,c)}),nv=Di(function(o,s,c,p){Ja(o,s,c,p)}),fE=or(function(o,s){var c={};if(o==null)return c;var p=!1;s=Je(s,function(T){return T=Rr(T,o),p||(p=T.length>1),T}),Wn(o,Tl(o),c),p&&(c=hn(c,v|_|g,ib));for(var m=s.length;m--;)vl(c,s[m]);return c});function cE(o,s){return rv(o,ds(se(s)))}var hE=or(function(o,s){return o==null?{}:Mx(o,s)});function rv(o,s){if(o==null)return{};var c=Je(Tl(o),function(p){return[p]});return s=se(s),qd(o,c,function(p,m){return s(p,m[0])})}function dE(o,s,c){s=Rr(s,o);var p=-1,m=s.length;for(m||(m=1,o=n);++p<m;){var T=o==null?n:o[jn(s[p])];T===n&&(p=m,T=c),o=sr(T)?T.call(o):T}return o}function pE(o,s,c){return o==null?o:Bo(o,s,c)}function vE(o,s,c,p){return p=typeof p=="function"?p:n,o==null?o:Bo(o,s,c,p)}var iv=_p(bt),ov=_p($t);function _E(o,s,c){var p=ye(o),m=p||Nr(o)||$i(o);if(s=se(s,4),c==null){var T=o&&o.constructor;m?c=p?new T:[]:et(o)?c=sr(T)?Ui($a(o)):{}:c={}}return(m?ln:Hn)(o,function(C,I,N){return s(c,C,I,N)}),c}function gE(o,s){return o==null?!0:vl(o,s)}function mE(o,s,c){return o==null?o:Qd(o,s,ml(c))}function yE(o,s,c,p){return p=typeof p=="function"?p:n,o==null?o:Qd(o,s,ml(c),p)}function Hi(o){return o==null?[]:Ku(o,bt(o))}function xE(o){return o==null?[]:Ku(o,$t(o))}function bE(o,s,c){return c===n&&(c=s,s=n),c!==n&&(c=vn(c),c=c===c?c:0),s!==n&&(s=vn(s),s=s===s?s:0),ui(vn(o),s,c)}function wE(o,s,c){return s=ur(s),c===n?(c=s,s=0):c=ur(c),o=vn(o),Ax(o,s,c)}function TE(o,s,c){if(c&&typeof c!="boolean"&&Bt(o,s,c)&&(s=c=n),c===n&&(typeof s=="boolean"?(c=s,s=n):typeof o=="boolean"&&(c=o,o=n)),o===n&&s===n?(o=0,s=1):(o=ur(o),s===n?(s=o,o=0):s=ur(s)),o>s){var p=o;o=s,s=p}if(c||o%1||s%1){var m=Pd();return Rt(o+m*(s-o+t1("1e-"+((m+"").length-1))),s)}return hl(o,s)}var EE=Mi(function(o,s,c){return s=s.toLowerCase(),o+(c?av(s):s)});function av(o){return Ml($e(o).toLowerCase())}function sv(o){return o=$e(o),o&&o.replace(Jh,p1).replace(zy,"")}function SE(o,s,c){o=$e(o),s=Jt(s);var p=o.length;c=c===n?p:ui(we(c),0,p);var m=c;return c-=s.length,c>=0&&o.slice(c,m)==s}function CE(o){return o=$e(o),o&&Lh.test(o)?o.replace(Nu,v1):o}function IE(o){return o=$e(o),o&&Mh.test(o)?o.replace(Aa,"\\$&"):o}var AE=Mi(function(o,s,c){return o+(c?"-":"")+s.toLowerCase()}),PE=Mi(function(o,s,c){return o+(c?" ":"")+s.toLowerCase()}),RE=fp("toLowerCase");function OE(o,s,c){o=$e(o),s=we(s);var p=s?Ni(o):0;if(!s||p>=s)return o;var m=(s-p)/2;return is(za(m),c)+o+is(ja(m),c)}function NE(o,s,c){o=$e(o),s=we(s);var p=s?Ni(o):0;return s&&p<s?o+is(s-p,c):o}function LE(o,s,c){o=$e(o),s=we(s);var p=s?Ni(o):0;return s&&p<s?is(s-p,c)+o:o}function kE(o,s,c){return c||s==null?s=0:s&&(s=+s),$1($e(o).replace(Pa,""),s||0)}function FE(o,s,c){return(c?Bt(o,s,c):s===n)?s=1:s=we(s),dl($e(o),s)}function BE(){var o=arguments,s=$e(o[0]);return o.length<3?s:s.replace(o[1],o[2])}var UE=Mi(function(o,s,c){return o+(c?"_":"")+s.toLowerCase()});function DE(o,s,c){return c&&typeof c!="number"&&Bt(o,s,c)&&(s=c=n),c=c===n?Y:c>>>0,c?(o=$e(o),o&&(typeof s=="string"||s!=null&&!Bl(s))&&(s=Jt(s),!s&&Oi(o))?Or(Sn(o),0,c):o.split(s,c)):[]}var ME=Mi(function(o,s,c){return o+(c?" ":"")+Ml(s)});function GE(o,s,c){return o=$e(o),c=c==null?0:ui(we(c),0,o.length),s=Jt(s),o.slice(c,c+s.length)==s}function $E(o,s,c){var p=w.templateSettings;c&&Bt(o,s,c)&&(s=n),o=$e(o),s=_s({},s,p,gp);var m=_s({},s.imports,p.imports,gp),T=bt(m),C=Ku(m,T),I,N,H=0,W=s.interpolate||Eo,z="__p += '",Z=Ju((s.escape||Eo).source+"|"+W.source+"|"+(W===Lu?Xh:Eo).source+"|"+(s.evaluate||Eo).source+"|$","g"),ne="//# sourceURL="+(We.call(s,"sourceURL")?(s.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Ky+"]")+`
`;o.replace(Z,function(fe,Ae,Ne,en,Ut,tn){return Ne||(Ne=en),z+=o.slice(H,tn).replace(qf,_1),Ae&&(I=!0,z+=`' +
__e(`+Ae+`) +
'`),Ut&&(N=!0,z+=`';
`+Ut+`;
__p += '`),Ne&&(z+=`' +
((__t = (`+Ne+`)) == null ? '' : __t) +
'`),H=tn+fe.length,fe}),z+=`';
`;var le=We.call(s,"variable")&&s.variable;if(!le)z=`with (obj) {
`+z+`
}
`;else if(jh.test(le))throw new ge(l);z=(N?z.replace(zf,""):z).replace(Nh,"$1").replace(oo,"$1;"),z="function("+(le||"obj")+`) {
`+(le?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(I?", __e = _.escape":"")+(N?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+z+`return __p
}`;var Te=lv(function(){return Ue(T,ne+"return "+z).apply(n,C)});if(Te.source=z,Fl(Te))throw Te;return Te}function HE(o){return $e(o).toLowerCase()}function WE(o){return $e(o).toUpperCase()}function jE(o,s,c){if(o=$e(o),o&&(c||s===n))return md(o);if(!o||!(s=Jt(s)))return o;var p=Sn(o),m=Sn(s),T=yd(p,m),C=xd(p,m)+1;return Or(p,T,C).join("")}function zE(o,s,c){if(o=$e(o),o&&(c||s===n))return o.slice(0,wd(o)+1);if(!o||!(s=Jt(s)))return o;var p=Sn(o),m=xd(p,Sn(s))+1;return Or(p,0,m).join("")}function XE(o,s,c){if(o=$e(o),o&&(c||s===n))return o.replace(Pa,"");if(!o||!(s=Jt(s)))return o;var p=Sn(o),m=yd(p,Sn(s));return Or(p,m).join("")}function VE(o,s){var c=K,p=ie;if(et(s)){var m="separator"in s?s.separator:m;c="length"in s?we(s.length):c,p="omission"in s?Jt(s.omission):p}o=$e(o);var T=o.length;if(Oi(o)){var C=Sn(o);T=C.length}if(c>=T)return o;var I=c-Ni(p);if(I<1)return p;var N=C?Or(C,0,I).join(""):o.slice(0,I);if(m===n)return N+p;if(C&&(I+=N.length-I),Bl(m)){if(o.slice(I).search(m)){var H,W=N;for(m.global||(m=Ju(m.source,$e(ku.exec(m))+"g")),m.lastIndex=0;H=m.exec(W);)var z=H.index;N=N.slice(0,z===n?I:z)}}else if(o.indexOf(Jt(m),I)!=I){var Z=N.lastIndexOf(m);Z>-1&&(N=N.slice(0,Z))}return N+p}function qE(o){return o=$e(o),o&&Xf.test(o)?o.replace(Ou,T1):o}var YE=Mi(function(o,s,c){return o+(c?" ":"")+s.toUpperCase()}),Ml=fp("toUpperCase");function uv(o,s,c){return o=$e(o),s=c?n:s,s===n?m1(o)?C1(o):l1(o):o.match(s)||[]}var lv=Ce(function(o,s){try{return Kt(o,n,s)}catch(c){return Fl(c)?c:new ge(c)}}),KE=or(function(o,s){return ln(s,function(c){c=jn(c),rr(o,c,Ll(o[c],o))}),o});function ZE(o){var s=o==null?0:o.length,c=se();return o=s?Je(o,function(p){if(typeof p[1]!="function")throw new fn(u);return[c(p[0]),p[1]]}):[],Ce(function(p){for(var m=-1;++m<s;){var T=o[m];if(Kt(T[0],this,p))return Kt(T[1],this,p)}})}function JE(o){return Tx(hn(o,v))}function Gl(o){return function(){return o}}function QE(o,s){return o==null||o!==o?s:o}var eS=hp(),tS=hp(!0);function Ht(o){return o}function $l(o){return Hd(typeof o=="function"?o:hn(o,v))}function nS(o){return jd(hn(o,v))}function rS(o,s){return zd(o,hn(s,v))}var iS=Ce(function(o,s){return function(c){return ko(c,o,s)}}),oS=Ce(function(o,s){return function(c){return ko(o,c,s)}});function Hl(o,s,c){var p=bt(s),m=Za(s,p);c==null&&!(et(s)&&(m.length||!p.length))&&(c=s,s=o,o=this,m=Za(s,bt(s)));var T=!(et(c)&&"chain"in c)||!!c.chain,C=sr(o);return ln(m,function(I){var N=s[I];o[I]=N,C&&(o.prototype[I]=function(){var H=this.__chain__;if(T||H){var W=o(this.__wrapped__),z=W.__actions__=Mt(this.__actions__);return z.push({func:N,args:arguments,thisArg:o}),W.__chain__=H,W}return N.apply(o,Sr([this.value()],arguments))})}),o}function aS(){return Et._===this&&(Et._=N1),this}function Wl(){}function sS(o){return o=we(o),Ce(function(s){return Xd(s,o)})}var uS=xl(Je),lS=xl(dd),fS=xl(zu);function fv(o){return Il(o)?Xu(jn(o)):Gx(o)}function cS(o){return function(s){return o==null?n:li(o,s)}}var hS=pp(),dS=pp(!0);function jl(){return[]}function zl(){return!1}function pS(){return{}}function vS(){return""}function _S(){return!0}function gS(o,s){if(o=we(o),o<1||o>Oe)return[];var c=Y,p=Rt(o,Y);s=se(s),o-=Y;for(var m=Yu(p,s);++c<o;)s(c);return m}function mS(o){return ye(o)?Je(o,jn):Qt(o)?[o]:Mt(Rp($e(o)))}function yS(o){var s=++R1;return $e(o)+s}var xS=rs(function(o,s){return o+s},0),bS=bl("ceil"),wS=rs(function(o,s){return o/s},1),TS=bl("floor");function ES(o){return o&&o.length?Ka(o,Ht,al):n}function SS(o,s){return o&&o.length?Ka(o,se(s,2),al):n}function CS(o){return _d(o,Ht)}function IS(o,s){return _d(o,se(s,2))}function AS(o){return o&&o.length?Ka(o,Ht,fl):n}function PS(o,s){return o&&o.length?Ka(o,se(s,2),fl):n}var RS=rs(function(o,s){return o*s},1),OS=bl("round"),NS=rs(function(o,s){return o-s},0);function LS(o){return o&&o.length?qu(o,Ht):0}function kS(o,s){return o&&o.length?qu(o,se(s,2)):0}return w.after=nT,w.ary=$p,w.assign=WT,w.assignIn=tv,w.assignInWith=_s,w.assignWith=jT,w.at=zT,w.before=Hp,w.bind=Ll,w.bindAll=KE,w.bindKey=Wp,w.castArray=pT,w.chain=Dp,w.chunk=Tb,w.compact=Eb,w.concat=Sb,w.cond=ZE,w.conforms=JE,w.constant=Gl,w.countBy=Lw,w.create=XT,w.curry=jp,w.curryRight=zp,w.debounce=Xp,w.defaults=VT,w.defaultsDeep=qT,w.defer=rT,w.delay=iT,w.difference=Cb,w.differenceBy=Ib,w.differenceWith=Ab,w.drop=Pb,w.dropRight=Rb,w.dropRightWhile=Ob,w.dropWhile=Nb,w.fill=Lb,w.filter=Fw,w.flatMap=Dw,w.flatMapDeep=Mw,w.flatMapDepth=Gw,w.flatten=kp,w.flattenDeep=kb,w.flattenDepth=Fb,w.flip=oT,w.flow=eS,w.flowRight=tS,w.fromPairs=Bb,w.functions=tE,w.functionsIn=nE,w.groupBy=$w,w.initial=Db,w.intersection=Mb,w.intersectionBy=Gb,w.intersectionWith=$b,w.invert=iE,w.invertBy=oE,w.invokeMap=Ww,w.iteratee=$l,w.keyBy=jw,w.keys=bt,w.keysIn=$t,w.map=fs,w.mapKeys=sE,w.mapValues=uE,w.matches=nS,w.matchesProperty=rS,w.memoize=hs,w.merge=lE,w.mergeWith=nv,w.method=iS,w.methodOf=oS,w.mixin=Hl,w.negate=ds,w.nthArg=sS,w.omit=fE,w.omitBy=cE,w.once=aT,w.orderBy=zw,w.over=uS,w.overArgs=sT,w.overEvery=lS,w.overSome=fS,w.partial=kl,w.partialRight=Vp,w.partition=Xw,w.pick=hE,w.pickBy=rv,w.property=fv,w.propertyOf=cS,w.pull=zb,w.pullAll=Bp,w.pullAllBy=Xb,w.pullAllWith=Vb,w.pullAt=qb,w.range=hS,w.rangeRight=dS,w.rearg=uT,w.reject=Yw,w.remove=Yb,w.rest=lT,w.reverse=Ol,w.sampleSize=Zw,w.set=pE,w.setWith=vE,w.shuffle=Jw,w.slice=Kb,w.sortBy=tT,w.sortedUniq=rw,w.sortedUniqBy=iw,w.split=DE,w.spread=fT,w.tail=ow,w.take=aw,w.takeRight=sw,w.takeRightWhile=uw,w.takeWhile=lw,w.tap=Ew,w.throttle=cT,w.thru=ls,w.toArray=Jp,w.toPairs=iv,w.toPairsIn=ov,w.toPath=mS,w.toPlainObject=ev,w.transform=_E,w.unary=hT,w.union=fw,w.unionBy=cw,w.unionWith=hw,w.uniq=dw,w.uniqBy=pw,w.uniqWith=vw,w.unset=gE,w.unzip=Nl,w.unzipWith=Up,w.update=mE,w.updateWith=yE,w.values=Hi,w.valuesIn=xE,w.without=_w,w.words=uv,w.wrap=dT,w.xor=gw,w.xorBy=mw,w.xorWith=yw,w.zip=xw,w.zipObject=bw,w.zipObjectDeep=ww,w.zipWith=Tw,w.entries=iv,w.entriesIn=ov,w.extend=tv,w.extendWith=_s,Hl(w,w),w.add=xS,w.attempt=lv,w.camelCase=EE,w.capitalize=av,w.ceil=bS,w.clamp=bE,w.clone=vT,w.cloneDeep=gT,w.cloneDeepWith=mT,w.cloneWith=_T,w.conformsTo=yT,w.deburr=sv,w.defaultTo=QE,w.divide=wS,w.endsWith=SE,w.eq=In,w.escape=CE,w.escapeRegExp=IE,w.every=kw,w.find=Bw,w.findIndex=Np,w.findKey=YT,w.findLast=Uw,w.findLastIndex=Lp,w.findLastKey=KT,w.floor=TS,w.forEach=Mp,w.forEachRight=Gp,w.forIn=ZT,w.forInRight=JT,w.forOwn=QT,w.forOwnRight=eE,w.get=Ul,w.gt=xT,w.gte=bT,w.has=rE,w.hasIn=Dl,w.head=Fp,w.identity=Ht,w.includes=Hw,w.indexOf=Ub,w.inRange=wE,w.invoke=aE,w.isArguments=hi,w.isArray=ye,w.isArrayBuffer=wT,w.isArrayLike=Gt,w.isArrayLikeObject=at,w.isBoolean=TT,w.isBuffer=Nr,w.isDate=ET,w.isElement=ST,w.isEmpty=CT,w.isEqual=IT,w.isEqualWith=AT,w.isError=Fl,w.isFinite=PT,w.isFunction=sr,w.isInteger=qp,w.isLength=ps,w.isMap=Yp,w.isMatch=RT,w.isMatchWith=OT,w.isNaN=NT,w.isNative=LT,w.isNil=FT,w.isNull=kT,w.isNumber=Kp,w.isObject=et,w.isObjectLike=rt,w.isPlainObject=Go,w.isRegExp=Bl,w.isSafeInteger=BT,w.isSet=Zp,w.isString=vs,w.isSymbol=Qt,w.isTypedArray=$i,w.isUndefined=UT,w.isWeakMap=DT,w.isWeakSet=MT,w.join=Hb,w.kebabCase=AE,w.last=pn,w.lastIndexOf=Wb,w.lowerCase=PE,w.lowerFirst=RE,w.lt=GT,w.lte=$T,w.max=ES,w.maxBy=SS,w.mean=CS,w.meanBy=IS,w.min=AS,w.minBy=PS,w.stubArray=jl,w.stubFalse=zl,w.stubObject=pS,w.stubString=vS,w.stubTrue=_S,w.multiply=RS,w.nth=jb,w.noConflict=aS,w.noop=Wl,w.now=cs,w.pad=OE,w.padEnd=NE,w.padStart=LE,w.parseInt=kE,w.random=TE,w.reduce=Vw,w.reduceRight=qw,w.repeat=FE,w.replace=BE,w.result=dE,w.round=OS,w.runInContext=O,w.sample=Kw,w.size=Qw,w.snakeCase=UE,w.some=eT,w.sortedIndex=Zb,w.sortedIndexBy=Jb,w.sortedIndexOf=Qb,w.sortedLastIndex=ew,w.sortedLastIndexBy=tw,w.sortedLastIndexOf=nw,w.startCase=ME,w.startsWith=GE,w.subtract=NS,w.sum=LS,w.sumBy=kS,w.template=$E,w.times=gS,w.toFinite=ur,w.toInteger=we,w.toLength=Qp,w.toLower=HE,w.toNumber=vn,w.toSafeInteger=HT,w.toString=$e,w.toUpper=WE,w.trim=jE,w.trimEnd=zE,w.trimStart=XE,w.truncate=VE,w.unescape=qE,w.uniqueId=yS,w.upperCase=YE,w.upperFirst=Ml,w.each=Mp,w.eachRight=Gp,w.first=Fp,Hl(w,function(){var o={};return Hn(w,function(s,c){We.call(w.prototype,c)||(o[c]=s)}),o}(),{chain:!1}),w.VERSION=r,ln(["bind","bindKey","curry","curryRight","partial","partialRight"],function(o){w[o].placeholder=w}),ln(["drop","take"],function(o,s){Pe.prototype[o]=function(c){c=c===n?1:gt(we(c),0);var p=this.__filtered__&&!s?new Pe(this):this.clone();return p.__filtered__?p.__takeCount__=Rt(c,p.__takeCount__):p.__views__.push({size:Rt(c,Y),type:o+(p.__dir__<0?"Right":"")}),p},Pe.prototype[o+"Right"]=function(c){return this.reverse()[o](c).reverse()}}),ln(["filter","map","takeWhile"],function(o,s){var c=s+1,p=c==Ge||c==ce;Pe.prototype[o]=function(m){var T=this.clone();return T.__iteratees__.push({iteratee:se(m,3),type:c}),T.__filtered__=T.__filtered__||p,T}}),ln(["head","last"],function(o,s){var c="take"+(s?"Right":"");Pe.prototype[o]=function(){return this[c](1).value()[0]}}),ln(["initial","tail"],function(o,s){var c="drop"+(s?"":"Right");Pe.prototype[o]=function(){return this.__filtered__?new Pe(this):this[c](1)}}),Pe.prototype.compact=function(){return this.filter(Ht)},Pe.prototype.find=function(o){return this.filter(o).head()},Pe.prototype.findLast=function(o){return this.reverse().find(o)},Pe.prototype.invokeMap=Ce(function(o,s){return typeof o=="function"?new Pe(this):this.map(function(c){return ko(c,o,s)})}),Pe.prototype.reject=function(o){return this.filter(ds(se(o)))},Pe.prototype.slice=function(o,s){o=we(o);var c=this;return c.__filtered__&&(o>0||s<0)?new Pe(c):(o<0?c=c.takeRight(-o):o&&(c=c.drop(o)),s!==n&&(s=we(s),c=s<0?c.dropRight(-s):c.take(s-o)),c)},Pe.prototype.takeRightWhile=function(o){return this.reverse().takeWhile(o).reverse()},Pe.prototype.toArray=function(){return this.take(Y)},Hn(Pe.prototype,function(o,s){var c=/^(?:filter|find|map|reject)|While$/.test(s),p=/^(?:head|last)$/.test(s),m=w[p?"take"+(s=="last"?"Right":""):s],T=p||/^find/.test(s);!m||(w.prototype[s]=function(){var C=this.__wrapped__,I=p?[1]:arguments,N=C instanceof Pe,H=I[0],W=N||ye(C),z=function(Ae){var Ne=m.apply(w,Sr([Ae],I));return p&&Z?Ne[0]:Ne};W&&c&&typeof H=="function"&&H.length!=1&&(N=W=!1);var Z=this.__chain__,ne=!!this.__actions__.length,le=T&&!Z,Te=N&&!ne;if(!T&&W){C=Te?C:new Pe(this);var fe=o.apply(C,I);return fe.__actions__.push({func:ls,args:[z],thisArg:n}),new cn(fe,Z)}return le&&Te?o.apply(this,I):(fe=this.thru(z),le?p?fe.value()[0]:fe.value():fe)})}),ln(["pop","push","shift","sort","splice","unshift"],function(o){var s=Fa[o],c=/^(?:push|sort|unshift)$/.test(o)?"tap":"thru",p=/^(?:pop|shift)$/.test(o);w.prototype[o]=function(){var m=arguments;if(p&&!this.__chain__){var T=this.value();return s.apply(ye(T)?T:[],m)}return this[c](function(C){return s.apply(ye(C)?C:[],m)})}}),Hn(Pe.prototype,function(o,s){var c=w[s];if(c){var p=c.name+"";We.call(Bi,p)||(Bi[p]=[]),Bi[p].push({name:s,func:c})}}),Bi[ns(n,E).name]=[{name:"wrapper",func:n}],Pe.prototype.clone=q1,Pe.prototype.reverse=Y1,Pe.prototype.value=K1,w.prototype.at=Sw,w.prototype.chain=Cw,w.prototype.commit=Iw,w.prototype.next=Aw,w.prototype.plant=Rw,w.prototype.reverse=Ow,w.prototype.toJSON=w.prototype.valueOf=w.prototype.value=Nw,w.prototype.first=w.prototype.head,Io&&(w.prototype[Io]=Pw),w},Li=I1();ii?((ii.exports=Li)._=Li,$u._=Li):Et._=Li}).call(Kr)})(R_,R_.exports);var ig=R_.exports;const e4={slPage:1,volumeMain:100,textSpeed:pi.normal,autoSpeed:pi.normal,textSize:r_.medium,vocalVolume:100,bgmVolume:25,textboxFont:Jc.song},cI={saveData:[],optionData:e4,appreciationData:{bgm:[],cg:[]},quickSaveData:null},t4=FP({name:"userData",initialState:R_.exports.cloneDeep(cI),reducers:{setUserData:(e,t)=>{const{key:n,value:r}=t.payload;e[n]=r},unlockCgInUserData:(e,t)=>{const{name:n,url:r,series:i}=t.payload;let a=!1;e.appreciationData.cg.forEach(u=>{n===u.name&&(a=!0,u.url=r,u.series=i)}),a||e.appreciationData.cg.push(t.payload)},unlockBgmInUserData:(e,t)=>{const{name:n,url:r,series:i}=t.payload;let a=!1;e.appreciationData.bgm.forEach(u=>{n===u.name&&(a=!0,u.url=r,u.series=i)}),a||e.appreciationData.bgm.push(t.payload)},resetUserData:(e,t)=>{Object.assign(e,t.payload)},setOptionData:(e,t)=>{const{key:n,value:r}=t.payload;e.optionData[n]=r},setSlPage:(e,t)=>{e.optionData.slPage=t.payload},setFastSave:(e,t)=>{e.quickSaveData=t.payload},resetOptionSet(e){Object.assign(e.optionData,e4)},resetAllData(e){Object.assign(e,R_.exports.cloneDeep(cI))},resetSaveData(e){e.saveData.splice(0,e.saveData.length)}}}),{setUserData:xq,resetUserData:JP,setOptionData:xi,setSlPage:n4,unlockCgInUserData:bq,unlockBgmInUserData:wq,setFastSave:Tq,resetOptionSet:Eq,resetSaveData:Sq,resetAllData:Cq}=t4.actions;var Iq=t4.reducer;const Jn=r4(()=>{const e=Ee.getState().userData;Ls.exports.setItem(Zi.gameKey,e).then(()=>{Me.info("\u5199\u5165\u672C\u5730\u5B58\u50A8")})},100),O_=r4(()=>{Ls.exports.getItem(Zi.gameKey).then(e=>{if(!e||!i4(e)){Me.warn("\u73B0\u5728\u91CD\u7F6E\u6570\u636E"),Jn();return}Ee.dispatch(JP(e))})},100);function r4(e,t){let n;function r(...i){clearTimeout(n);let a;return n=setTimeout(()=>{a=e.apply(r,i)},t),a}return r}const bm=()=>{const e=Ee.getState().userData;Ls.exports.setItem(Zi.gameKey,e).then(()=>{Ls.exports.getItem(Zi.gameKey).then(t=>{if(!t){Jn();return}Ee.dispatch(JP(t))}),Me.info("\u540C\u6B65\u672C\u5730\u5B58\u50A8")})};function i4(e){let t=!0;for(const n in cI)e.hasOwnProperty(n)||(t=!1);return t}async function Aq(){const e=Ee.getState().userData;return await Ls.exports.setItem(Zi.gameKey,e)}async function o4(){const e=await Ls.exports.getItem(Zi.gameKey);if(!e||!i4(e)){const t=Ee.getState().userData;return Me.warn("\u73B0\u5728\u91CD\u7F6E\u6570\u636E"),await Ls.exports.setItem(Zi.gameKey,t)}else Ee.dispatch(JP(e))}var Xt=(e=>(e[e.Save=0]="Save",e[e.Load=1]="Load",e[e.Option=2]="Option",e))(Xt||{});const Pq={showBacklog:!1,showStarter:!0,showTitle:!0,showMenuPanel:!1,showTextBox:!0,currentMenuTag:Xt.Option,titleBg:"",titleBgm:"",showExtra:!1,showGlobalDialog:!1},a4=FP({name:"gui",initialState:Pq,reducers:{setVisibility:(e,t)=>{O_();const{component:n,visibility:r}=t.payload;e[n]=r},setMenuPanelTag:(e,t)=>{O_(),e.currentMenuTag=t.payload},setGuiAsset:(e,t)=>{const{asset:n,value:r}=t.payload;e[n]=r}}}),{setVisibility:xn,setMenuPanelTag:gf,setGuiAsset:lL}=a4.actions;var Rq=a4.reducer;const Ee=RG({reducer:{stage:aV,GUI:Rq,userData:Iq}});function ry(e){Ee.dispatch(Tn({key:"bgm",value:e}))}const s4={currentSentenceId:0,sceneStack:[],currentScene:{sceneName:"",sceneUrl:"",sentenceList:[],assetsList:[],subSceneList:[]}},He=dr(s4);var Af=(e=>(e[e.background=0]="background",e[e.bgm=1]="bgm",e[e.figure=2]="figure",e[e.scene=3]="scene",e[e.tex=4]="tex",e[e.vocal=5]="vocal",e[e.video=6]="video",e))(Af||{});const Pf=(e,t)=>{if(e.match("http://")||e.match("https://"))return e;{let n;switch(t){case 0:n=`./game/background/${e}`;break;case 3:n=`./game/scene/${e}`;break;case 5:n=`./game/vocal/${e}`;break;case 2:n=`./game/figure/${e}`;break;case 1:n=`./game/bgm/${e}`;break;case 6:n=`./game/video/${e}`;break;default:n="";break}return n}};var QP={exports:{}},u4=function(t,n){return function(){for(var i=new Array(arguments.length),a=0;a<i.length;a++)i[a]=arguments[a];return t.apply(n,i)}},Oq=u4,Iu=Object.prototype.toString;function eR(e){return Array.isArray(e)}function hI(e){return typeof e=="undefined"}function Nq(e){return e!==null&&!hI(e)&&e.constructor!==null&&!hI(e.constructor)&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function l4(e){return Iu.call(e)==="[object ArrayBuffer]"}function Lq(e){return Iu.call(e)==="[object FormData]"}function kq(e){var t;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&l4(e.buffer),t}function Fq(e){return typeof e=="string"}function Bq(e){return typeof e=="number"}function f4(e){return e!==null&&typeof e=="object"}function wm(e){if(Iu.call(e)!=="[object Object]")return!1;var t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function Uq(e){return Iu.call(e)==="[object Date]"}function Dq(e){return Iu.call(e)==="[object File]"}function Mq(e){return Iu.call(e)==="[object Blob]"}function c4(e){return Iu.call(e)==="[object Function]"}function Gq(e){return f4(e)&&c4(e.pipe)}function $q(e){return Iu.call(e)==="[object URLSearchParams]"}function Hq(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function Wq(){return typeof navigator!="undefined"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window!="undefined"&&typeof document!="undefined"}function tR(e,t){if(!(e===null||typeof e=="undefined"))if(typeof e!="object"&&(e=[e]),eR(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}function dI(){var e={};function t(i,a){wm(e[a])&&wm(i)?e[a]=dI(e[a],i):wm(i)?e[a]=dI({},i):eR(i)?e[a]=i.slice():e[a]=i}for(var n=0,r=arguments.length;n<r;n++)tR(arguments[n],t);return e}function jq(e,t,n){return tR(t,function(i,a){n&&typeof i=="function"?e[a]=Oq(i,n):e[a]=i}),e}function zq(e){return e.charCodeAt(0)===65279&&(e=e.slice(1)),e}var Ai={isArray:eR,isArrayBuffer:l4,isBuffer:Nq,isFormData:Lq,isArrayBufferView:kq,isString:Fq,isNumber:Bq,isObject:f4,isPlainObject:wm,isUndefined:hI,isDate:Uq,isFile:Dq,isBlob:Mq,isFunction:c4,isStream:Gq,isURLSearchParams:$q,isStandardBrowserEnv:Wq,forEach:tR,merge:dI,extend:jq,trim:Hq,stripBOM:zq},tc=Ai;function fL(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var h4=function(t,n,r){if(!n)return t;var i;if(r)i=r(n);else if(tc.isURLSearchParams(n))i=n.toString();else{var a=[];tc.forEach(n,function(f,h){f===null||typeof f=="undefined"||(tc.isArray(f)?h=h+"[]":f=[f],tc.forEach(f,function(v){tc.isDate(v)?v=v.toISOString():tc.isObject(v)&&(v=JSON.stringify(v)),a.push(fL(h)+"="+fL(v))}))}),i=a.join("&")}if(i){var u=t.indexOf("#");u!==-1&&(t=t.slice(0,u)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t},Xq=Ai;function iy(){this.handlers=[]}iy.prototype.use=function(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1};iy.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)};iy.prototype.forEach=function(t){Xq.forEach(this.handlers,function(r){r!==null&&t(r)})};var Vq=iy,qq=Ai,Yq=function(t,n){qq.forEach(t,function(i,a){a!==n&&a.toUpperCase()===n.toUpperCase()&&(t[n]=i,delete t[a])})},d4=function(t,n,r,i,a){return t.config=n,r&&(t.code=r),t.request=i,t.response=a,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},t},p4={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Kq=d4,v4=function(t,n,r,i,a){var u=new Error(t);return Kq(u,n,r,i,a)},Zq=v4,Jq=function(t,n,r){var i=r.config.validateStatus;!r.status||!i||i(r.status)?t(r):n(Zq("Request failed with status code "+r.status,r.config,null,r.request,r))},Og=Ai,Qq=Og.isStandardBrowserEnv()?function(){return{write:function(n,r,i,a,u,l){var f=[];f.push(n+"="+encodeURIComponent(r)),Og.isNumber(i)&&f.push("expires="+new Date(i).toGMTString()),Og.isString(a)&&f.push("path="+a),Og.isString(u)&&f.push("domain="+u),l===!0&&f.push("secure"),document.cookie=f.join("; ")},read:function(n){var r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),eY=function(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)},tY=function(t,n){return n?t.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):t},nY=eY,rY=tY,iY=function(t,n){return t&&!nY(n)?rY(t,n):n},_C=Ai,oY=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],aY=function(t){var n={},r,i,a;return t&&_C.forEach(t.split(`
`),function(l){if(a=l.indexOf(":"),r=_C.trim(l.substr(0,a)).toLowerCase(),i=_C.trim(l.substr(a+1)),r){if(n[r]&&oY.indexOf(r)>=0)return;r==="set-cookie"?n[r]=(n[r]?n[r]:[]).concat([i]):n[r]=n[r]?n[r]+", "+i:i}}),n},cL=Ai,sY=cL.isStandardBrowserEnv()?function(){var t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a"),r;function i(a){var u=a;return t&&(n.setAttribute("href",u),u=n.href),n.setAttribute("href",u),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(u){var l=cL.isString(u)?i(u):u;return l.protocol===r.protocol&&l.host===r.host}}():function(){return function(){return!0}}();function nR(e){this.message=e}nR.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")};nR.prototype.__CANCEL__=!0;var oy=nR,Ng=Ai,uY=Jq,lY=Qq,fY=h4,cY=iY,hY=aY,dY=sY,gC=v4,pY=p4,vY=oy,hL=function(t){return new Promise(function(r,i){var a=t.data,u=t.headers,l=t.responseType,f;function h(){t.cancelToken&&t.cancelToken.unsubscribe(f),t.signal&&t.signal.removeEventListener("abort",f)}Ng.isFormData(a)&&delete u["Content-Type"];var d=new XMLHttpRequest;if(t.auth){var v=t.auth.username||"",_=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";u.Authorization="Basic "+btoa(v+":"+_)}var g=cY(t.baseURL,t.url);d.open(t.method.toUpperCase(),fY(g,t.params,t.paramsSerializer),!0),d.timeout=t.timeout;function x(){if(!!d){var y="getAllResponseHeaders"in d?hY(d.getAllResponseHeaders()):null,E=!l||l==="text"||l==="json"?d.responseText:d.response,S={data:E,status:d.status,statusText:d.statusText,headers:y,config:t,request:d};uY(function(L){r(L),h()},function(L){i(L),h()},S),d=null}}if("onloadend"in d?d.onloadend=x:d.onreadystatechange=function(){!d||d.readyState!==4||d.status===0&&!(d.responseURL&&d.responseURL.indexOf("file:")===0)||setTimeout(x)},d.onabort=function(){!d||(i(gC("Request aborted",t,"ECONNABORTED",d)),d=null)},d.onerror=function(){i(gC("Network Error",t,null,d)),d=null},d.ontimeout=function(){var E=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded",S=t.transitional||pY;t.timeoutErrorMessage&&(E=t.timeoutErrorMessage),i(gC(E,t,S.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",d)),d=null},Ng.isStandardBrowserEnv()){var b=(t.withCredentials||dY(g))&&t.xsrfCookieName?lY.read(t.xsrfCookieName):void 0;b&&(u[t.xsrfHeaderName]=b)}"setRequestHeader"in d&&Ng.forEach(u,function(E,S){typeof a=="undefined"&&S.toLowerCase()==="content-type"?delete u[S]:d.setRequestHeader(S,E)}),Ng.isUndefined(t.withCredentials)||(d.withCredentials=!!t.withCredentials),l&&l!=="json"&&(d.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&d.addEventListener("progress",t.onDownloadProgress),typeof t.onUploadProgress=="function"&&d.upload&&d.upload.addEventListener("progress",t.onUploadProgress),(t.cancelToken||t.signal)&&(f=function(y){!d||(i(!y||y&&y.type?new vY("canceled"):y),d.abort(),d=null)},t.cancelToken&&t.cancelToken.subscribe(f),t.signal&&(t.signal.aborted?f():t.signal.addEventListener("abort",f))),a||(a=null),d.send(a)})},Br=Ai,dL=Yq,_Y=d4,gY=p4,mY={"Content-Type":"application/x-www-form-urlencoded"};function pL(e,t){!Br.isUndefined(e)&&Br.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function yY(){var e;return(typeof XMLHttpRequest!="undefined"||typeof process!="undefined"&&Object.prototype.toString.call(process)==="[object process]")&&(e=hL),e}function xY(e,t,n){if(Br.isString(e))try{return(t||JSON.parse)(e),Br.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}var ay={transitional:gY,adapter:yY(),transformRequest:[function(t,n){return dL(n,"Accept"),dL(n,"Content-Type"),Br.isFormData(t)||Br.isArrayBuffer(t)||Br.isBuffer(t)||Br.isStream(t)||Br.isFile(t)||Br.isBlob(t)?t:Br.isArrayBufferView(t)?t.buffer:Br.isURLSearchParams(t)?(pL(n,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):Br.isObject(t)||n&&n["Content-Type"]==="application/json"?(pL(n,"application/json"),xY(t)):t}],transformResponse:[function(t){var n=this.transitional||ay.transitional,r=n&&n.silentJSONParsing,i=n&&n.forcedJSONParsing,a=!r&&this.responseType==="json";if(a||i&&Br.isString(t)&&t.length)try{return JSON.parse(t)}catch(u){if(a)throw u.name==="SyntaxError"?_Y(u,this,"E_JSON_PARSE"):u}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Br.forEach(["delete","get","head"],function(t){ay.headers[t]={}});Br.forEach(["post","put","patch"],function(t){ay.headers[t]=Br.merge(mY)});var rR=ay,bY=Ai,wY=rR,TY=function(t,n,r){var i=this||wY;return bY.forEach(r,function(u){t=u.call(i,t,n)}),t},_4=function(t){return!!(t&&t.__CANCEL__)},vL=Ai,mC=TY,EY=_4,SY=rR,CY=oy;function yC(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new CY("canceled")}var IY=function(t){yC(t),t.headers=t.headers||{},t.data=mC.call(t,t.data,t.headers,t.transformRequest),t.headers=vL.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),vL.forEach(["delete","get","head","post","put","patch","common"],function(i){delete t.headers[i]});var n=t.adapter||SY.adapter;return n(t).then(function(i){return yC(t),i.data=mC.call(t,i.data,i.headers,t.transformResponse),i},function(i){return EY(i)||(yC(t),i&&i.response&&(i.response.data=mC.call(t,i.response.data,i.response.headers,t.transformResponse))),Promise.reject(i)})},ji=Ai,g4=function(t,n){n=n||{};var r={};function i(d,v){return ji.isPlainObject(d)&&ji.isPlainObject(v)?ji.merge(d,v):ji.isPlainObject(v)?ji.merge({},v):ji.isArray(v)?v.slice():v}function a(d){if(ji.isUndefined(n[d])){if(!ji.isUndefined(t[d]))return i(void 0,t[d])}else return i(t[d],n[d])}function u(d){if(!ji.isUndefined(n[d]))return i(void 0,n[d])}function l(d){if(ji.isUndefined(n[d])){if(!ji.isUndefined(t[d]))return i(void 0,t[d])}else return i(void 0,n[d])}function f(d){if(d in n)return i(t[d],n[d]);if(d in t)return i(void 0,t[d])}var h={url:u,method:u,data:u,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:f};return ji.forEach(Object.keys(t).concat(Object.keys(n)),function(v){var _=h[v]||a,g=_(v);ji.isUndefined(g)&&_!==f||(r[v]=g)}),r},m4={version:"0.26.1"},AY=m4.version,iR={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){iR[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});var _L={};iR.transitional=function(t,n,r){function i(a,u){return"[Axios v"+AY+"] Transitional option '"+a+"'"+u+(r?". "+r:"")}return function(a,u,l){if(t===!1)throw new Error(i(u," has been removed"+(n?" in "+n:"")));return n&&!_L[u]&&(_L[u]=!0,console.warn(i(u," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(a,u,l):!0}};function PY(e,t,n){if(typeof e!="object")throw new TypeError("options must be an object");for(var r=Object.keys(e),i=r.length;i-- >0;){var a=r[i],u=t[a];if(u){var l=e[a],f=l===void 0||u(l,a,e);if(f!==!0)throw new TypeError("option "+a+" must be "+f);continue}if(n!==!0)throw Error("Unknown option "+a)}}var RY={assertOptions:PY,validators:iR},y4=Ai,OY=h4,gL=Vq,mL=IY,sy=g4,x4=RY,nc=x4.validators;function og(e){this.defaults=e,this.interceptors={request:new gL,response:new gL}}og.prototype.request=function(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=sy(this.defaults,n),n.method?n.method=n.method.toLowerCase():this.defaults.method?n.method=this.defaults.method.toLowerCase():n.method="get";var r=n.transitional;r!==void 0&&x4.assertOptions(r,{silentJSONParsing:nc.transitional(nc.boolean),forcedJSONParsing:nc.transitional(nc.boolean),clarifyTimeoutError:nc.transitional(nc.boolean)},!1);var i=[],a=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(n)===!1||(a=a&&g.synchronous,i.unshift(g.fulfilled,g.rejected))});var u=[];this.interceptors.response.forEach(function(g){u.push(g.fulfilled,g.rejected)});var l;if(!a){var f=[mL,void 0];for(Array.prototype.unshift.apply(f,i),f=f.concat(u),l=Promise.resolve(n);f.length;)l=l.then(f.shift(),f.shift());return l}for(var h=n;i.length;){var d=i.shift(),v=i.shift();try{h=d(h)}catch(_){v(_);break}}try{l=mL(h)}catch(_){return Promise.reject(_)}for(;u.length;)l=l.then(u.shift(),u.shift());return l};og.prototype.getUri=function(t){return t=sy(this.defaults,t),OY(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")};y4.forEach(["delete","get","head","options"],function(t){og.prototype[t]=function(n,r){return this.request(sy(r||{},{method:t,url:n,data:(r||{}).data}))}});y4.forEach(["post","put","patch"],function(t){og.prototype[t]=function(n,r,i){return this.request(sy(i||{},{method:t,url:n,data:r}))}});var NY=og,LY=oy;function Qc(e){if(typeof e!="function")throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(i){t=i});var n=this;this.promise.then(function(r){if(!!n._listeners){var i,a=n._listeners.length;for(i=0;i<a;i++)n._listeners[i](r);n._listeners=null}}),this.promise.then=function(r){var i,a=new Promise(function(u){n.subscribe(u),i=u}).then(r);return a.cancel=function(){n.unsubscribe(i)},a},e(function(i){n.reason||(n.reason=new LY(i),t(n.reason))})}Qc.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};Qc.prototype.subscribe=function(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]};Qc.prototype.unsubscribe=function(t){if(!!this._listeners){var n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}};Qc.source=function(){var t,n=new Qc(function(i){t=i});return{token:n,cancel:t}};var kY=Qc,FY=function(t){return function(r){return t.apply(null,r)}},BY=Ai,UY=function(t){return BY.isObject(t)&&t.isAxiosError===!0},yL=Ai,DY=u4,Tm=NY,MY=g4,GY=rR;function b4(e){var t=new Tm(e),n=DY(Tm.prototype.request,t);return yL.extend(n,Tm.prototype,t),yL.extend(n,t),n.create=function(i){return b4(MY(e,i))},n}var Ta=b4(GY);Ta.Axios=Tm;Ta.Cancel=oy;Ta.CancelToken=kY;Ta.isCancel=_4;Ta.VERSION=m4.version;Ta.all=function(t){return Promise.all(t)};Ta.spread=FY;Ta.isAxiosError=UY;QP.exports=Ta;QP.exports.default=Ta;var u0=QP.exports;const Ea=e=>new Promise(t=>{u0.get(e).then(n=>{const r=n.data.toString();t(r)})}),$Y=e=>{for(const t of e){let n=!0;if(JN.forEach(r=>{r===t.url&&(n=!1)}),!n)Me.warn("\u8BE5\u8D44\u6E90\u5DF2\u5728\u9884\u52A0\u8F7D\u5217\u8868\u4E2D\uFF0C\u65E0\u9700\u91CD\u590D\u52A0\u8F7D");else{const r=document.createElement("link");r.setAttribute("rel","prefetch"),r.setAttribute("href",t.url);const i=document.getElementsByTagName("head");i.length&&i[0].appendChild(r),JN.push(t.url)}}};var it=(e=>(e[e.say=0]="say",e[e.changeBg=1]="changeBg",e[e.changeFigure=2]="changeFigure",e[e.bgm=3]="bgm",e[e.video=4]="video",e[e.pixi=5]="pixi",e[e.pixiInit=6]="pixiInit",e[e.intro=7]="intro",e[e.miniAvatar=8]="miniAvatar",e[e.changeScene=9]="changeScene",e[e.choose=10]="choose",e[e.end=11]="end",e[e.setComplexAnimation=12]="setComplexAnimation",e[e.setFilter=13]="setFilter",e[e.label=14]="label",e[e.jumpLabel=15]="jumpLabel",e[e.chooseLabel=16]="chooseLabel",e[e.setVar=17]="setVar",e[e.if=18]="if",e[e.callScene=19]="callScene",e[e.showVars=20]="showVars",e[e.unlockCg=21]="unlockCg",e[e.unlockBgm=22]="unlockBgm",e[e.filmMode=23]="filmMode",e[e.setTextbox=24]="setTextbox",e[e.setAnimation=25]="setAnimation",e[e.playEffect=26]="playEffect",e[e.setTempAnimation=27]="setTempAnimation",e[e.comment=28]="comment",e))(it||{});const HY="_FullScreenPerform_main_1tw9q_2",WY="_FullScreenPerform_element_1tw9q_9",jY="_fullScreen_video_1tw9q_17",zY="_introElement_1tw9q_25",XY="_intro_showSoftly_1tw9q_1",VY="_videoContainer_1tw9q_39";var l0={FullScreenPerform_main:HY,FullScreenPerform_element:WY,fullScreen_video:jY,introElement:zY,intro_showSoftly:XY,videoContainer:VY};function qY(e){return{all:e=e||new Map,on:function(t,n){var r=e.get(t);r?r.push(n):e.set(t,[n])},off:function(t,n){var r=e.get(t);r&&(n?r.splice(r.indexOf(n)>>>0,1):e.set(t,[]))},emit:function(t,n){var r=e.get(t);r&&r.slice().map(function(i){i(n)}),(r=e.get("*"))&&r.slice().map(function(i){i(t,n)})}}}const pI=qY(),Q={performList:[],timeoutList:[],isAuto:!1,isFast:!1,autoInterval:null,fastInterval:null,autoTimeout:null,pixiStage:null},Rf=e=>{for(let t=0;t<Q.performList.length;t++){const n=Q.performList[t];!n.isHoldOn&&n.performName===e&&(n.stopFunction(),clearTimeout(n.stopTimeout),Q.performList.splice(t,1),t--)}},Xn=[],YY="_TextBox_EventHandler_106dv_1",KY="_TextBox_main_106dv_9",ZY="_showSoftly_106dv_1",JY="_TextBox_textElement_106dv_36",QY="_TextBox_textElement_start_106dv_41",eK="_TextDelayShow_106dv_1",tK="_outer_106dv_46",nK="_inner_106dv_56",rK="_zhanwei_106dv_64",iK="_TextBox_textElement_Settled_106dv_68",oK="_TextBox_showName_106dv_72",aK="_miniAvatarContainer_106dv_89",sK="_miniAvatarImg_106dv_97";var Rn={TextBox_EventHandler:YY,TextBox_main:KY,showSoftly:ZY,TextBox_textElement:JY,TextBox_textElement_start:QY,TextDelayShow:eK,outer:tK,inner:nK,zhanwei:rK,TextBox_textElement_Settled:iK,TextBox_showName:oK,miniAvatarContainer:aK,miniAvatarImg:sK};const uK="_TextBox_EventHandler_449dq_2",lK="_TextBox_main_449dq_10",fK="_showSoftly_449dq_1",cK="_TextBox_textElement_449dq_38",hK="_TextBox_textElement_start_449dq_43",dK="_TextDelayShow_449dq_1",pK="_TextBox_textElement_Settled_449dq_48",vK="_TextBox_showName_449dq_52",_K="_miniAvatarContainer_449dq_68",gK="_miniAvatarImg_449dq_76";var Em={TextBox_EventHandler:uK,TextBox_main:lK,showSoftly:fK,TextBox_textElement:cK,TextBox_textElement_start:hK,TextDelayShow:dK,TextBox_textElement_Settled:pK,TextBox_showName:vK,miniAvatarContainer:_K,miniAvatarImg:gK};const ag=()=>Math.random().toString().substring(0,10);class vI{static arrangeNewPerform(t,n,r=!0){if(t.performName!=="none"){if(r){const i=Ee.getState().stage,a=dr(i);a.PerformList.push({isHoldOn:t.isHoldOn,script:n}),Ee.dispatch(Sh(a))}t.stopTimeout=setTimeout(()=>{t.isOver=!0,t.isHoldOn||(Rf(t.performName),t.goNextWhenOver&&this.goNextWhenOver())},t.duration),Q.performList.push(t)}}static goNextWhenOver(){let t=!1;Q.performList.forEach(n=>{n.blockingAuto()&&!n.isOver&&(t=!0)}),t?setTimeout(this.goNextWhenOver,100):Wr()}}const mK=e=>{Me.debug("\u5355\u6B21\u64AD\u653E\u8BED\u97F3");const t=ag();let n="";for(const i of e.args)i.key==="vocal"&&(n=i.value.toString());let r=document.getElementById("currentVocal");return r!==null&&(r.currentTime=0,r.pause()),Ee.dispatch(Tn({key:"vocal",value:n})),{arrangePerformPromise:new Promise(i=>{setTimeout(()=>{let a=document.getElementById("currentVocal");if(a!==null){a.currentTime=0;const u={performName:t,duration:1e3*60*60,isOver:!1,isHoldOn:!0,stopFunction:()=>{a.oncanplay=()=>{},a.pause()},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0};vI.arrangeNewPerform(u,e,!1),a.oncanplay=()=>{a.play()},a.onended=()=>{for(const l of Q.performList)l.performName===t&&(l.isOver=!0,l.stopFunction(),Rf(l.performName))}}},1)})}};function oR(e){switch(e){case pi.slow:return 80;case pi.normal:return 35;case pi.fast:return 3}}function w4(e){switch(e){case pi.slow:return 800;case pi.normal:return 350;case pi.fast:return 200}}const T4=e=>{const t=Ee.getState().stage,n=t.enableFilm===""?Rn:Em,r=Ee.getState().userData,i=Ee.dispatch;let a=e.content,u=Math.random().toString(),l=!1,f=!1;e.args.forEach(x=>{x.key==="concat"&&x.value===!0&&(u=t.currentDialogKey,a=t.showText+a,l=!0),x.key==="notend"&&x.value===!0&&(f=!0)}),i(Tn(l?{key:"currentConcatDialogPrev",value:t.showText}:{key:"currentConcatDialogPrev",value:""})),i(Tn({key:"showText",value:a})),i(Tn({key:"vocal",value:""})),i(Tn({key:"currentDialogKey",value:u}));const d=oR(r.optionData.textSpeed)*e.content.length;let v=t.showName;for(const x of e.args)x.key==="speaker"&&(v=x.value),x.key==="clear"&&x.value===!0&&(v=""),x.key==="vocal"&&mK(e);i(Tn({key:"showName",value:v})),setTimeout(()=>{[...document.querySelectorAll("."+n.TextBox_textElement_start)].forEach(y=>{y.className=n.TextBox_textElement})},0);const _=ag();let g=750-r.optionData.textSpeed*250;return f&&(g=0),{performName:_,duration:d+g,isOver:!1,isHoldOn:!1,stopFunction:()=>{[...document.querySelectorAll("."+n.TextBox_textElement)].forEach(y=>{y.className=n.TextBox_textElement_Settled})},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0,goNextWhenOver:f}},yK={performName:"",duration:100,isOver:!1,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0},E4=e=>{let t=yK,n=T4;const r=new Map;s6.forEach(i=>{r.set(i.scriptType,i.scriptFunction)}),r.has(e.command)&&(n=r.get(e.command)),t=n(e),t.arrangePerformPromise?t.arrangePerformPromise.then(i=>vI.arrangeNewPerform(i,e)):vI.arrangeNewPerform(t,e)},xK=e=>{Ea(e.sceneUrl).then(t=>{He.currentScene=Sa(t,e.sceneName,e.sceneUrl),He.currentSentenceId=e.continueLine+1,Me.debug("\u73B0\u5728\u6062\u590D\u573A\u666F\uFF0C\u6062\u590D\u540E\u573A\u666F\uFF1A",He.currentScene),Wr()})};var aR={},f0={document:{}},S4=Object.prototype.hasOwnProperty,C4=function(e){return uy(e)?e.toLowerCase():e},i_=Array.isArray,bK=function(e){return uy(e)?e.replace(/[A-Z]/g,function(t){return String.fromCharCode(t.charCodeAt(0)|32)}):e};"I".toLowerCase()!=="i"&&(C4=bK);var wK,sR=Object.prototype.toString,I4=Object.getPrototypeOf,xC=N4("ng");f0.angular||(f0.angular={});function TK(e){if(e==null||fR(e))return!1;if(i_(e)||uy(e)||wK)return!0;var t="length"in Object(e)&&e.length;return lR(t)&&(t>=0&&(t-1 in e||e instanceof Array)||typeof e.item=="function")}function Nn(e,t,n){var r,i;if(e)if(R4(e))for(r in e)r!=="prototype"&&r!=="length"&&r!=="name"&&e.hasOwnProperty(r)&&t.call(n,e[r],r,e);else if(i_(e)||TK(e)){var a=typeof e!="object";for(r=0,i=e.length;r<i;r++)(a||r in e)&&t.call(n,e[r],r,e)}else if(e.forEach&&e.forEach!==Nn)e.forEach(t,n,e);else if(P4(e))for(r in e)t.call(n,e[r],r,e);else if(typeof e.hasOwnProperty=="function")for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r,e);else for(r in e)S4.call(e,r)&&t.call(n,e[r],r,e);return e}function EK(e,t){t?e.$$hashKey=t:delete e.$$hashKey}function uR(){}uR.$inject=[];function SK(e){return typeof e=="undefined"}function mc(e){return typeof e!="undefined"}function A4(e){return e!==null&&typeof e=="object"}function P4(e){return e!==null&&typeof e=="object"&&!I4(e)}function uy(e){return typeof e=="string"}function lR(e){return typeof e=="number"}function R4(e){return typeof e=="function"}function fR(e){return e&&e.window===e}function O4(e){return e&&e.$evalAsync&&e.$watch}var CK=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array\]$/;function IK(e){return e&&lR(e.length)&&CK.test(sR.call(e))}function AK(e){return sR.call(e)==="[object ArrayBuffer]"}function PK(e,t){var n=[],r=[];if(t){if(IK(t)||AK(t))throw xC("cpta","Can't copy! TypedArray destination cannot be mutated.");if(e===t)throw xC("cpi","Can't copy! Source and destination are identical.");return i_(t)?t.length=0:Nn(t,function(l,f){f!=="$$hashKey"&&delete t[f]}),n.push(e),r.push(t),i(e,t)}return a(e);function i(l,f){var h=f.$$hashKey,d;if(i_(l))for(var v=0,_=l.length;v<_;v++)f.push(a(l[v]));else if(P4(l))for(d in l)f[d]=a(l[d]);else if(l&&typeof l.hasOwnProperty=="function")for(d in l)l.hasOwnProperty(d)&&(f[d]=a(l[d]));else for(d in l)S4.call(l,d)&&(f[d]=a(l[d]));return EK(f,h),f}function a(l){if(!A4(l))return l;var f=n.indexOf(l);if(f!==-1)return r[f];if(fR(l)||O4(l))throw xC("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var h=!1,d=u(l);return d===void 0&&(d=i_(l)?[]:Object.create(I4(l)),h=!0),n.push(l),r.push(d),h?i(l,d):d}function u(l){switch(sR.call(l)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new l.constructor(a(l.buffer),l.byteOffset,l.length);case"[object ArrayBuffer]":if(!l.slice){var f=new ArrayBuffer(l.byteLength);return new Uint8Array(f).set(new Uint8Array(l)),f}return l.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new l.constructor(l.valueOf());case"[object RegExp]":var h=new RegExp(l.source,l.toString().match(/[^\/]*$/)[0]);return h.lastIndex=l.lastIndex,h;case"[object Blob]":return new l.constructor([l],{type:l.type})}if(R4(l.cloneNode))return l.cloneNode(!0)}}function RK(e,t){var n=t;return typeof e=="string"&&e.charAt(0)==="$"&&e.charAt(1)==="$"?n=void 0:fR(t)?n="$WINDOW":t&&f0.document===t?n="$DOCUMENT":O4(t)&&(n="$SCOPE"),n}function OK(e){if(!e.currentScript)return!0;var t=e.currentScript.getAttribute("src"),n=e.createElement("a");n.href=t;var r=n.protocol,i=e.location.protocol;return!((r==="resource:"||r==="chrome-extension:")&&i!==r)}OK(f0.document);function NK(){return Object.create(null)}function LK(e){var t=[];return JSON.stringify(e,function(n,r){if(r=RK(n,r),A4(r)){if(t.indexOf(r)>=0)return"...";t.push(r)}return r})}function xL(e){return typeof e=="function"?e.toString().replace(/ \{[\s\S]*$/,""):SK(e)?"undefined":typeof e!="string"?LK(e):e}function N4(e,t){return t=t||Error,function(){var n=2,r=arguments,i=r[0],a="["+(e?e+":":"")+i+"] ",u=r[1],l,f;for(a+=u.replace(/\{\d+\}/g,function(h){var d=+h.slice(1,-1),v=d+n;return v<r.length?xL(r[v]):h}),a+=`
http://errors.angularjs.org/"NG_VERSION_FULL"/`+(e?e+"/":"")+i,f=n,l="?";f<r.length;f++,l="&")a+=l+"p"+(f-n)+"="+encodeURIComponent(xL(r[f]));return new t(a)}}var yc=N4("$parse");({}).constructor.prototype.valueOf;function L4(e){return e+""}var Sm=NK();Nn("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(e){Sm[e]=!0});var kK={n:`
`,f:"\f",r:"\r",t:"	",v:"\v","'":"'",'"':'"'},_I=function(t){this.options=t};_I.prototype={constructor:_I,lex:function(e){for(this.text=e,this.index=0,this.tokens=[];this.index<this.text.length;){var t=this.text.charAt(this.index);if(t==='"'||t==="'")this.readString(t);else if(this.isNumber(t)||t==="."&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(t,"(){}[].,;:?"))this.tokens.push({index:this.index,text:t}),this.index++;else if(this.isWhitespace(t))this.index++;else{var n=t+this.peek(),r=n+this.peek(2),i=Sm[t],a=Sm[n],u=Sm[r];if(i||a||u){var l=u?r:a?n:t;this.tokens.push({index:this.index,text:l,operator:!0}),this.index+=l.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(e,t){return t.indexOf(e)!==-1},peek:function(e){var t=e||1;return this.index+t<this.text.length?this.text.charAt(this.index+t):!1},isNumber:function(e){return"0"<=e&&e<="9"&&typeof e=="string"},isWhitespace:function(e){return e===" "||e==="\r"||e==="	"||e===`
`||e==="\v"||e==="\xA0"},isIdentifierStart:function(e){return this.options.isIdentifierStart?this.options.isIdentifierStart(e,this.codePointAt(e)):this.isValidIdentifierStart(e)},isValidIdentifierStart:function(e){return"a"<=e&&e<="z"||"A"<=e&&e<="Z"||e==="_"||e==="$"},isIdentifierContinue:function(e){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(e,this.codePointAt(e)):this.isValidIdentifierContinue(e)},isValidIdentifierContinue:function(e,t){return this.isValidIdentifierStart(e,t)||this.isNumber(e)},codePointAt:function(e){return e.length===1?e.charCodeAt(0):(e.charCodeAt(0)<<10)+e.charCodeAt(1)-56613888},peekMultichar:function(){var e=this.text.charAt(this.index),t=this.peek();if(!t)return e;var n=e.charCodeAt(0),r=t.charCodeAt(0);return n>=55296&&n<=56319&&r>=56320&&r<=57343?e+t:e},isExpOperator:function(e){return e==="-"||e==="+"||this.isNumber(e)},throwError:function(e,t,n){n=n||this.index;var r=mc(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,n)+"]":" "+n;throw yc("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",e,r,this.text)},readNumber:function(){for(var e="",t=this.index;this.index<this.text.length;){var n=C4(this.text.charAt(this.index));if(n==="."||this.isNumber(n))e+=n;else{var r=this.peek();if(n==="e"&&this.isExpOperator(r))e+=n;else if(this.isExpOperator(n)&&r&&this.isNumber(r)&&e.charAt(e.length-1)==="e")e+=n;else if(this.isExpOperator(n)&&(!r||!this.isNumber(r))&&e.charAt(e.length-1)==="e")this.throwError("Invalid exponent");else break}this.index++}this.tokens.push({index:t,text:e,constant:!0,value:Number(e)})},readIdent:function(){var e=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var t=this.peekMultichar();if(!this.isIdentifierContinue(t))break;this.index+=t.length}this.tokens.push({index:e,text:this.text.slice(e,this.index),identifier:!0})},readString:function(e){var t=this.index;this.index++;for(var n="",r=e,i=!1;this.index<this.text.length;){var a=this.text.charAt(this.index);if(r+=a,i){if(a==="u"){var u=this.text.substring(this.index+1,this.index+5);u.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+u+"]"),this.index+=4,n+=String.fromCharCode(parseInt(u,16))}else{var l=kK[a];n=n+(l||a)}i=!1}else if(a==="\\")i=!0;else if(a===e){this.index++,this.tokens.push({index:t,text:r,constant:!0,value:n});return}else n+=a;this.index++}this.throwError("Unterminated quote",t)}};var he=function(t,n){this.lexer=t,this.options=n};he.Program="Program";he.ExpressionStatement="ExpressionStatement";he.AssignmentExpression="AssignmentExpression";he.ConditionalExpression="ConditionalExpression";he.LogicalExpression="LogicalExpression";he.BinaryExpression="BinaryExpression";he.UnaryExpression="UnaryExpression";he.CallExpression="CallExpression";he.MemberExpression="MemberExpression";he.Identifier="Identifier";he.Literal="Literal";he.ArrayExpression="ArrayExpression";he.Property="Property";he.ObjectExpression="ObjectExpression";he.ThisExpression="ThisExpression";he.LocalsExpression="LocalsExpression";he.NGValueParameter="NGValueParameter";he.prototype={ast:function(e){this.text=e,this.tokens=this.lexer.lex(e);var t=this.program();return this.tokens.length!==0&&this.throwError("is an unexpected token",this.tokens[0]),t},program:function(){for(var e=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&e.push(this.expressionStatement()),!this.expect(";"))return{type:he.Program,body:e}},expressionStatement:function(){return{type:he.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var e=this.expression();this.expect("|");)e=this.filter(e);return e},expression:function(){return this.assignment()},assignment:function(){var e=this.ternary();if(this.expect("=")){if(!B4(e))throw yc("lval","Trying to assign a value to a non l-value");e={type:he.AssignmentExpression,left:e,right:this.assignment(),operator:"="}}return e},ternary:function(){var e=this.logicalOR(),t,n;return this.expect("?")&&(t=this.expression(),this.consume(":"))?(n=this.expression(),{type:he.ConditionalExpression,test:e,alternate:t,consequent:n}):e},logicalOR:function(){for(var e=this.logicalAND();this.expect("||");)e={type:he.LogicalExpression,operator:"||",left:e,right:this.logicalAND()};return e},logicalAND:function(){for(var e=this.equality();this.expect("&&");)e={type:he.LogicalExpression,operator:"&&",left:e,right:this.equality()};return e},equality:function(){for(var e=this.relational(),t;t=this.expect("==","!=","===","!==");)e={type:he.BinaryExpression,operator:t.text,left:e,right:this.relational()};return e},relational:function(){for(var e=this.additive(),t;t=this.expect("<",">","<=",">=");)e={type:he.BinaryExpression,operator:t.text,left:e,right:this.additive()};return e},additive:function(){for(var e=this.multiplicative(),t;t=this.expect("+","-");)e={type:he.BinaryExpression,operator:t.text,left:e,right:this.multiplicative()};return e},multiplicative:function(){for(var e=this.unary(),t;t=this.expect("*","/","%");)e={type:he.BinaryExpression,operator:t.text,left:e,right:this.unary()};return e},unary:function(){var e;return(e=this.expect("+","-","!"))?{type:he.UnaryExpression,operator:e.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var e;this.expect("(")?(e=this.filterChain(),this.consume(")")):this.expect("[")?e=this.arrayDeclaration():this.expect("{")?e=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?e=PK(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?e={type:he.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?e=this.identifier():this.peek().constant?e=this.constant():this.throwError("not a primary expression",this.peek());for(var t;t=this.expect("(","[",".");)t.text==="("?(e={type:he.CallExpression,callee:e,arguments:this.parseArguments()},this.consume(")")):t.text==="["?(e={type:he.MemberExpression,object:e,property:this.expression(),computed:!0},this.consume("]")):t.text==="."?e={type:he.MemberExpression,object:e,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return e},filter:function(e){for(var t=[e],n={type:he.CallExpression,callee:this.identifier(),arguments:t,filter:!0};this.expect(":");)t.push(this.expression());return n},parseArguments:function(){var e=[];if(this.peekToken().text!==")")do e.push(this.filterChain());while(this.expect(","));return e},identifier:function(){var e=this.consume();return e.identifier||this.throwError("is not a valid identifier",e),{type:he.Identifier,name:e.text}},constant:function(){return{type:he.Literal,value:this.consume().value}},arrayDeclaration:function(){var e=[];if(this.peekToken().text!=="]")do{if(this.peek("]"))break;e.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:he.ArrayExpression,elements:e}},object:function(){var e=[],t;if(this.peekToken().text!=="}")do{if(this.peek("}"))break;t={type:he.Property,kind:"init"},this.peek().constant?(t.key=this.constant(),t.computed=!1,this.consume(":"),t.value=this.expression()):this.peek().identifier?(t.key=this.identifier(),t.computed=!1,this.peek(":")?(this.consume(":"),t.value=this.expression()):t.value=t.key):this.peek("[")?(this.consume("["),t.key=this.expression(),this.consume("]"),t.computed=!0,this.consume(":"),t.value=this.expression()):this.throwError("invalid key",this.peek()),e.push(t)}while(this.expect(","));return this.consume("}"),{type:he.ObjectExpression,properties:e}},throwError:function(e,t){throw yc("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",t.text,e,t.index+1,this.text,this.text.substring(t.index))},consume:function(e){if(this.tokens.length===0)throw yc("ueoe","Unexpected end of expression: {0}",this.text);var t=this.expect(e);return t||this.throwError("is unexpected, expecting ["+e+"]",this.peek()),t},peekToken:function(){if(this.tokens.length===0)throw yc("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(e,t,n,r){return this.peekAhead(0,e,t,n,r)},peekAhead:function(e,t,n,r,i){if(this.tokens.length>e){var a=this.tokens[e],u=a.text;if(u===t||u===n||u===r||u===i||!t&&!n&&!r&&!i)return a}return!1},expect:function(e,t,n,r){var i=this.peek(e,t,n,r);return i?(this.tokens.shift(),i):!1},selfReferential:{this:{type:he.ThisExpression},$locals:{type:he.LocalsExpression}}};function FK(e,t){return typeof e!="undefined"?e:t}function k4(e,t){return typeof e=="undefined"?t:typeof t=="undefined"?e:e+t}function BK(e,t){var n=e(t);if(!n)throw new Error("Filter '"+t+"' is not defined");return!n.$stateful}function mr(e,t){var n,r,i;switch(e.type){case he.Program:n=!0,Nn(e.body,function(a){mr(a.expression,t),n=n&&a.expression.constant}),e.constant=n;break;case he.Literal:e.constant=!0,e.toWatch=[];break;case he.UnaryExpression:mr(e.argument,t),e.constant=e.argument.constant,e.toWatch=e.argument.toWatch;break;case he.BinaryExpression:mr(e.left,t),mr(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.left.toWatch.concat(e.right.toWatch);break;case he.LogicalExpression:mr(e.left,t),mr(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.constant?[]:[e];break;case he.ConditionalExpression:mr(e.test,t),mr(e.alternate,t),mr(e.consequent,t),e.constant=e.test.constant&&e.alternate.constant&&e.consequent.constant,e.toWatch=e.constant?[]:[e];break;case he.Identifier:e.constant=!1,e.toWatch=[e];break;case he.MemberExpression:mr(e.object,t),e.computed&&mr(e.property,t),e.constant=e.object.constant&&(!e.computed||e.property.constant),e.toWatch=[e];break;case he.CallExpression:i=e.filter?BK(t,e.callee.name):!1,n=i,r=[],Nn(e.arguments,function(a){mr(a,t),n=n&&a.constant,a.constant||r.push.apply(r,a.toWatch)}),e.constant=n,e.toWatch=i?r:[e];break;case he.AssignmentExpression:mr(e.left,t),mr(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=[e];break;case he.ArrayExpression:n=!0,r=[],Nn(e.elements,function(a){mr(a,t),n=n&&a.constant,a.constant||r.push.apply(r,a.toWatch)}),e.constant=n,e.toWatch=r;break;case he.ObjectExpression:n=!0,r=[],Nn(e.properties,function(a){mr(a.value,t),n=n&&a.value.constant&&!a.computed,a.value.constant||r.push.apply(r,a.value.toWatch)}),e.constant=n,e.toWatch=r;break;case he.ThisExpression:e.constant=!1,e.toWatch=[];break;case he.LocalsExpression:e.constant=!1,e.toWatch=[];break}}function F4(e){if(e.length===1){var t=e[0].expression,n=t.toWatch;return n.length!==1||n[0]!==t?n:void 0}}function B4(e){return e.type===he.Identifier||e.type===he.MemberExpression}function U4(e){if(e.body.length===1&&B4(e.body[0].expression))return{type:he.AssignmentExpression,left:e.body[0].expression,right:{type:he.NGValueParameter},operator:"="}}function D4(e){return e.body.length===0||e.body.length===1&&(e.body[0].expression.type===he.Literal||e.body[0].expression.type===he.ArrayExpression||e.body[0].expression.type===he.ObjectExpression)}function M4(e){return e.constant}function G4(e,t){this.astBuilder=e,this.$filter=t}G4.prototype={compile:function(e){var t=this,n=this.astBuilder.ast(e);this.state={nextId:0,filters:{},fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},mr(n,t.$filter);var r="",i;if(this.stage="assign",i=U4(n)){this.state.computing="assign";var a=this.nextId();this.recurse(i,a),this.return_(a),r="fn.assign="+this.generateFunction("assign","s,v,l")}var u=F4(n.body);t.stage="inputs",Nn(u,function(h,d){var v="fn"+d;t.state[v]={vars:[],body:[],own:{}},t.state.computing=v;var _=t.nextId();t.recurse(h,_),t.return_(_),t.state.inputs.push(v),h.watchId=d}),this.state.computing="fn",this.stage="main",this.recurse(n);var l='"'+this.USE+" "+this.STRICT+`";
`+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+r+this.watchFns()+"return fn;",f=new Function("$filter","getStringValue","ifDefined","plus",l)(this.$filter,L4,FK,k4);return this.state=this.stage=void 0,f.ast=n,f.literal=D4(n),f.constant=M4(n),f},USE:"use",STRICT:"strict",watchFns:function(){var e=[],t=this.state.inputs,n=this;return Nn(t,function(r){e.push("var "+r+"="+n.generateFunction(r,"s"))}),t.length&&e.push("fn.inputs=["+t.join(",")+"];"),e.join("")},generateFunction:function(e,t){return"function("+t+"){"+this.varsPrefix(e)+this.body(e)+"};"},filterPrefix:function(){var e=[],t=this;return Nn(this.state.filters,function(n,r){e.push(n+"=$filter("+t.escape(r)+")")}),e.length?"var "+e.join(",")+";":""},varsPrefix:function(e){return this.state[e].vars.length?"var "+this.state[e].vars.join(",")+";":""},body:function(e){return this.state[e].body.join("")},recurse:function(e,t,n,r,i,a){var u,l,f=this,h,d,v;if(r=r||uR,!a&&mc(e.watchId)){t=t||this.nextId(),this.if_("i",this.lazyAssign(t,this.unsafeComputedMember("i",e.watchId)),this.lazyRecurse(e,t,n,r,i,!0));return}switch(e.type){case he.Program:Nn(e.body,function(g,x){f.recurse(g.expression,void 0,void 0,function(b){l=b}),x!==e.body.length-1?f.current().body.push(l,";"):f.return_(l)});break;case he.Literal:d=this.escape(e.value),this.assign(t,d),r(t||d);break;case he.UnaryExpression:this.recurse(e.argument,void 0,void 0,function(g){l=g}),d=e.operator+"("+this.ifDefined(l,0)+")",this.assign(t,d),r(d);break;case he.BinaryExpression:this.recurse(e.left,void 0,void 0,function(g){u=g}),this.recurse(e.right,void 0,void 0,function(g){l=g}),e.operator==="+"?d=this.plus(u,l):e.operator==="-"?d=this.ifDefined(u,0)+e.operator+this.ifDefined(l,0):d="("+u+")"+e.operator+"("+l+")",this.assign(t,d),r(d);break;case he.LogicalExpression:t=t||this.nextId(),f.recurse(e.left,t),f.if_(e.operator==="&&"?t:f.not(t),f.lazyRecurse(e.right,t)),r(t);break;case he.ConditionalExpression:t=t||this.nextId(),f.recurse(e.test,t),f.if_(t,f.lazyRecurse(e.alternate,t),f.lazyRecurse(e.consequent,t)),r(t);break;case he.Identifier:t=t||this.nextId();var _=f.current().inAssignment;n&&(_?n.context=this.assign(this.nextId(),"s"):n.context=f.stage==="inputs"?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",e.name)+"?l:s"),n.computed=!1,n.name=e.name),f.if_(f.stage==="inputs"||f.not(f.getHasOwnProperty("l",e.name)),function(){f.if_(f.stage==="inputs"||f.and_("s",f.or_(f.isNull(f.nonComputedMember("s",e.name)),f.hasOwnProperty_("s",e.name))),function(){i&&i!==1&&f.if_(f.isNull(f.nonComputedMember("s",e.name)),f.lazyAssign(f.nonComputedMember("s",e.name),"{}")),f.assign(t,f.nonComputedMember("s",e.name))})},t&&f.lazyAssign(t,f.nonComputedMember("l",e.name))),r(t);break;case he.MemberExpression:u=n&&(n.context=this.nextId())||this.nextId(),t=t||this.nextId(),f.recurse(e.object,u,void 0,function(){var g=null,x=f.current().inAssignment;e.computed?(l=f.nextId(),x||f.state.computing==="assign"?g=f.unsafeComputedMember(u,l):g=f.computedMember(u,l)):(x||f.state.computing==="assign"?g=f.unsafeNonComputedMember(u,e.property.name):g=f.nonComputedMember(u,e.property.name),l=e.property.name),e.computed&&e.property.type===he.Literal&&f.recurse(e.property,l),f.if_(f.and_(f.notNull(u),f.or_(f.isNull(g),f.hasOwnProperty_(u,l,e.computed))),function(){e.computed?(e.property.type!==he.Literal&&f.recurse(e.property,l),i&&i!==1&&f.if_(f.not(g),f.lazyAssign(g,"{}")),f.assign(t,g),n&&(n.computed=!0,n.name=l)):(i&&i!==1&&f.if_(f.isNull(g),f.lazyAssign(g,"{}")),f.assign(t,g),n&&(n.computed=!1,n.name=e.property.name))},function(){f.assign(t,"undefined")}),r(t)},!!i);break;case he.CallExpression:t=t||this.nextId(),e.filter?(l=f.filter(e.callee.name),h=[],Nn(e.arguments,function(g){var x=f.nextId();f.recurse(g,x),h.push(x)}),d=l+".call("+l+","+h.join(",")+")",f.assign(t,d),r(t)):(l=f.nextId(),u={},h=[],f.recurse(e.callee,l,u,function(){f.if_(f.notNull(l),function(){if(Nn(e.arguments,function(x){f.recurse(x,e.constant?void 0:f.nextId(),void 0,function(b){h.push(b)})}),u.name){var g=f.member(u.context,u.name,u.computed);d="("+g+" === null ? null : "+f.unsafeMember(u.context,u.name,u.computed)+".call("+[u.context].concat(h).join(",")+"))"}else d=l+"("+h.join(",")+")";f.assign(t,d)},function(){f.assign(t,"undefined")}),r(t)}));break;case he.AssignmentExpression:l=this.nextId(),u={},f.current().inAssignment=!0,this.recurse(e.left,void 0,u,function(){f.if_(f.and_(f.notNull(u.context),f.or_(f.hasOwnProperty_(u.context,u.name),f.isNull(f.member(u.context,u.name,u.computed)))),function(){f.recurse(e.right,l),d=f.member(u.context,u.name,u.computed)+e.operator+l,f.assign(t,d),r(t||d)}),f.current().inAssignment=!1,f.recurse(e.right,l),f.current().inAssignment=!0},1),f.current().inAssignment=!1;break;case he.ArrayExpression:h=[],Nn(e.elements,function(g){f.recurse(g,e.constant?void 0:f.nextId(),void 0,function(x){h.push(x)})}),d="["+h.join(",")+"]",this.assign(t,d),r(t||d);break;case he.ObjectExpression:h=[],v=!1,Nn(e.properties,function(g){g.computed&&(v=!0)}),v?(t=t||this.nextId(),this.assign(t,"{}"),Nn(e.properties,function(g){g.computed?(u=f.nextId(),f.recurse(g.key,u)):u=g.key.type===he.Identifier?g.key.name:""+g.key.value,l=f.nextId(),f.recurse(g.value,l),f.assign(f.unsafeMember(t,u,g.computed),l)})):(Nn(e.properties,function(g){f.recurse(g.value,e.constant?void 0:f.nextId(),void 0,function(x){h.push(f.escape(g.key.type===he.Identifier?g.key.name:""+g.key.value)+":"+x)})}),d="{"+h.join(",")+"}",this.assign(t,d)),r(t||d);break;case he.ThisExpression:this.assign(t,"s"),r(t||"s");break;case he.LocalsExpression:this.assign(t,"l"),r(t||"l");break;case he.NGValueParameter:this.assign(t,"v"),r(t||"v");break}},getHasOwnProperty:function(e,t){var n=e+"."+t,r=this.current().own;return r.hasOwnProperty(n)||(r[n]=this.nextId(!1,e+"&&("+this.escape(t)+" in "+e+")")),r[n]},assign:function(e,t){if(!!e)return this.current().body.push(e,"=",t,";"),e},filter:function(e){return this.state.filters.hasOwnProperty(e)||(this.state.filters[e]=this.nextId(!0)),this.state.filters[e]},ifDefined:function(e,t){return"ifDefined("+e+","+this.escape(t)+")"},plus:function(e,t){return"plus("+e+","+t+")"},return_:function(e){this.current().body.push("return ",e,";")},if_:function(e,t,n){if(e===!0)t();else{var r=this.current().body;r.push("if(",e,"){"),t(),r.push("}"),n&&(r.push("else{"),n(),r.push("}"))}},or_:function(e,t){return"("+e+") || ("+t+")"},hasOwnProperty_:function(e,t,n){return n?"(Object.prototype.hasOwnProperty.call("+e+","+t+"))":"(Object.prototype.hasOwnProperty.call("+e+",'"+t+"'))"},and_:function(e,t){return"("+e+") && ("+t+")"},not:function(e){return"!("+e+")"},isNull:function(e){return e+"==null"},notNull:function(e){return e+"!=null"},nonComputedMember:function(e,t){var n=/^[$_a-zA-Z][$_a-zA-Z0-9]*$/,r=/[^$_a-zA-Z0-9]/g,i="";return n.test(t)?i=e+"."+t:(t=t.replace(r,this.stringEscapeFn),i=e+'["'+t+'"]'),i},unsafeComputedMember:function(e,t){return e+"["+t+"]"},unsafeNonComputedMember:function(e,t){return this.nonComputedMember(e,t)},computedMember:function(e,t){return this.state.computing==="assign"?this.unsafeComputedMember(e,t):"("+e+".hasOwnProperty("+t+") ? "+e+"["+t+"] : null)"},unsafeMember:function(e,t,n){return n?this.unsafeComputedMember(e,t):this.unsafeNonComputedMember(e,t)},member:function(e,t,n){return n?this.computedMember(e,t):this.nonComputedMember(e,t)},getStringValue:function(e){this.assign(e,"getStringValue("+e+")")},lazyRecurse:function(e,t,n,r,i,a){var u=this;return function(){u.recurse(e,t,n,r,i,a)}},lazyAssign:function(e,t){var n=this;return function(){n.assign(e,t)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)},escape:function(e){if(uy(e))return"'"+e.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(lR(e))return e.toString();if(e===!0)return"true";if(e===!1)return"false";if(e===null)return"null";if(typeof e=="undefined")return"undefined";throw yc("esc","IMPOSSIBLE")},nextId:function(e,t){var n="v"+this.state.nextId++;return e||this.current().vars.push(n+(t?"="+t:"")),n},current:function(){return this.state[this.state.computing]}};function $4(e,t){this.astBuilder=e,this.$filter=t}$4.prototype={compile:function(e){var t=this,n=this.astBuilder.ast(e);mr(n,t.$filter);var r,i;(r=U4(n))&&(i=this.recurse(r));var a=F4(n.body),u;a&&(u=[],Nn(a,function(h,d){var v=t.recurse(h);h.input=v,u.push(v),h.watchId=d}));var l=[];Nn(n.body,function(h){l.push(t.recurse(h.expression))});var f=n.body.length===0?uR:n.body.length===1?l[0]:function(h,d){var v;return Nn(l,function(_){v=_(h,d)}),v};return i&&(f.assign=function(h,d,v){return i(h,v,d)}),u&&(f.inputs=u),f.ast=n,f.literal=D4(n),f.constant=M4(n),f},recurse:function(e,t,n){var r,i,a=this,u;if(e.input)return this.inputs(e.input,e.watchId);switch(e.type){case he.Literal:return this.value(e.value,t);case he.UnaryExpression:return i=this.recurse(e.argument),this["unary"+e.operator](i,t);case he.BinaryExpression:return r=this.recurse(e.left),i=this.recurse(e.right),this["binary"+e.operator](r,i,t);case he.LogicalExpression:return r=this.recurse(e.left),i=this.recurse(e.right),this["binary"+e.operator](r,i,t);case he.ConditionalExpression:return this["ternary?:"](this.recurse(e.test),this.recurse(e.alternate),this.recurse(e.consequent),t);case he.Identifier:return a.identifier(e.name,t,n);case he.MemberExpression:return r=this.recurse(e.object,!1,!!n),e.computed||(i=e.property.name),e.computed&&(i=this.recurse(e.property)),e.computed?this.computedMember(r,i,t,n):this.nonComputedMember(r,i,t,n);case he.CallExpression:return u=[],Nn(e.arguments,function(l){u.push(a.recurse(l))}),e.filter&&(i=this.$filter(e.callee.name)),e.filter||(i=this.recurse(e.callee,!0)),e.filter?function(l,f,h,d){for(var v=[],_=0;_<u.length;++_)v.push(u[_](l,f,h,d));var g=i.apply(void 0,v,d);return t?{context:void 0,name:void 0,value:g}:g}:function(l,f,h,d){var v=i(l,f,h,d),_;if(v.value!=null){for(var g=[],x=0;x<u.length;++x)g.push(u[x](l,f,h,d));_=v.value.apply(v.context,g)}return t?{value:_}:_};case he.AssignmentExpression:return r=this.recurse(e.left,!0,1),i=this.recurse(e.right),function(l,f,h,d){var v=r(l,!1,h,d),_=i(l,f,h,d);return v.context[v.name]=_,t?{value:_}:_};case he.ArrayExpression:return u=[],Nn(e.elements,function(l){u.push(a.recurse(l))}),function(l,f,h,d){for(var v=[],_=0;_<u.length;++_)v.push(u[_](l,f,h,d));return t?{value:v}:v};case he.ObjectExpression:return u=[],Nn(e.properties,function(l){l.computed?u.push({key:a.recurse(l.key),computed:!0,value:a.recurse(l.value)}):u.push({key:l.key.type===he.Identifier?l.key.name:""+l.key.value,computed:!1,value:a.recurse(l.value)})}),function(l,f,h,d){for(var v={},_=0;_<u.length;++_)u[_].computed?v[u[_].key(l,f,h,d)]=u[_].value(l,f,h,d):v[u[_].key]=u[_].value(l,f,h,d);return t?{value:v}:v};case he.ThisExpression:return function(l){return t?{value:l}:l};case he.LocalsExpression:return function(l,f){return t?{value:f}:f};case he.NGValueParameter:return function(l,f,h){return t?{value:h}:h}}},"unary+":function(e,t){return function(n,r,i,a){var u=e(n,r,i,a);return mc(u)?u=+u:u=0,t?{value:u}:u}},"unary-":function(e,t){return function(n,r,i,a){var u=e(n,r,i,a);return mc(u)?u=-u:u=-0,t?{value:u}:u}},"unary!":function(e,t){return function(n,r,i,a){var u=!e(n,r,i,a);return t?{value:u}:u}},"binary+":function(e,t,n){return function(r,i,a,u){var l=e(r,i,a,u),f=t(r,i,a,u),h=k4(l,f);return n?{value:h}:h}},"binary-":function(e,t,n){return function(r,i,a,u){var l=e(r,i,a,u),f=t(r,i,a,u),h=(mc(l)?l:0)-(mc(f)?f:0);return n?{value:h}:h}},"binary*":function(e,t,n){return function(r,i,a,u){var l=e(r,i,a,u)*t(r,i,a,u);return n?{value:l}:l}},"binary/":function(e,t,n){return function(r,i,a,u){var l=e(r,i,a,u)/t(r,i,a,u);return n?{value:l}:l}},"binary%":function(e,t,n){return function(r,i,a,u){var l=e(r,i,a,u)%t(r,i,a,u);return n?{value:l}:l}},"binary===":function(e,t,n){return function(r,i,a,u){var l=e(r,i,a,u)===t(r,i,a,u);return n?{value:l}:l}},"binary!==":function(e,t,n){return function(r,i,a,u){var l=e(r,i,a,u)!==t(r,i,a,u);return n?{value:l}:l}},"binary==":function(e,t,n){return function(r,i,a,u){var l=e(r,i,a,u)==t(r,i,a,u);return n?{value:l}:l}},"binary!=":function(e,t,n){return function(r,i,a,u){var l=e(r,i,a,u)!=t(r,i,a,u);return n?{value:l}:l}},"binary<":function(e,t,n){return function(r,i,a,u){var l=e(r,i,a,u)<t(r,i,a,u);return n?{value:l}:l}},"binary>":function(e,t,n){return function(r,i,a,u){var l=e(r,i,a,u)>t(r,i,a,u);return n?{value:l}:l}},"binary<=":function(e,t,n){return function(r,i,a,u){var l=e(r,i,a,u)<=t(r,i,a,u);return n?{value:l}:l}},"binary>=":function(e,t,n){return function(r,i,a,u){var l=e(r,i,a,u)>=t(r,i,a,u);return n?{value:l}:l}},"binary&&":function(e,t,n){return function(r,i,a,u){var l=e(r,i,a,u)&&t(r,i,a,u);return n?{value:l}:l}},"binary||":function(e,t,n){return function(r,i,a,u){var l=e(r,i,a,u)||t(r,i,a,u);return n?{value:l}:l}},"ternary?:":function(e,t,n,r){return function(i,a,u,l){var f=e(i,a,u,l)?t(i,a,u,l):n(i,a,u,l);return r?{value:f}:f}},value:function(e,t){return function(){return t?{context:void 0,name:void 0,value:e}:e}},identifier:function(e,t,n){return function(r,i,a,u){var l=i&&e in i?i:r;n&&n!==1&&l&&l[e]==null&&(l[e]={});var f=l?l[e]:void 0;return t?{context:l,name:e,value:f}:f}},computedMember:function(e,t,n,r){return function(i,a,u,l){var f=e(i,a,u,l),h,d;return f!=null&&(h=t(i,a,u,l),h=L4(h),r&&r!==1&&f&&!f[h]&&(f[h]={}),Object.prototype.hasOwnProperty.call(f,h)&&(d=f[h])),n?{context:f,name:h,value:d}:d}},nonComputedMember:function(e,t,n,r){return function(i,a,u,l){var f=e(i,a,u,l);r&&r!==1&&f&&f[t]==null&&(f[t]={});var h=void 0;return f!=null&&Object.prototype.hasOwnProperty.call(f,t)&&(h=f[t]),n?{context:f,name:t,value:h}:h}},inputs:function(e,t){return function(n,r,i,a){return a?a[t]:e(n,r,i)}}};var gI=function(t,n,r){this.lexer=t,this.$filter=n,this.options=r,this.ast=new he(t,r),this.astCompiler=r.csp?new $4(this.ast,n):new G4(this.ast,n)};gI.prototype={constructor:gI,parse:function(e){return this.astCompiler.compile(e)}};aR.Lexer=_I;aR.Parser=gI;var H4=aR,UK={},DK=H4.Lexer,MK=H4.Parser;function o_(e,t){t=t||{};var n;if(typeof e!="string")throw new TypeError("src must be a string, instead saw '"+typeof e+"'");var r={csp:!1,expensiveChecks:!0,literals:{true:!0,false:!1,null:null,undefined:void 0}},i=new DK(t),a=new MK(i,function(l){return UK[l]},r);return o_.cache?(n=o_.cache[e],n||(n=o_.cache[e]=a.parse(e)),n):a.parse(e)}o_.cache=Object.create(null);var W4=o_;const GK=e=>{if(e.content.match(/=/)){const t=e.content.split(/=/)[0],n=e.content.split(/=/)[1];if(n.match(/[+\-*\/()]/)){const i=n.split(/([+\-*\/()])/g).map(l=>l.match(/[a-zA-Z]/)?j4(l).toString():l).reduce((l,f)=>l+f,""),u=W4(i)();Ee.dispatch(Sv({key:t,value:u}))}else n.match(/true|false/)?(n.match(/true/)&&Ee.dispatch(Sv({key:t,value:!0})),n.match(/false/)&&Ee.dispatch(Sv({key:t,value:!1}))):isNaN(Number(n))?Ee.dispatch(Sv({key:t,value:n})):Ee.dispatch(Sv({key:t,value:Number(n)}));Me.debug("\u8BBE\u7F6E\u53D8\u91CF\uFF1A",{key:t,value:Ee.getState().stage.GameVar[t]})}return{performName:"none",duration:0,isOver:!1,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function j4(e){let t=0;return Ee.getState().stage.GameVar.hasOwnProperty(e)&&(t=Ee.getState().stage.GameVar[e]),t}function $K(e){return W4(e)()}const HK={backlog_size:200},z4=()=>{if(He.currentSentenceId>He.currentScene.sentenceList.length-1){if(He.sceneStack.length!==0){const l=He.sceneStack.pop();l!==void 0&&xK(l)}return}const e=He.currentScene.sentenceList[He.currentSentenceId];let t=!0,n=!1,r="";if(e.args.forEach(l=>{l.key==="when"&&(n=!0,r=l.value.toString())}),n){const f=r.split(/([+\-*\/()><=!]|>=|<=)/g).map(h=>h.match(/[a-zA-Z]/)?h.match(/true/)||h.match(/false/)?h:j4(h).toString():h).reduce((h,d)=>h+d,"");t=$K(f)}if(!t){Me.warn("\u4E0D\u6EE1\u8DB3\u6761\u4EF6\uFF0C\u8DF3\u8FC7\u672C\u53E5\uFF01"),He.currentSentenceId++,Wr();return}E4(e);let i=!1;e.args.forEach(l=>{l.key==="next"&&l.value&&(i=!0)});let a=e.command===it.say;e.args.forEach(l=>{l.key==="notend"&&l.value===!0&&(a=!1)});let u;if(i){He.currentSentenceId++,z4();return}setTimeout(()=>{if(u=Ee.getState().stage,Me.debug("\u672C\u6761\u8BED\u53E5\u6267\u884C\u7ED3\u679C",u),a){const l=dr(u);l.PerformList.forEach(h=>{h.script.args.forEach(d=>{d.key==="concat"&&(d.value=!1,h.script.content=l.showText)})});const f={currentStageState:l,saveScene:{currentSentenceId:He.currentSentenceId,sceneStack:dr(He.sceneStack),sceneName:He.currentScene.sceneName,sceneUrl:He.currentScene.sceneUrl}};for(Xn.push(f);Xn.length>HK.backlog_size;)Xn.shift()}},0),He.currentSentenceId++},Wr=()=>{if(pI.emit("__NEXT"),Ee.getState().GUI.showTitle)return;let t=!1;if(Q.performList.forEach(i=>{i.blockingNext()&&!i.isOver&&(t=!0)}),t){Me.warn("next \u88AB\u963B\u585E\uFF01");return}let n=!0;if(Q.performList.forEach(i=>{i.isHoldOn||(n=!1)}),n){const i=Ee.getState().stage,a=dr(i);for(let u=0;u<a.PerformList.length;u++)a.PerformList[u].isHoldOn||(a.PerformList.splice(u,1),u--);Ee.dispatch(Sh(a)),z4();return}Me.warn("\u63D0\u524D\u7ED3\u675F\u88AB\u89E6\u53D1\uFF0C\u73B0\u5728\u6E05\u9664\u666E\u901A\u6F14\u51FA");let r=!1;for(let i=0;i<Q.performList.length;i++){const a=Q.performList[i];a.isHoldOn||(a.goNextWhenOver&&(r=!0),a.stopFunction(),clearTimeout(a.stopTimeout),Q.performList.splice(i,1),i--)}r&&Wr()};var ly={exports:{}},sg={};/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WK=De.exports,X4=60103;sg.Fragment=60107;if(typeof Symbol=="function"&&Symbol.for){var bL=Symbol.for;X4=bL("react.element"),sg.Fragment=bL("react.fragment")}var jK=WK.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,zK=Object.prototype.hasOwnProperty,XK={key:!0,ref:!0,__self:!0,__source:!0};function V4(e,t,n){var r,i={},a=null,u=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(u=t.ref);for(r in t)zK.call(t,r)&&!XK.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:X4,type:e,key:a,ref:u,props:i,_owner:jK.current}}sg.jsx=V4;sg.jsxs=V4;ly.exports=sg;const M=ly.exports.jsx,Re=ly.exports.jsxs,Ji=ly.exports.Fragment,VK=e=>{const t=`introPerform${Math.random().toString()}`;let n=setTimeout(()=>{});const r=()=>{const f=document.getElementById("introContainer");if(f){const h=f.childNodes[0].childNodes,d=h.length;h.forEach((v,_)=>{const g=Number(v.style.animationDelay.split("ms")[0]);g>0&&(v.style.animationDelay=`${g-1500}ms`),_===d-1&&(g===0?(clearTimeout(n),Rf(t)):(clearTimeout(n),n=setTimeout(()=>{Rf(t),setTimeout(Wr,0)},g-500)))})}};pI.on("__NEXT",r);const i=e.content.split(/\|/),a=i.map((f,h)=>M("div",{style:{animationDelay:`${1500*h}ms`},className:l0.introElement,children:f},"introtext"+h+Math.random().toString())),u=M("div",{children:a});Cf.render(u,document.getElementById("introContainer"));const l=document.getElementById("introContainer");return l&&(l.style.display="block"),{performName:t,duration:1e3+1500*i.length,isOver:!1,isHoldOn:!1,stopFunction:()=>{const f=document.getElementById("introContainer");f&&(f.style.display="none"),pI.off("__NEXT",r)},blockingNext:()=>!0,blockingAuto:()=>!0,stopTimeout:void 0,goNextWhenOver:!0}},qK="_MainStage_main_m7fcj_1",YK="_MainStage_main_container_m7fcj_10",KK="_MainStage_bgContainer_m7fcj_17",ZK="_MainStage_showBgSoftly_m7fcj_1",JK="_MainStage_bgContainer_Settled_m7fcj_27",QK="_MainStage_oldBgContainer_m7fcj_37",eZ="_MainStage_oldBgFadeout_m7fcj_1",tZ="_MainStage_oldBgContainer_Settled_m7fcj_47";var q4={MainStage_main:qK,MainStage_main_container:YK,MainStage_bgContainer:KK,MainStage_showBgSoftly:ZK,MainStage_bgContainer_Settled:JK,MainStage_oldBgContainer:QK,MainStage_oldBgFadeout:eZ,MainStage_oldBgContainer_Settled:tZ};const nZ=e=>(Ee.dispatch(Tn({key:"bgName",value:e.content})),{performName:"none",duration:1e3,isOver:!1,isHoldOn:!1,stopFunction:()=>{const n=document.getElementById("MainStage_bg_MainContainer");n&&(n.className=q4.MainStage_bgContainer_Settled)},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0});function rZ(e){var t=this.constructor;return this.then(function(n){return t.resolve(e()).then(function(){return n})},function(n){return t.resolve(e()).then(function(){return t.reject(n)})})}function iZ(e){var t=this;return new t(function(n,r){if(!(e&&typeof e.length!="undefined"))return r(new TypeError(typeof e+" "+e+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var i=Array.prototype.slice.call(e);if(i.length===0)return n([]);var a=i.length;function u(f,h){if(h&&(typeof h=="object"||typeof h=="function")){var d=h.then;if(typeof d=="function"){d.call(h,function(v){u(f,v)},function(v){i[f]={status:"rejected",reason:v},--a===0&&n(i)});return}}i[f]={status:"fulfilled",value:h},--a===0&&n(i)}for(var l=0;l<i.length;l++)u(l,i[l])})}var oZ=setTimeout;function Y4(e){return Boolean(e&&typeof e.length!="undefined")}function aZ(){}function sZ(e,t){return function(){e.apply(t,arguments)}}function $n(e){if(!(this instanceof $n))throw new TypeError("Promises must be constructed via new");if(typeof e!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],Z4(e,this)}function K4(e,t){for(;e._state===3;)e=e._value;if(e._state===0){e._deferreds.push(t);return}e._handled=!0,$n._immediateFn(function(){var n=e._state===1?t.onFulfilled:t.onRejected;if(n===null){(e._state===1?mI:N_)(t.promise,e._value);return}var r;try{r=n(e._value)}catch(i){N_(t.promise,i);return}mI(t.promise,r)})}function mI(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&(typeof t=="object"||typeof t=="function")){var n=t.then;if(t instanceof $n){e._state=3,e._value=t,yI(e);return}else if(typeof n=="function"){Z4(sZ(n,t),e);return}}e._state=1,e._value=t,yI(e)}catch(r){N_(e,r)}}function N_(e,t){e._state=2,e._value=t,yI(e)}function yI(e){e._state===2&&e._deferreds.length===0&&$n._immediateFn(function(){e._handled||$n._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)K4(e,e._deferreds[t]);e._deferreds=null}function uZ(e,t,n){this.onFulfilled=typeof e=="function"?e:null,this.onRejected=typeof t=="function"?t:null,this.promise=n}function Z4(e,t){var n=!1;try{e(function(r){n||(n=!0,mI(t,r))},function(r){n||(n=!0,N_(t,r))})}catch(r){if(n)return;n=!0,N_(t,r)}}$n.prototype.catch=function(e){return this.then(null,e)};$n.prototype.then=function(e,t){var n=new this.constructor(aZ);return K4(this,new uZ(e,t,n)),n};$n.prototype.finally=rZ;$n.all=function(e){return new $n(function(t,n){if(!Y4(e))return n(new TypeError("Promise.all accepts an array"));var r=Array.prototype.slice.call(e);if(r.length===0)return t([]);var i=r.length;function a(l,f){try{if(f&&(typeof f=="object"||typeof f=="function")){var h=f.then;if(typeof h=="function"){h.call(f,function(d){a(l,d)},n);return}}r[l]=f,--i===0&&t(r)}catch(d){n(d)}}for(var u=0;u<r.length;u++)a(u,r[u])})};$n.allSettled=iZ;$n.resolve=function(e){return e&&typeof e=="object"&&e.constructor===$n?e:new $n(function(t){t(e)})};$n.reject=function(e){return new $n(function(t,n){n(e)})};$n.race=function(e){return new $n(function(t,n){if(!Y4(e))return n(new TypeError("Promise.race accepts an array"));for(var r=0,i=e.length;r<i;r++)$n.resolve(e[r]).then(t,n)})};$n._immediateFn=typeof setImmediate=="function"&&function(e){setImmediate(e)}||function(e){oZ(e,0)};$n._unhandledRejectionFn=function(t){typeof console!="undefined"&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};/*!
 * @pixi/polyfill - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/polyfill is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */typeof globalThis=="undefined"&&(typeof self!="undefined"?self.globalThis=self:typeof global!="undefined"&&(global.globalThis=global));globalThis.Promise||(globalThis.Promise=$n);Object.assign||(Object.assign=OA);var lZ=16;Date.now&&Date.prototype.getTime||(Date.now=function(){return new Date().getTime()});if(!(globalThis.performance&&globalThis.performance.now)){var fZ=Date.now();globalThis.performance||(globalThis.performance={}),globalThis.performance.now=function(){return Date.now()-fZ}}var bC=Date.now(),wL=["ms","moz","webkit","o"];for(var wC=0;wC<wL.length&&!globalThis.requestAnimationFrame;++wC){var TC=wL[wC];globalThis.requestAnimationFrame=globalThis[TC+"RequestAnimationFrame"],globalThis.cancelAnimationFrame=globalThis[TC+"CancelAnimationFrame"]||globalThis[TC+"CancelRequestAnimationFrame"]}globalThis.requestAnimationFrame||(globalThis.requestAnimationFrame=function(e){if(typeof e!="function")throw new TypeError(e+"is not a function");var t=Date.now(),n=lZ+bC-t;return n<0&&(n=0),bC=t,globalThis.self.setTimeout(function(){bC=Date.now(),e(performance.now())},n)});globalThis.cancelAnimationFrame||(globalThis.cancelAnimationFrame=function(e){return clearTimeout(e)});Math.sign||(Math.sign=function(t){return t=Number(t),t===0||isNaN(t)?t:t>0?1:-1});Number.isInteger||(Number.isInteger=function(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t});globalThis.ArrayBuffer||(globalThis.ArrayBuffer=Array);globalThis.Float32Array||(globalThis.Float32Array=Array);globalThis.Uint32Array||(globalThis.Uint32Array=Array);globalThis.Uint16Array||(globalThis.Uint16Array=Array);globalThis.Uint8Array||(globalThis.Uint8Array=Array);globalThis.Int32Array||(globalThis.Int32Array=Array);var EC=/iPhone/i,TL=/iPod/i,EL=/iPad/i,SL=/\biOS-universal(?:.+)Mac\b/i,SC=/\bAndroid(?:.+)Mobile\b/i,CL=/Android/i,rc=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,Lg=/Silk/i,gs=/Windows Phone/i,IL=/\bWindows(?:.+)ARM\b/i,AL=/BlackBerry/i,PL=/BB10/i,RL=/Opera Mini/i,OL=/\b(CriOS|Chrome)(?:.+)Mobile/i,NL=/Mobile(?:.+)Firefox\b/i,LL=function(e){return typeof e!="undefined"&&e.platform==="MacIntel"&&typeof e.maxTouchPoints=="number"&&e.maxTouchPoints>1&&typeof MSStream=="undefined"};function cZ(e){return function(t){return t.test(e)}}function hZ(e){var t={userAgent:"",platform:"",maxTouchPoints:0};!e&&typeof navigator!="undefined"?t={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof e=="string"?t.userAgent=e:e&&e.userAgent&&(t={userAgent:e.userAgent,platform:e.platform,maxTouchPoints:e.maxTouchPoints||0});var n=t.userAgent,r=n.split("[FBAN");typeof r[1]!="undefined"&&(n=r[0]),r=n.split("Twitter"),typeof r[1]!="undefined"&&(n=r[0]);var i=cZ(n),a={apple:{phone:i(EC)&&!i(gs),ipod:i(TL),tablet:!i(EC)&&(i(EL)||LL(t))&&!i(gs),universal:i(SL),device:(i(EC)||i(TL)||i(EL)||i(SL)||LL(t))&&!i(gs)},amazon:{phone:i(rc),tablet:!i(rc)&&i(Lg),device:i(rc)||i(Lg)},android:{phone:!i(gs)&&i(rc)||!i(gs)&&i(SC),tablet:!i(gs)&&!i(rc)&&!i(SC)&&(i(Lg)||i(CL)),device:!i(gs)&&(i(rc)||i(Lg)||i(SC)||i(CL))||i(/\bokhttp\b/i)},windows:{phone:i(gs),tablet:i(IL),device:i(gs)||i(IL)},other:{blackberry:i(AL),blackberry10:i(PL),opera:i(RL),firefox:i(NL),chrome:i(OL),device:i(AL)||i(PL)||i(RL)||i(NL)||i(OL)},any:!1,phone:!1,tablet:!1};return a.any=a.apple.device||a.android.device||a.windows.device||a.other.device,a.phone=a.apple.phone||a.android.phone||a.windows.phone,a.tablet=a.apple.tablet||a.android.tablet||a.windows.tablet,a}/*!
 * @pixi/settings - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/settings is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var ha=hZ(globalThis.navigator);function dZ(e){var t=!0;if(ha.tablet||ha.phone){if(ha.apple.device){var n=navigator.userAgent.match(/OS (\d+)_(\d+)?/);if(n){var r=parseInt(n[1],10);r<11&&(t=!1)}}if(ha.android.device){var n=navigator.userAgent.match(/Android\s([0-9.]*)/);if(n){var r=parseInt(n[1],10);r<7&&(t=!1)}}}return t?e:4}function pZ(){return!ha.apple.device}/*!
 * @pixi/constants - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var kL;(function(e){e[e.WEBGL_LEGACY=0]="WEBGL_LEGACY",e[e.WEBGL=1]="WEBGL",e[e.WEBGL2=2]="WEBGL2"})(kL||(kL={}));var FL;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.WEBGL=1]="WEBGL",e[e.CANVAS=2]="CANVAS"})(FL||(FL={}));var BL;(function(e){e[e.COLOR=16384]="COLOR",e[e.DEPTH=256]="DEPTH",e[e.STENCIL=1024]="STENCIL"})(BL||(BL={}));var UL;(function(e){e[e.NORMAL=0]="NORMAL",e[e.ADD=1]="ADD",e[e.MULTIPLY=2]="MULTIPLY",e[e.SCREEN=3]="SCREEN",e[e.OVERLAY=4]="OVERLAY",e[e.DARKEN=5]="DARKEN",e[e.LIGHTEN=6]="LIGHTEN",e[e.COLOR_DODGE=7]="COLOR_DODGE",e[e.COLOR_BURN=8]="COLOR_BURN",e[e.HARD_LIGHT=9]="HARD_LIGHT",e[e.SOFT_LIGHT=10]="SOFT_LIGHT",e[e.DIFFERENCE=11]="DIFFERENCE",e[e.EXCLUSION=12]="EXCLUSION",e[e.HUE=13]="HUE",e[e.SATURATION=14]="SATURATION",e[e.COLOR=15]="COLOR",e[e.LUMINOSITY=16]="LUMINOSITY",e[e.NORMAL_NPM=17]="NORMAL_NPM",e[e.ADD_NPM=18]="ADD_NPM",e[e.SCREEN_NPM=19]="SCREEN_NPM",e[e.NONE=20]="NONE",e[e.SRC_OVER=0]="SRC_OVER",e[e.SRC_IN=21]="SRC_IN",e[e.SRC_OUT=22]="SRC_OUT",e[e.SRC_ATOP=23]="SRC_ATOP",e[e.DST_OVER=24]="DST_OVER",e[e.DST_IN=25]="DST_IN",e[e.DST_OUT=26]="DST_OUT",e[e.DST_ATOP=27]="DST_ATOP",e[e.ERASE=26]="ERASE",e[e.SUBTRACT=28]="SUBTRACT",e[e.XOR=29]="XOR"})(UL||(UL={}));var DL;(function(e){e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(DL||(DL={}));var ML;(function(e){e[e.RGBA=6408]="RGBA",e[e.RGB=6407]="RGB",e[e.RG=33319]="RG",e[e.RED=6403]="RED",e[e.RGBA_INTEGER=36249]="RGBA_INTEGER",e[e.RGB_INTEGER=36248]="RGB_INTEGER",e[e.RG_INTEGER=33320]="RG_INTEGER",e[e.RED_INTEGER=36244]="RED_INTEGER",e[e.ALPHA=6406]="ALPHA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(ML||(ML={}));var GL;(function(e){e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(GL||(GL={}));var $L;(function(e){e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",e[e.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",e[e.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",e[e.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",e[e.BYTE=5120]="BYTE",e[e.SHORT=5122]="SHORT",e[e.INT=5124]="INT",e[e.FLOAT=5126]="FLOAT",e[e.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",e[e.HALF_FLOAT=36193]="HALF_FLOAT"})($L||($L={}));var HL;(function(e){e[e.FLOAT=0]="FLOAT",e[e.INT=1]="INT",e[e.UINT=2]="UINT"})(HL||(HL={}));var xI;(function(e){e[e.NEAREST=0]="NEAREST",e[e.LINEAR=1]="LINEAR"})(xI||(xI={}));var bI;(function(e){e[e.CLAMP=33071]="CLAMP",e[e.REPEAT=10497]="REPEAT",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(bI||(bI={}));var wI;(function(e){e[e.OFF=0]="OFF",e[e.POW2=1]="POW2",e[e.ON=2]="ON",e[e.ON_MANUAL=3]="ON_MANUAL"})(wI||(wI={}));var WL;(function(e){e[e.NPM=0]="NPM",e[e.UNPACK=1]="UNPACK",e[e.PMA=2]="PMA",e[e.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",e[e.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",e[e.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",e[e.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(WL||(WL={}));var jL;(function(e){e[e.NO=0]="NO",e[e.YES=1]="YES",e[e.AUTO=2]="AUTO",e[e.BLEND=0]="BLEND",e[e.CLEAR=1]="CLEAR",e[e.BLIT=2]="BLIT"})(jL||(jL={}));var TI;(function(e){e[e.AUTO=0]="AUTO",e[e.MANUAL=1]="MANUAL"})(TI||(TI={}));var a_;(function(e){e.LOW="lowp",e.MEDIUM="mediump",e.HIGH="highp"})(a_||(a_={}));var zL;(function(e){e[e.NONE=0]="NONE",e[e.SCISSOR=1]="SCISSOR",e[e.STENCIL=2]="STENCIL",e[e.SPRITE=3]="SPRITE"})(zL||(zL={}));var EI;(function(e){e[e.NONE=0]="NONE",e[e.LOW=2]="LOW",e[e.MEDIUM=4]="MEDIUM",e[e.HIGH=8]="HIGH"})(EI||(EI={}));var XL;(function(e){e[e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",e[e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",e[e.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(XL||(XL={}));var ze={MIPMAP_TEXTURES:wI.POW2,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,FILTER_MULTISAMPLE:EI.NONE,SPRITE_MAX_TEXTURES:dZ(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,useContextAlpha:!0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:TI.AUTO,GC_MAX_IDLE:60*60,GC_MAX_CHECK_COUNT:60*10,WRAP_MODE:bI.CLAMP,SCALE_MODE:xI.LINEAR,PRECISION_VERTEX:a_.HIGH,PRECISION_FRAGMENT:ha.apple.device?a_.HIGH:a_.MEDIUM,CAN_UPLOAD_SAME_BUFFER:pZ(),CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},J4={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(f,h,d){this.fn=f,this.context=h,this.once=d||!1}function a(f,h,d,v,_){if(typeof d!="function")throw new TypeError("The listener must be a function");var g=new i(d,v||f,_),x=n?n+h:h;return f._events[x]?f._events[x].fn?f._events[x]=[f._events[x],g]:f._events[x].push(g):(f._events[x]=g,f._eventsCount++),f}function u(f,h){--f._eventsCount===0?f._events=new r:delete f._events[h]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var h=[],d,v;if(this._eventsCount===0)return h;for(v in d=this._events)t.call(d,v)&&h.push(n?v.slice(1):v);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(d)):h},l.prototype.listeners=function(h){var d=n?n+h:h,v=this._events[d];if(!v)return[];if(v.fn)return[v.fn];for(var _=0,g=v.length,x=new Array(g);_<g;_++)x[_]=v[_].fn;return x},l.prototype.listenerCount=function(h){var d=n?n+h:h,v=this._events[d];return v?v.fn?1:v.length:0},l.prototype.emit=function(h,d,v,_,g,x){var b=n?n+h:h;if(!this._events[b])return!1;var y=this._events[b],E=arguments.length,S,A;if(y.fn){switch(y.once&&this.removeListener(h,y.fn,void 0,!0),E){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,v),!0;case 4:return y.fn.call(y.context,d,v,_),!0;case 5:return y.fn.call(y.context,d,v,_,g),!0;case 6:return y.fn.call(y.context,d,v,_,g,x),!0}for(A=1,S=new Array(E-1);A<E;A++)S[A-1]=arguments[A];y.fn.apply(y.context,S)}else{var L=y.length,P;for(A=0;A<L;A++)switch(y[A].once&&this.removeListener(h,y[A].fn,void 0,!0),E){case 1:y[A].fn.call(y[A].context);break;case 2:y[A].fn.call(y[A].context,d);break;case 3:y[A].fn.call(y[A].context,d,v);break;case 4:y[A].fn.call(y[A].context,d,v,_);break;default:if(!S)for(P=1,S=new Array(E-1);P<E;P++)S[P-1]=arguments[P];y[A].fn.apply(y[A].context,S)}}return!0},l.prototype.on=function(h,d,v){return a(this,h,d,v,!1)},l.prototype.once=function(h,d,v){return a(this,h,d,v,!0)},l.prototype.removeListener=function(h,d,v,_){var g=n?n+h:h;if(!this._events[g])return this;if(!d)return u(this,g),this;var x=this._events[g];if(x.fn)x.fn===d&&(!_||x.once)&&(!v||x.context===v)&&u(this,g);else{for(var b=0,y=[],E=x.length;b<E;b++)(x[b].fn!==d||_&&!x[b].once||v&&x[b].context!==v)&&y.push(x[b]);y.length?this._events[g]=y.length===1?y[0]:y:u(this,g)}return this},l.prototype.removeAllListeners=function(h){var d;return h?(d=n?n+h:h,this._events[d]&&u(this,d)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,e.exports=l})(J4);var ug=J4.exports,cR={exports:{}};cR.exports=fy;cR.exports.default=fy;function fy(e,t,n){n=n||2;var r=t&&t.length,i=r?t[0]*n:e.length,a=Q4(e,0,i,n,!0),u=[];if(!a||a.next===a.prev)return u;var l,f,h,d,v,_,g;if(r&&(a=yZ(e,t,a,n)),e.length>80*n){l=h=e[0],f=d=e[1];for(var x=n;x<i;x+=n)v=e[x],_=e[x+1],v<l&&(l=v),_<f&&(f=_),v>h&&(h=v),_>d&&(d=_);g=Math.max(h-l,d-f),g=g!==0?1/g:0}return L_(a,u,n,l,f,g),u}function Q4(e,t,n,r,i){var a,u;if(i===II(e,t,n,r)>0)for(a=t;a<n;a+=r)u=VL(a,e[a],e[a+1],u);else for(a=n-r;a>=t;a-=r)u=VL(a,e[a],e[a+1],u);return u&&cy(u,u.next)&&(F_(u),u=u.next),u}function yu(e,t){if(!e)return e;t||(t=e);var n=e,r;do if(r=!1,!n.steiner&&(cy(n,n.next)||kn(n.prev,n,n.next)===0)){if(F_(n),n=t=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==t);return t}function L_(e,t,n,r,i,a,u){if(!!e){!u&&a&&EZ(e,r,i,a);for(var l=e,f,h;e.prev!==e.next;){if(f=e.prev,h=e.next,a?_Z(e,r,i,a):vZ(e)){t.push(f.i/n),t.push(e.i/n),t.push(h.i/n),F_(e),e=h.next,l=h.next;continue}if(e=h,e===l){u?u===1?(e=gZ(yu(e),t,n),L_(e,t,n,r,i,a,2)):u===2&&mZ(e,t,n,r,i,a):L_(yu(e),t,n,r,i,a,1);break}}}}function vZ(e){var t=e.prev,n=e,r=e.next;if(kn(t,n,r)>=0)return!1;for(var i=e.next.next;i!==e.prev;){if(xc(t.x,t.y,n.x,n.y,r.x,r.y,i.x,i.y)&&kn(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function _Z(e,t,n,r){var i=e.prev,a=e,u=e.next;if(kn(i,a,u)>=0)return!1;for(var l=i.x<a.x?i.x<u.x?i.x:u.x:a.x<u.x?a.x:u.x,f=i.y<a.y?i.y<u.y?i.y:u.y:a.y<u.y?a.y:u.y,h=i.x>a.x?i.x>u.x?i.x:u.x:a.x>u.x?a.x:u.x,d=i.y>a.y?i.y>u.y?i.y:u.y:a.y>u.y?a.y:u.y,v=SI(l,f,t,n,r),_=SI(h,d,t,n,r),g=e.prevZ,x=e.nextZ;g&&g.z>=v&&x&&x.z<=_;){if(g!==e.prev&&g!==e.next&&xc(i.x,i.y,a.x,a.y,u.x,u.y,g.x,g.y)&&kn(g.prev,g,g.next)>=0||(g=g.prevZ,x!==e.prev&&x!==e.next&&xc(i.x,i.y,a.x,a.y,u.x,u.y,x.x,x.y)&&kn(x.prev,x,x.next)>=0))return!1;x=x.nextZ}for(;g&&g.z>=v;){if(g!==e.prev&&g!==e.next&&xc(i.x,i.y,a.x,a.y,u.x,u.y,g.x,g.y)&&kn(g.prev,g,g.next)>=0)return!1;g=g.prevZ}for(;x&&x.z<=_;){if(x!==e.prev&&x!==e.next&&xc(i.x,i.y,a.x,a.y,u.x,u.y,x.x,x.y)&&kn(x.prev,x,x.next)>=0)return!1;x=x.nextZ}return!0}function gZ(e,t,n){var r=e;do{var i=r.prev,a=r.next.next;!cy(i,a)&&eD(i,r,r.next,a)&&k_(i,a)&&k_(a,i)&&(t.push(i.i/n),t.push(r.i/n),t.push(a.i/n),F_(r),F_(r.next),r=e=a),r=r.next}while(r!==e);return yu(r)}function mZ(e,t,n,r,i,a){var u=e;do{for(var l=u.next.next;l!==u.prev;){if(u.i!==l.i&&IZ(u,l)){var f=tD(u,l);u=yu(u,u.next),f=yu(f,f.next),L_(u,t,n,r,i,a),L_(f,t,n,r,i,a);return}l=l.next}u=u.next}while(u!==e)}function yZ(e,t,n,r){var i=[],a,u,l,f,h;for(a=0,u=t.length;a<u;a++)l=t[a]*r,f=a<u-1?t[a+1]*r:e.length,h=Q4(e,l,f,r,!1),h===h.next&&(h.steiner=!0),i.push(CZ(h));for(i.sort(xZ),a=0;a<i.length;a++)n=bZ(i[a],n),n=yu(n,n.next);return n}function xZ(e,t){return e.x-t.x}function bZ(e,t){var n=wZ(e,t);if(!n)return t;var r=tD(n,e),i=yu(n,n.next);return yu(r,r.next),t===n?i:t}function wZ(e,t){var n=t,r=e.x,i=e.y,a=-1/0,u;do{if(i<=n.y&&i>=n.next.y&&n.next.y!==n.y){var l=n.x+(i-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(l<=r&&l>a){if(a=l,l===r){if(i===n.y)return n;if(i===n.next.y)return n.next}u=n.x<n.next.x?n:n.next}}n=n.next}while(n!==t);if(!u)return null;if(r===a)return u;var f=u,h=u.x,d=u.y,v=1/0,_;n=u;do r>=n.x&&n.x>=h&&r!==n.x&&xc(i<d?r:a,i,h,d,i<d?a:r,i,n.x,n.y)&&(_=Math.abs(i-n.y)/(r-n.x),k_(n,e)&&(_<v||_===v&&(n.x>u.x||n.x===u.x&&TZ(u,n)))&&(u=n,v=_)),n=n.next;while(n!==f);return u}function TZ(e,t){return kn(e.prev,e,t.prev)<0&&kn(t.next,e,e.next)<0}function EZ(e,t,n,r){var i=e;do i.z===null&&(i.z=SI(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,SZ(i)}function SZ(e){var t,n,r,i,a,u,l,f,h=1;do{for(n=e,e=null,a=null,u=0;n;){for(u++,r=n,l=0,t=0;t<h&&(l++,r=r.nextZ,!!r);t++);for(f=h;l>0||f>0&&r;)l!==0&&(f===0||!r||n.z<=r.z)?(i=n,n=n.nextZ,l--):(i=r,r=r.nextZ,f--),a?a.nextZ=i:e=i,i.prevZ=a,a=i;n=r}a.nextZ=null,h*=2}while(u>1);return e}function SI(e,t,n,r,i){return e=32767*(e-n)*i,t=32767*(t-r)*i,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e|t<<1}function CZ(e){var t=e,n=e;do(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next;while(t!==e);return n}function xc(e,t,n,r,i,a,u,l){return(i-u)*(t-l)-(e-u)*(a-l)>=0&&(e-u)*(r-l)-(n-u)*(t-l)>=0&&(n-u)*(a-l)-(i-u)*(r-l)>=0}function IZ(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!AZ(e,t)&&(k_(e,t)&&k_(t,e)&&PZ(e,t)&&(kn(e.prev,e,t.prev)||kn(e,t.prev,t))||cy(e,t)&&kn(e.prev,e,e.next)>0&&kn(t.prev,t,t.next)>0)}function kn(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function cy(e,t){return e.x===t.x&&e.y===t.y}function eD(e,t,n,r){var i=Fg(kn(e,t,n)),a=Fg(kn(e,t,r)),u=Fg(kn(n,r,e)),l=Fg(kn(n,r,t));return!!(i!==a&&u!==l||i===0&&kg(e,n,t)||a===0&&kg(e,r,t)||u===0&&kg(n,e,r)||l===0&&kg(n,t,r))}function kg(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function Fg(e){return e>0?1:e<0?-1:0}function AZ(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&eD(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}function k_(e,t){return kn(e.prev,e,e.next)<0?kn(e,t,e.next)>=0&&kn(e,e.prev,t)>=0:kn(e,t,e.prev)<0||kn(e,e.next,t)<0}function PZ(e,t){var n=e,r=!1,i=(e.x+t.x)/2,a=(e.y+t.y)/2;do n.y>a!=n.next.y>a&&n.next.y!==n.y&&i<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==e);return r}function tD(e,t){var n=new CI(e.i,e.x,e.y),r=new CI(t.i,t.x,t.y),i=e.next,a=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,a.next=r,r.prev=a,r}function VL(e,t,n,r){var i=new CI(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function F_(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function CI(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}fy.deviation=function(e,t,n,r){var i=t&&t.length,a=i?t[0]*n:e.length,u=Math.abs(II(e,0,a,n));if(i)for(var l=0,f=t.length;l<f;l++){var h=t[l]*n,d=l<f-1?t[l+1]*n:e.length;u-=Math.abs(II(e,h,d,n))}var v=0;for(l=0;l<r.length;l+=3){var _=r[l]*n,g=r[l+1]*n,x=r[l+2]*n;v+=Math.abs((e[_]-e[x])*(e[g+1]-e[_+1])-(e[_]-e[g])*(e[x+1]-e[_+1]))}return u===0&&v===0?0:Math.abs((v-u)/u)};function II(e,t,n,r){for(var i=0,a=t,u=n-r;a<n;a+=r)i+=(e[u]-e[a])*(e[a+1]+e[u+1]),u=a;return i}fy.flatten=function(e){for(var t=e[0][0].length,n={vertices:[],holes:[],dimensions:t},r=0,i=0;i<e.length;i++){for(var a=0;a<e[i].length;a++)for(var u=0;u<t;u++)n.vertices.push(e[i][a][u]);i>0&&(r+=e[i-1].length,n.holes.push(r))}return n};var nD=cR.exports,AI={exports:{}};/*! https://mths.be/punycode v1.3.2 by @mathias */(function(e,t){(function(n){var r=t&&!t.nodeType&&t,i=e&&!e.nodeType&&e,a=typeof Kr=="object"&&Kr;(a.global===a||a.window===a||a.self===a)&&(n=a);var u,l=2147483647,f=36,h=1,d=26,v=38,_=700,g=72,x=128,b="-",y=/^xn--/,E=/[^\x20-\x7E]/,S=/[\x2E\u3002\uFF0E\uFF61]/g,A={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},L=f-h,P=Math.floor,R=String.fromCharCode,D;function $(te){throw RangeError(A[te])}function U(te,Y){for(var ue=te.length,Se=[];ue--;)Se[ue]=Y(te[ue]);return Se}function K(te,Y){var ue=te.split("@"),Se="";ue.length>1&&(Se=ue[0]+"@",te=ue[1]),te=te.replace(S,".");var ke=te.split("."),Be=U(ke,Y).join(".");return Se+Be}function ie(te){for(var Y=[],ue=0,Se=te.length,ke,Be;ue<Se;)ke=te.charCodeAt(ue++),ke>=55296&&ke<=56319&&ue<Se?(Be=te.charCodeAt(ue++),(Be&64512)==56320?Y.push(((ke&1023)<<10)+(Be&1023)+65536):(Y.push(ke),ue--)):Y.push(ke);return Y}function re(te){return U(te,function(Y){var ue="";return Y>65535&&(Y-=65536,ue+=R(Y>>>10&1023|55296),Y=56320|Y&1023),ue+=R(Y),ue}).join("")}function ve(te){return te-48<10?te-22:te-65<26?te-65:te-97<26?te-97:f}function Ge(te,Y){return te+22+75*(te<26)-((Y!=0)<<5)}function ae(te,Y,ue){var Se=0;for(te=ue?P(te/_):te>>1,te+=P(te/Y);te>L*d>>1;Se+=f)te=P(te/L);return P(Se+(L+1)*te/(te+v))}function ce(te){var Y=[],ue=te.length,Se,ke=0,Be=x,Qe=g,It,mt,ot,Yt,ft,yt,nt,ut,vt;for(It=te.lastIndexOf(b),It<0&&(It=0),mt=0;mt<It;++mt)te.charCodeAt(mt)>=128&&$("not-basic"),Y.push(te.charCodeAt(mt));for(ot=It>0?It+1:0;ot<ue;){for(Yt=ke,ft=1,yt=f;ot>=ue&&$("invalid-input"),nt=ve(te.charCodeAt(ot++)),(nt>=f||nt>P((l-ke)/ft))&&$("overflow"),ke+=nt*ft,ut=yt<=Qe?h:yt>=Qe+d?d:yt-Qe,!(nt<ut);yt+=f)vt=f-ut,ft>P(l/vt)&&$("overflow"),ft*=vt;Se=Y.length+1,Qe=ae(ke-Yt,Se,Yt==0),P(ke/Se)>l-Be&&$("overflow"),Be+=P(ke/Se),ke%=Se,Y.splice(ke++,0,Be)}return re(Y)}function me(te){var Y,ue,Se,ke,Be,Qe,It,mt,ot,Yt,ft,yt=[],nt,ut,vt,ht;for(te=ie(te),nt=te.length,Y=x,ue=0,Be=g,Qe=0;Qe<nt;++Qe)ft=te[Qe],ft<128&&yt.push(R(ft));for(Se=ke=yt.length,ke&&yt.push(b);Se<nt;){for(It=l,Qe=0;Qe<nt;++Qe)ft=te[Qe],ft>=Y&&ft<It&&(It=ft);for(ut=Se+1,It-Y>P((l-ue)/ut)&&$("overflow"),ue+=(It-Y)*ut,Y=It,Qe=0;Qe<nt;++Qe)if(ft=te[Qe],ft<Y&&++ue>l&&$("overflow"),ft==Y){for(mt=ue,ot=f;Yt=ot<=Be?h:ot>=Be+d?d:ot-Be,!(mt<Yt);ot+=f)ht=mt-Yt,vt=f-Yt,yt.push(R(Ge(Yt+ht%vt,0))),mt=P(ht/vt);yt.push(R(Ge(mt,0))),Be=ae(ue,ut,Se==ke),ue=0,++Se}++ue,++Y}return yt.join("")}function Oe(te){return K(te,function(Y){return y.test(Y)?ce(Y.slice(4).toLowerCase()):Y})}function pt(te){return K(te,function(Y){return E.test(Y)?"xn--"+me(Y):Y})}if(u={version:"1.3.2",ucs2:{decode:ie,encode:re},decode:ce,encode:me,toASCII:pt,toUnicode:Oe},r&&i)if(e.exports==r)i.exports=u;else for(D in u)u.hasOwnProperty(D)&&(r[D]=u[D]);else n.punycode=u})(Kr)})(AI,AI.exports);var RZ={isString:function(e){return typeof e=="string"},isObject:function(e){return typeof e=="object"&&e!==null},isNull:function(e){return e===null},isNullOrUndefined:function(e){return e==null}},B_={};function OZ(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var NZ=function(e,t,n,r){t=t||"&",n=n||"=";var i={};if(typeof e!="string"||e.length===0)return i;var a=/\+/g;e=e.split(t);var u=1e3;r&&typeof r.maxKeys=="number"&&(u=r.maxKeys);var l=e.length;u>0&&l>u&&(l=u);for(var f=0;f<l;++f){var h=e[f].replace(a,"%20"),d=h.indexOf(n),v,_,g,x;d>=0?(v=h.substr(0,d),_=h.substr(d+1)):(v=h,_=""),g=decodeURIComponent(v),x=decodeURIComponent(_),OZ(i,g)?Array.isArray(i[g])?i[g].push(x):i[g]=[i[g],x]:i[g]=x}return i},Cv=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}},LZ=function(e,t,n,r){return t=t||"&",n=n||"=",e===null&&(e=void 0),typeof e=="object"?Object.keys(e).map(function(i){var a=encodeURIComponent(Cv(i))+n;return Array.isArray(e[i])?e[i].map(function(u){return a+encodeURIComponent(Cv(u))}).join(t):a+encodeURIComponent(Cv(e[i]))}).join(t):r?encodeURIComponent(Cv(r))+n+encodeURIComponent(Cv(e)):""};B_.decode=B_.parse=NZ;B_.encode=B_.stringify=LZ;var kZ=AI.exports,sa=RZ,FZ=hy,BZ=VZ,UZ=XZ;function Ko(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var DZ=/^([a-z0-9.+-]+:)/i,MZ=/:[0-9]*$/,GZ=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,$Z=["<",">",'"',"`"," ","\r",`
`,"	"],HZ=["{","}","|","\\","^","`"].concat($Z),PI=["'"].concat(HZ),qL=["%","/","?",";","#"].concat(PI),YL=["/","?","#"],WZ=255,KL=/^[+a-z0-9A-Z_-]{0,63}$/,jZ=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,zZ={javascript:!0,"javascript:":!0},RI={javascript:!0,"javascript:":!0},Mc={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},OI=B_;function hy(e,t,n){if(e&&sa.isObject(e)&&e instanceof Ko)return e;var r=new Ko;return r.parse(e,t,n),r}Ko.prototype.parse=function(e,t,n){if(!sa.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var r=e.indexOf("?"),i=r!==-1&&r<e.indexOf("#")?"?":"#",a=e.split(i),u=/\\/g;a[0]=a[0].replace(u,"/"),e=a.join(i);var l=e;if(l=l.trim(),!n&&e.split("#").length===1){var f=GZ.exec(l);if(f)return this.path=l,this.href=l,this.pathname=f[1],f[2]?(this.search=f[2],t?this.query=OI.parse(this.search.substr(1)):this.query=this.search.substr(1)):t&&(this.search="",this.query={}),this}var h=DZ.exec(l);if(h){h=h[0];var d=h.toLowerCase();this.protocol=d,l=l.substr(h.length)}if(n||h||l.match(/^\/\/[^@\/]+@[^@\/]+/)){var v=l.substr(0,2)==="//";v&&!(h&&RI[h])&&(l=l.substr(2),this.slashes=!0)}if(!RI[h]&&(v||h&&!Mc[h])){for(var _=-1,g=0;g<YL.length;g++){var x=l.indexOf(YL[g]);x!==-1&&(_===-1||x<_)&&(_=x)}var b,y;_===-1?y=l.lastIndexOf("@"):y=l.lastIndexOf("@",_),y!==-1&&(b=l.slice(0,y),l=l.slice(y+1),this.auth=decodeURIComponent(b)),_=-1;for(var g=0;g<qL.length;g++){var x=l.indexOf(qL[g]);x!==-1&&(_===-1||x<_)&&(_=x)}_===-1&&(_=l.length),this.host=l.slice(0,_),l=l.slice(_),this.parseHost(),this.hostname=this.hostname||"";var E=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!E)for(var S=this.hostname.split(/\./),g=0,A=S.length;g<A;g++){var L=S[g];if(!!L&&!L.match(KL)){for(var P="",R=0,D=L.length;R<D;R++)L.charCodeAt(R)>127?P+="x":P+=L[R];if(!P.match(KL)){var $=S.slice(0,g),U=S.slice(g+1),K=L.match(jZ);K&&($.push(K[1]),U.unshift(K[2])),U.length&&(l="/"+U.join(".")+l),this.hostname=$.join(".");break}}}this.hostname.length>WZ?this.hostname="":this.hostname=this.hostname.toLowerCase(),E||(this.hostname=kZ.toASCII(this.hostname));var ie=this.port?":"+this.port:"",re=this.hostname||"";this.host=re+ie,this.href+=this.host,E&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),l[0]!=="/"&&(l="/"+l))}if(!zZ[d])for(var g=0,A=PI.length;g<A;g++){var ve=PI[g];if(l.indexOf(ve)!==-1){var Ge=encodeURIComponent(ve);Ge===ve&&(Ge=escape(ve)),l=l.split(ve).join(Ge)}}var ae=l.indexOf("#");ae!==-1&&(this.hash=l.substr(ae),l=l.slice(0,ae));var ce=l.indexOf("?");if(ce!==-1?(this.search=l.substr(ce),this.query=l.substr(ce+1),t&&(this.query=OI.parse(this.query)),l=l.slice(0,ce)):t&&(this.search="",this.query={}),l&&(this.pathname=l),Mc[d]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var ie=this.pathname||"",me=this.search||"";this.path=ie+me}return this.href=this.format(),this};function XZ(e){return sa.isString(e)&&(e=hy(e)),e instanceof Ko?e.format():Ko.prototype.format.call(e)}Ko.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,a="";this.host?i=e+this.host:this.hostname&&(i=e+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&sa.isObject(this.query)&&Object.keys(this.query).length&&(a=OI.stringify(this.query));var u=this.search||a&&"?"+a||"";return t&&t.substr(-1)!==":"&&(t+=":"),this.slashes||(!t||Mc[t])&&i!==!1?(i="//"+(i||""),n&&n.charAt(0)!=="/"&&(n="/"+n)):i||(i=""),r&&r.charAt(0)!=="#"&&(r="#"+r),u&&u.charAt(0)!=="?"&&(u="?"+u),n=n.replace(/[?#]/g,function(l){return encodeURIComponent(l)}),u=u.replace("#","%23"),t+i+n+u+r};function VZ(e,t){return hy(e,!1,!0).resolve(t)}Ko.prototype.resolve=function(e){return this.resolveObject(hy(e,!1,!0)).format()};Ko.prototype.resolveObject=function(e){if(sa.isString(e)){var t=new Ko;t.parse(e,!1,!0),e=t}for(var n=new Ko,r=Object.keys(this),i=0;i<r.length;i++){var a=r[i];n[a]=this[a]}if(n.hash=e.hash,e.href==="")return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var u=Object.keys(e),l=0;l<u.length;l++){var f=u[l];f!=="protocol"&&(n[f]=e[f])}return Mc[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!Mc[e.protocol]){for(var h=Object.keys(e),d=0;d<h.length;d++){var v=h[d];n[v]=e[v]}return n.href=n.format(),n}if(n.protocol=e.protocol,!e.host&&!RI[e.protocol]){for(var A=(e.pathname||"").split("/");A.length&&!(e.host=A.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),A[0]!==""&&A.unshift(""),A.length<2&&A.unshift(""),n.pathname=A.join("/")}else n.pathname=e.pathname;if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var _=n.pathname||"",g=n.search||"";n.path=_+g}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var x=n.pathname&&n.pathname.charAt(0)==="/",b=e.host||e.pathname&&e.pathname.charAt(0)==="/",y=b||x||n.host&&e.pathname,E=y,S=n.pathname&&n.pathname.split("/")||[],A=e.pathname&&e.pathname.split("/")||[],L=n.protocol&&!Mc[n.protocol];if(L&&(n.hostname="",n.port=null,n.host&&(S[0]===""?S[0]=n.host:S.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(A[0]===""?A[0]=e.host:A.unshift(e.host)),e.host=null),y=y&&(A[0]===""||S[0]==="")),b)n.host=e.host||e.host===""?e.host:n.host,n.hostname=e.hostname||e.hostname===""?e.hostname:n.hostname,n.search=e.search,n.query=e.query,S=A;else if(A.length)S||(S=[]),S.pop(),S=S.concat(A),n.search=e.search,n.query=e.query;else if(!sa.isNullOrUndefined(e.search)){if(L){n.hostname=n.host=S.shift();var P=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;P&&(n.auth=P.shift(),n.host=n.hostname=P.shift())}return n.search=e.search,n.query=e.query,(!sa.isNull(n.pathname)||!sa.isNull(n.search))&&(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!S.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var R=S.slice(-1)[0],D=(n.host||e.host||S.length>1)&&(R==="."||R==="..")||R==="",$=0,U=S.length;U>=0;U--)R=S[U],R==="."?S.splice(U,1):R===".."?(S.splice(U,1),$++):$&&(S.splice(U,1),$--);if(!y&&!E)for(;$--;$)S.unshift("..");y&&S[0]!==""&&(!S[0]||S[0].charAt(0)!=="/")&&S.unshift(""),D&&S.join("/").substr(-1)!=="/"&&S.push("");var K=S[0]===""||S[0]&&S[0].charAt(0)==="/";if(L){n.hostname=n.host=K?"":S.length?S.shift():"";var P=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;P&&(n.auth=P.shift(),n.host=n.hostname=P.shift())}return y=y||n.host&&S.length,y&&!K&&S.unshift(""),S.length?n.pathname=S.join("/"):(n.pathname=null,n.path=null),(!sa.isNull(n.pathname)||!sa.isNull(n.search))&&(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n};Ko.prototype.parseHost=function(){var e=this.host,t=MZ.exec(e);t&&(t=t[0],t!==":"&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)};/*!
 * @pixi/constants - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var ks;(function(e){e[e.WEBGL_LEGACY=0]="WEBGL_LEGACY",e[e.WEBGL=1]="WEBGL",e[e.WEBGL2=2]="WEBGL2"})(ks||(ks={}));var U_;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.WEBGL=1]="WEBGL",e[e.CANVAS=2]="CANVAS"})(U_||(U_={}));var c0;(function(e){e[e.COLOR=16384]="COLOR",e[e.DEPTH=256]="DEPTH",e[e.STENCIL=1024]="STENCIL"})(c0||(c0={}));var qe;(function(e){e[e.NORMAL=0]="NORMAL",e[e.ADD=1]="ADD",e[e.MULTIPLY=2]="MULTIPLY",e[e.SCREEN=3]="SCREEN",e[e.OVERLAY=4]="OVERLAY",e[e.DARKEN=5]="DARKEN",e[e.LIGHTEN=6]="LIGHTEN",e[e.COLOR_DODGE=7]="COLOR_DODGE",e[e.COLOR_BURN=8]="COLOR_BURN",e[e.HARD_LIGHT=9]="HARD_LIGHT",e[e.SOFT_LIGHT=10]="SOFT_LIGHT",e[e.DIFFERENCE=11]="DIFFERENCE",e[e.EXCLUSION=12]="EXCLUSION",e[e.HUE=13]="HUE",e[e.SATURATION=14]="SATURATION",e[e.COLOR=15]="COLOR",e[e.LUMINOSITY=16]="LUMINOSITY",e[e.NORMAL_NPM=17]="NORMAL_NPM",e[e.ADD_NPM=18]="ADD_NPM",e[e.SCREEN_NPM=19]="SCREEN_NPM",e[e.NONE=20]="NONE",e[e.SRC_OVER=0]="SRC_OVER",e[e.SRC_IN=21]="SRC_IN",e[e.SRC_OUT=22]="SRC_OUT",e[e.SRC_ATOP=23]="SRC_ATOP",e[e.DST_OVER=24]="DST_OVER",e[e.DST_IN=25]="DST_IN",e[e.DST_OUT=26]="DST_OUT",e[e.DST_ATOP=27]="DST_ATOP",e[e.ERASE=26]="ERASE",e[e.SUBTRACT=28]="SUBTRACT",e[e.XOR=29]="XOR"})(qe||(qe={}));var Yo;(function(e){e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(Yo||(Yo={}));var be;(function(e){e[e.RGBA=6408]="RGBA",e[e.RGB=6407]="RGB",e[e.RG=33319]="RG",e[e.RED=6403]="RED",e[e.RGBA_INTEGER=36249]="RGBA_INTEGER",e[e.RGB_INTEGER=36248]="RGB_INTEGER",e[e.RG_INTEGER=33320]="RG_INTEGER",e[e.RED_INTEGER=36244]="RED_INTEGER",e[e.ALPHA=6406]="ALPHA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(be||(be={}));var mf;(function(e){e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(mf||(mf={}));var Ve;(function(e){e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",e[e.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",e[e.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",e[e.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",e[e.BYTE=5120]="BYTE",e[e.SHORT=5122]="SHORT",e[e.INT=5124]="INT",e[e.FLOAT=5126]="FLOAT",e[e.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",e[e.HALF_FLOAT=36193]="HALF_FLOAT"})(Ve||(Ve={}));var h0;(function(e){e[e.FLOAT=0]="FLOAT",e[e.INT=1]="INT",e[e.UINT=2]="UINT"})(h0||(h0={}));var As;(function(e){e[e.NEAREST=0]="NEAREST",e[e.LINEAR=1]="LINEAR"})(As||(As={}));var Os;(function(e){e[e.CLAMP=33071]="CLAMP",e[e.REPEAT=10497]="REPEAT",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(Os||(Os={}));var Fs;(function(e){e[e.OFF=0]="OFF",e[e.POW2=1]="POW2",e[e.ON=2]="ON",e[e.ON_MANUAL=3]="ON_MANUAL"})(Fs||(Fs={}));var Jo;(function(e){e[e.NPM=0]="NPM",e[e.UNPACK=1]="UNPACK",e[e.PMA=2]="PMA",e[e.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",e[e.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",e[e.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",e[e.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(Jo||(Jo={}));var js;(function(e){e[e.NO=0]="NO",e[e.YES=1]="YES",e[e.AUTO=2]="AUTO",e[e.BLEND=0]="BLEND",e[e.CLEAR=1]="CLEAR",e[e.BLIT=2]="BLIT"})(js||(js={}));var NI;(function(e){e[e.AUTO=0]="AUTO",e[e.MANUAL=1]="MANUAL"})(NI||(NI={}));var da;(function(e){e.LOW="lowp",e.MEDIUM="mediump",e.HIGH="highp"})(da||(da={}));var Vr;(function(e){e[e.NONE=0]="NONE",e[e.SCISSOR=1]="SCISSOR",e[e.STENCIL=2]="STENCIL",e[e.SPRITE=3]="SPRITE"})(Vr||(Vr={}));var Qn;(function(e){e[e.NONE=0]="NONE",e[e.LOW=2]="LOW",e[e.MEDIUM=4]="MEDIUM",e[e.HIGH=8]="HIGH"})(Qn||(Qn={}));var ma;(function(e){e[e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",e[e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",e[e.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(ma||(ma={}));/*!
 * @pixi/utils - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/utils is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var bc={parse:FZ,format:UZ,resolve:BZ};ze.RETINA_PREFIX=/@([0-9\.]+)x/;ze.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var ZL=!1,JL="6.3.0";function qZ(e){var t;if(!ZL){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var n=[`
 %c %c %c PixiJS `+JL+" - \u2730 "+e+` \u2730  %c  %c  http://www.pixijs.com/  %c %c \u2665%c\u2665%c\u2665 

`,"background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];(t=globalThis.console).log.apply(t,n)}else globalThis.console&&globalThis.console.log("PixiJS "+JL+" - "+e+" - http://www.pixijs.com/");ZL=!0}}var CC;function YZ(){return typeof CC=="undefined"&&(CC=function(){var t={stencil:!0,failIfMajorPerformanceCaveat:ze.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!globalThis.WebGLRenderingContext)return!1;var n=document.createElement("canvas"),r=n.getContext("webgl",t)||n.getContext("experimental-webgl",t),i=!!(r&&r.getContextAttributes().stencil);if(r){var a=r.getExtension("WEBGL_lose_context");a&&a.loseContext()}return r=null,i}catch{return!1}}()),CC}var KZ="#f0f8ff",ZZ="#faebd7",JZ="#00ffff",QZ="#7fffd4",eJ="#f0ffff",tJ="#f5f5dc",nJ="#ffe4c4",rJ="#000000",iJ="#ffebcd",oJ="#0000ff",aJ="#8a2be2",sJ="#a52a2a",uJ="#deb887",lJ="#5f9ea0",fJ="#7fff00",cJ="#d2691e",hJ="#ff7f50",dJ="#6495ed",pJ="#fff8dc",vJ="#dc143c",_J="#00ffff",gJ="#00008b",mJ="#008b8b",yJ="#b8860b",xJ="#a9a9a9",bJ="#006400",wJ="#a9a9a9",TJ="#bdb76b",EJ="#8b008b",SJ="#556b2f",CJ="#ff8c00",IJ="#9932cc",AJ="#8b0000",PJ="#e9967a",RJ="#8fbc8f",OJ="#483d8b",NJ="#2f4f4f",LJ="#2f4f4f",kJ="#00ced1",FJ="#9400d3",BJ="#ff1493",UJ="#00bfff",DJ="#696969",MJ="#696969",GJ="#1e90ff",$J="#b22222",HJ="#fffaf0",WJ="#228b22",jJ="#ff00ff",zJ="#dcdcdc",XJ="#f8f8ff",VJ="#daa520",qJ="#ffd700",YJ="#808080",KJ="#008000",ZJ="#adff2f",JJ="#808080",QJ="#f0fff0",eQ="#ff69b4",tQ="#cd5c5c",nQ="#4b0082",rQ="#fffff0",iQ="#f0e68c",oQ="#fff0f5",aQ="#e6e6fa",sQ="#7cfc00",uQ="#fffacd",lQ="#add8e6",fQ="#f08080",cQ="#e0ffff",hQ="#fafad2",dQ="#d3d3d3",pQ="#90ee90",vQ="#d3d3d3",_Q="#ffb6c1",gQ="#ffa07a",mQ="#20b2aa",yQ="#87cefa",xQ="#778899",bQ="#778899",wQ="#b0c4de",TQ="#ffffe0",EQ="#00ff00",SQ="#32cd32",CQ="#faf0e6",IQ="#ff00ff",AQ="#800000",PQ="#66cdaa",RQ="#0000cd",OQ="#ba55d3",NQ="#9370db",LQ="#3cb371",kQ="#7b68ee",FQ="#00fa9a",BQ="#48d1cc",UQ="#c71585",DQ="#191970",MQ="#f5fffa",GQ="#ffe4e1",$Q="#ffe4b5",HQ="#ffdead",WQ="#000080",jQ="#fdf5e6",zQ="#808000",XQ="#6b8e23",VQ="#ffa500",qQ="#ff4500",YQ="#da70d6",KQ="#eee8aa",ZQ="#98fb98",JQ="#afeeee",QQ="#db7093",eee="#ffefd5",tee="#ffdab9",nee="#cd853f",ree="#ffc0cb",iee="#dda0dd",oee="#b0e0e6",aee="#800080",see="#663399",uee="#ff0000",lee="#bc8f8f",fee="#4169e1",cee="#8b4513",hee="#fa8072",dee="#f4a460",pee="#2e8b57",vee="#fff5ee",_ee="#a0522d",gee="#c0c0c0",mee="#87ceeb",yee="#6a5acd",xee="#708090",bee="#708090",wee="#fffafa",Tee="#00ff7f",Eee="#4682b4",See="#d2b48c",Cee="#008080",Iee="#d8bfd8",Aee="#ff6347",Pee="#40e0d0",Ree="#ee82ee",Oee="#f5deb3",Nee="#ffffff",Lee="#f5f5f5",kee="#ffff00",Fee="#9acd32",Bee={aliceblue:KZ,antiquewhite:ZZ,aqua:JZ,aquamarine:QZ,azure:eJ,beige:tJ,bisque:nJ,black:rJ,blanchedalmond:iJ,blue:oJ,blueviolet:aJ,brown:sJ,burlywood:uJ,cadetblue:lJ,chartreuse:fJ,chocolate:cJ,coral:hJ,cornflowerblue:dJ,cornsilk:pJ,crimson:vJ,cyan:_J,darkblue:gJ,darkcyan:mJ,darkgoldenrod:yJ,darkgray:xJ,darkgreen:bJ,darkgrey:wJ,darkkhaki:TJ,darkmagenta:EJ,darkolivegreen:SJ,darkorange:CJ,darkorchid:IJ,darkred:AJ,darksalmon:PJ,darkseagreen:RJ,darkslateblue:OJ,darkslategray:NJ,darkslategrey:LJ,darkturquoise:kJ,darkviolet:FJ,deeppink:BJ,deepskyblue:UJ,dimgray:DJ,dimgrey:MJ,dodgerblue:GJ,firebrick:$J,floralwhite:HJ,forestgreen:WJ,fuchsia:jJ,gainsboro:zJ,ghostwhite:XJ,goldenrod:VJ,gold:qJ,gray:YJ,green:KJ,greenyellow:ZJ,grey:JJ,honeydew:QJ,hotpink:eQ,indianred:tQ,indigo:nQ,ivory:rQ,khaki:iQ,lavenderblush:oQ,lavender:aQ,lawngreen:sQ,lemonchiffon:uQ,lightblue:lQ,lightcoral:fQ,lightcyan:cQ,lightgoldenrodyellow:hQ,lightgray:dQ,lightgreen:pQ,lightgrey:vQ,lightpink:_Q,lightsalmon:gQ,lightseagreen:mQ,lightskyblue:yQ,lightslategray:xQ,lightslategrey:bQ,lightsteelblue:wQ,lightyellow:TQ,lime:EQ,limegreen:SQ,linen:CQ,magenta:IQ,maroon:AQ,mediumaquamarine:PQ,mediumblue:RQ,mediumorchid:OQ,mediumpurple:NQ,mediumseagreen:LQ,mediumslateblue:kQ,mediumspringgreen:FQ,mediumturquoise:BQ,mediumvioletred:UQ,midnightblue:DQ,mintcream:MQ,mistyrose:GQ,moccasin:$Q,navajowhite:HQ,navy:WQ,oldlace:jQ,olive:zQ,olivedrab:XQ,orange:VQ,orangered:qQ,orchid:YQ,palegoldenrod:KQ,palegreen:ZQ,paleturquoise:JQ,palevioletred:QQ,papayawhip:eee,peachpuff:tee,peru:nee,pink:ree,plum:iee,powderblue:oee,purple:aee,rebeccapurple:see,red:uee,rosybrown:lee,royalblue:fee,saddlebrown:cee,salmon:hee,sandybrown:dee,seagreen:pee,seashell:vee,sienna:_ee,silver:gee,skyblue:mee,slateblue:yee,slategray:xee,slategrey:bee,snow:wee,springgreen:Tee,steelblue:Eee,tan:See,teal:Cee,thistle:Iee,tomato:Aee,turquoise:Pee,violet:Ree,wheat:Oee,white:Nee,whitesmoke:Lee,yellow:kee,yellowgreen:Fee};function eh(e,t){return t===void 0&&(t=[]),t[0]=(e>>16&255)/255,t[1]=(e>>8&255)/255,t[2]=(e&255)/255,t}function rD(e){var t=e.toString(16);return t="000000".substring(0,6-t.length)+t,"#"+t}function iD(e){return typeof e=="string"&&(e=Bee[e.toLowerCase()]||e,e[0]==="#"&&(e=e.slice(1))),parseInt(e,16)}function Uee(){for(var e=[],t=[],n=0;n<32;n++)e[n]=n,t[n]=n;e[qe.NORMAL_NPM]=qe.NORMAL,e[qe.ADD_NPM]=qe.ADD,e[qe.SCREEN_NPM]=qe.SCREEN,t[qe.NORMAL]=qe.NORMAL_NPM,t[qe.ADD]=qe.ADD_NPM,t[qe.SCREEN]=qe.SCREEN_NPM;var r=[];return r.push(t),r.push(e),r}var oD=Uee();function aD(e,t){return oD[t?1:0][e]}function Dee(e,t,n,r){return n=n||new Float32Array(4),r||r===void 0?(n[0]=e[0]*t,n[1]=e[1]*t,n[2]=e[2]*t):(n[0]=e[0],n[1]=e[1],n[2]=e[2]),n[3]=t,n}function hR(e,t){if(t===1)return(t*255<<24)+e;if(t===0)return 0;var n=e>>16&255,r=e>>8&255,i=e&255;return n=n*t+.5|0,r=r*t+.5|0,i=i*t+.5|0,(t*255<<24)+(n<<16)+(r<<8)+i}function sD(e,t,n,r){return n=n||new Float32Array(4),n[0]=(e>>16&255)/255,n[1]=(e>>8&255)/255,n[2]=(e&255)/255,(r||r===void 0)&&(n[0]*=t,n[1]*=t,n[2]*=t),n[3]=t,n}function Mee(e,t){t===void 0&&(t=null);var n=e*6;if(t=t||new Uint16Array(n),t.length!==n)throw new Error("Out buffer length is incorrect, got "+t.length+" and expected "+n);for(var r=0,i=0;r<n;r+=6,i+=4)t[r+0]=i+0,t[r+1]=i+1,t[r+2]=i+2,t[r+3]=i+0,t[r+4]=i+2,t[r+5]=i+3;return t}function uD(e){if(e.BYTES_PER_ELEMENT===4)return e instanceof Float32Array?"Float32Array":e instanceof Uint32Array?"Uint32Array":"Int32Array";if(e.BYTES_PER_ELEMENT===2){if(e instanceof Uint16Array)return"Uint16Array"}else if(e.BYTES_PER_ELEMENT===1&&e instanceof Uint8Array)return"Uint8Array";return null}function d0(e){return e+=e===0?1:0,--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e+1}function QL(e){return!(e&e-1)&&!!e}function e3(e){var t=(e>65535?1:0)<<4;e>>>=t;var n=(e>255?1:0)<<3;return e>>>=n,t|=n,n=(e>15?1:0)<<2,e>>>=n,t|=n,n=(e>3?1:0)<<1,e>>>=n,t|=n,t|e>>1}function Gc(e,t,n){var r=e.length,i;if(!(t>=r||n===0)){n=t+n>r?r-t:n;var a=r-n;for(i=t;i<a;++i)e[i]=e[i+n];e.length=a}}function wc(e){return e===0?0:e<0?-1:1}var Gee=0;function Of(){return++Gee}var t3={};function Nf(e,t,n){if(n===void 0&&(n=3),!t3[t]){var r=new Error().stack;typeof r=="undefined"?console.warn("PixiJS Deprecation Warning: ",t+`
Deprecated since v`+e):(r=r.split(`
`).splice(n).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",t+`
Deprecated since v`+e),console.warn(r),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",t+`
Deprecated since v`+e),console.warn(r))),t3[t]=!0}}var n3={},Xo=Object.create(null),xs=Object.create(null);function r3(){var e;for(e in Xo)delete Xo[e];for(e in xs)delete xs[e]}var i3=function(){function e(t,n,r){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=r||ze.RESOLUTION,this.resize(t,n)}return e.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},e.prototype.resize=function(t,n){this.canvas.width=Math.round(t*this.resolution),this.canvas.height=Math.round(n*this.resolution)},e.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(e.prototype,"width",{get:function(){return this.canvas.width},set:function(t){this.canvas.width=Math.round(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.canvas.height},set:function(t){this.canvas.height=Math.round(t)},enumerable:!1,configurable:!0}),e}();function $ee(e){var t=e.width,n=e.height,r=e.getContext("2d"),i=r.getImageData(0,0,t,n),a=i.data,u=a.length,l={top:null,left:null,right:null,bottom:null},f=null,h,d,v;for(h=0;h<u;h+=4)a[h+3]!==0&&(d=h/4%t,v=~~(h/4/t),l.top===null&&(l.top=v),(l.left===null||d<l.left)&&(l.left=d),(l.right===null||l.right<d)&&(l.right=d+1),(l.bottom===null||l.bottom<v)&&(l.bottom=v));return l.top!==null&&(t=l.right-l.left,n=l.bottom-l.top+1,f=r.getImageData(l.left,l.top,t,n)),{height:n,width:t,data:f}}var Bg;function Hee(e,t){if(t===void 0&&(t=globalThis.location),e.indexOf("data:")===0)return"";t=t||globalThis.location,Bg||(Bg=document.createElement("a")),Bg.href=e;var n=bc.parse(Bg.href),r=!n.port&&t.port===""||n.port===t.port;return n.hostname!==t.hostname||!r||n.protocol!==t.protocol?"anonymous":""}function p0(e,t){var n=ze.RETINA_PREFIX.exec(e);return n?parseFloat(n[1]):t!==void 0?t:1}/*!
 * @pixi/math - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/math is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var v0=Math.PI*2,Wee=180/Math.PI,jee=Math.PI/180,Dn;(function(e){e[e.POLY=0]="POLY",e[e.RECT=1]="RECT",e[e.CIRC=2]="CIRC",e[e.ELIP=3]="ELIP",e[e.RREC=4]="RREC"})(Dn||(Dn={}));var bn=function(){function e(t,n){t===void 0&&(t=0),n===void 0&&(n=0),this.x=0,this.y=0,this.x=t,this.y=n}return e.prototype.clone=function(){return new e(this.x,this.y)},e.prototype.copyFrom=function(t){return this.set(t.x,t.y),this},e.prototype.copyTo=function(t){return t.set(this.x,this.y),t},e.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},e.prototype.set=function(t,n){return t===void 0&&(t=0),n===void 0&&(n=t),this.x=t,this.y=n,this},e.prototype.toString=function(){return"[@pixi/math:Point x="+this.x+" y="+this.y+"]"},e}(),Ug=[new bn,new bn,new bn,new bn],Lt=function(){function e(t,n,r,i){t===void 0&&(t=0),n===void 0&&(n=0),r===void 0&&(r=0),i===void 0&&(i=0),this.x=Number(t),this.y=Number(n),this.width=Number(r),this.height=Number(i),this.type=Dn.RECT}return Object.defineProperty(e.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(e,"EMPTY",{get:function(){return new e(0,0,0,0)},enumerable:!1,configurable:!0}),e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height)},e.prototype.copyFrom=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},e.prototype.copyTo=function(t){return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t},e.prototype.contains=function(t,n){return this.width<=0||this.height<=0?!1:t>=this.x&&t<this.x+this.width&&n>=this.y&&n<this.y+this.height},e.prototype.intersects=function(t,n){if(!n){var r=this.x<t.x?t.x:this.x,i=this.right>t.right?t.right:this.right;if(i<=r)return!1;var a=this.y<t.y?t.y:this.y,u=this.bottom>t.bottom?t.bottom:this.bottom;return u>a}var l=this.left,f=this.right,h=this.top,d=this.bottom;if(f<=l||d<=h)return!1;var v=Ug[0].set(t.left,t.top),_=Ug[1].set(t.left,t.bottom),g=Ug[2].set(t.right,t.top),x=Ug[3].set(t.right,t.bottom);if(g.x<=v.x||_.y<=v.y)return!1;var b=Math.sign(n.a*n.d-n.b*n.c);if(b===0||(n.apply(v,v),n.apply(_,_),n.apply(g,g),n.apply(x,x),Math.max(v.x,_.x,g.x,x.x)<=l||Math.min(v.x,_.x,g.x,x.x)>=f||Math.max(v.y,_.y,g.y,x.y)<=h||Math.min(v.y,_.y,g.y,x.y)>=d))return!1;var y=b*(_.y-v.y),E=b*(v.x-_.x),S=y*l+E*h,A=y*f+E*h,L=y*l+E*d,P=y*f+E*d;if(Math.max(S,A,L,P)<=y*v.x+E*v.y||Math.min(S,A,L,P)>=y*x.x+E*x.y)return!1;var R=b*(v.y-g.y),D=b*(g.x-v.x),$=R*l+D*h,U=R*f+D*h,K=R*l+D*d,ie=R*f+D*d;return!(Math.max($,U,K,ie)<=R*v.x+D*v.y||Math.min($,U,K,ie)>=R*x.x+D*x.y)},e.prototype.pad=function(t,n){return t===void 0&&(t=0),n===void 0&&(n=t),this.x-=t,this.y-=n,this.width+=t*2,this.height+=n*2,this},e.prototype.fit=function(t){var n=Math.max(this.x,t.x),r=Math.min(this.x+this.width,t.x+t.width),i=Math.max(this.y,t.y),a=Math.min(this.y+this.height,t.y+t.height);return this.x=n,this.width=Math.max(r-n,0),this.y=i,this.height=Math.max(a-i,0),this},e.prototype.ceil=function(t,n){t===void 0&&(t=1),n===void 0&&(n=.001);var r=Math.ceil((this.x+this.width-n)*t)/t,i=Math.ceil((this.y+this.height-n)*t)/t;return this.x=Math.floor((this.x+n)*t)/t,this.y=Math.floor((this.y+n)*t)/t,this.width=r-this.x,this.height=i-this.y,this},e.prototype.enlarge=function(t){var n=Math.min(this.x,t.x),r=Math.max(this.x+this.width,t.x+t.width),i=Math.min(this.y,t.y),a=Math.max(this.y+this.height,t.y+t.height);return this.x=n,this.width=r-n,this.y=i,this.height=a-i,this},e.prototype.toString=function(){return"[@pixi/math:Rectangle x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},e}(),zee=function(){function e(t,n,r){t===void 0&&(t=0),n===void 0&&(n=0),r===void 0&&(r=0),this.x=t,this.y=n,this.radius=r,this.type=Dn.CIRC}return e.prototype.clone=function(){return new e(this.x,this.y,this.radius)},e.prototype.contains=function(t,n){if(this.radius<=0)return!1;var r=this.radius*this.radius,i=this.x-t,a=this.y-n;return i*=i,a*=a,i+a<=r},e.prototype.getBounds=function(){return new Lt(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)},e.prototype.toString=function(){return"[@pixi/math:Circle x="+this.x+" y="+this.y+" radius="+this.radius+"]"},e}(),Xee=function(){function e(t,n,r,i){t===void 0&&(t=0),n===void 0&&(n=0),r===void 0&&(r=0),i===void 0&&(i=0),this.x=t,this.y=n,this.width=r,this.height=i,this.type=Dn.ELIP}return e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height)},e.prototype.contains=function(t,n){if(this.width<=0||this.height<=0)return!1;var r=(t-this.x)/this.width,i=(n-this.y)/this.height;return r*=r,i*=i,r+i<=1},e.prototype.getBounds=function(){return new Lt(this.x-this.width,this.y-this.height,this.width,this.height)},e.prototype.toString=function(){return"[@pixi/math:Ellipse x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},e}(),Cm=function(){function e(){for(var t=arguments,n=[],r=0;r<arguments.length;r++)n[r]=t[r];var i=Array.isArray(n[0])?n[0]:n;if(typeof i[0]!="number"){for(var a=[],u=0,l=i.length;u<l;u++)a.push(i[u].x,i[u].y);i=a}this.points=i,this.type=Dn.POLY,this.closeStroke=!0}return e.prototype.clone=function(){var t=this.points.slice(),n=new e(t);return n.closeStroke=this.closeStroke,n},e.prototype.contains=function(t,n){for(var r=!1,i=this.points.length/2,a=0,u=i-1;a<i;u=a++){var l=this.points[a*2],f=this.points[a*2+1],h=this.points[u*2],d=this.points[u*2+1],v=f>n!=d>n&&t<(h-l)*((n-f)/(d-f))+l;v&&(r=!r)}return r},e.prototype.toString=function(){return"[@pixi/math:Polygon"+("closeStroke="+this.closeStroke)+("points="+this.points.reduce(function(t,n){return t+", "+n},"")+"]")},e}(),Vee=function(){function e(t,n,r,i,a){t===void 0&&(t=0),n===void 0&&(n=0),r===void 0&&(r=0),i===void 0&&(i=0),a===void 0&&(a=20),this.x=t,this.y=n,this.width=r,this.height=i,this.radius=a,this.type=Dn.RREC}return e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height,this.radius)},e.prototype.contains=function(t,n){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&n>=this.y&&n<=this.y+this.height){var r=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(n>=this.y+r&&n<=this.y+this.height-r||t>=this.x+r&&t<=this.x+this.width-r)return!0;var i=t-(this.x+r),a=n-(this.y+r),u=r*r;if(i*i+a*a<=u||(i=t-(this.x+this.width-r),i*i+a*a<=u)||(a=n-(this.y+this.height-r),i*i+a*a<=u)||(i=t-(this.x+r),i*i+a*a<=u))return!0}return!1},e.prototype.toString=function(){return"[@pixi/math:RoundedRectangle x="+this.x+" y="+this.y+("width="+this.width+" height="+this.height+" radius="+this.radius+"]")},e}(),Tc=function(){function e(t,n,r,i){r===void 0&&(r=0),i===void 0&&(i=0),this._x=r,this._y=i,this.cb=t,this.scope=n}return e.prototype.clone=function(t,n){return t===void 0&&(t=this.cb),n===void 0&&(n=this.scope),new e(t,n,this._x,this._y)},e.prototype.set=function(t,n){return t===void 0&&(t=0),n===void 0&&(n=t),(this._x!==t||this._y!==n)&&(this._x=t,this._y=n,this.cb.call(this.scope)),this},e.prototype.copyFrom=function(t){return(this._x!==t.x||this._y!==t.y)&&(this._x=t.x,this._y=t.y,this.cb.call(this.scope)),this},e.prototype.copyTo=function(t){return t.set(this._x,this._y),t},e.prototype.equals=function(t){return t.x===this._x&&t.y===this._y},e.prototype.toString=function(){return"[@pixi/math:ObservablePoint x="+0+" y="+0+" scope="+this.scope+"]"},Object.defineProperty(e.prototype,"x",{get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),e}(),qn=function(){function e(t,n,r,i,a,u){t===void 0&&(t=1),n===void 0&&(n=0),r===void 0&&(r=0),i===void 0&&(i=1),a===void 0&&(a=0),u===void 0&&(u=0),this.array=null,this.a=t,this.b=n,this.c=r,this.d=i,this.tx=a,this.ty=u}return e.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},e.prototype.set=function(t,n,r,i,a,u){return this.a=t,this.b=n,this.c=r,this.d=i,this.tx=a,this.ty=u,this},e.prototype.toArray=function(t,n){this.array||(this.array=new Float32Array(9));var r=n||this.array;return t?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r},e.prototype.apply=function(t,n){n=n||new bn;var r=t.x,i=t.y;return n.x=this.a*r+this.c*i+this.tx,n.y=this.b*r+this.d*i+this.ty,n},e.prototype.applyInverse=function(t,n){n=n||new bn;var r=1/(this.a*this.d+this.c*-this.b),i=t.x,a=t.y;return n.x=this.d*r*i+-this.c*r*a+(this.ty*this.c-this.tx*this.d)*r,n.y=this.a*r*a+-this.b*r*i+(-this.ty*this.a+this.tx*this.b)*r,n},e.prototype.translate=function(t,n){return this.tx+=t,this.ty+=n,this},e.prototype.scale=function(t,n){return this.a*=t,this.d*=n,this.c*=t,this.b*=n,this.tx*=t,this.ty*=n,this},e.prototype.rotate=function(t){var n=Math.cos(t),r=Math.sin(t),i=this.a,a=this.c,u=this.tx;return this.a=i*n-this.b*r,this.b=i*r+this.b*n,this.c=a*n-this.d*r,this.d=a*r+this.d*n,this.tx=u*n-this.ty*r,this.ty=u*r+this.ty*n,this},e.prototype.append=function(t){var n=this.a,r=this.b,i=this.c,a=this.d;return this.a=t.a*n+t.b*i,this.b=t.a*r+t.b*a,this.c=t.c*n+t.d*i,this.d=t.c*r+t.d*a,this.tx=t.tx*n+t.ty*i+this.tx,this.ty=t.tx*r+t.ty*a+this.ty,this},e.prototype.setTransform=function(t,n,r,i,a,u,l,f,h){return this.a=Math.cos(l+h)*a,this.b=Math.sin(l+h)*a,this.c=-Math.sin(l-f)*u,this.d=Math.cos(l-f)*u,this.tx=t-(r*this.a+i*this.c),this.ty=n-(r*this.b+i*this.d),this},e.prototype.prepend=function(t){var n=this.tx;if(t.a!==1||t.b!==0||t.c!==0||t.d!==1){var r=this.a,i=this.c;this.a=r*t.a+this.b*t.c,this.b=r*t.b+this.b*t.d,this.c=i*t.a+this.d*t.c,this.d=i*t.b+this.d*t.d}return this.tx=n*t.a+this.ty*t.c+t.tx,this.ty=n*t.b+this.ty*t.d+t.ty,this},e.prototype.decompose=function(t){var n=this.a,r=this.b,i=this.c,a=this.d,u=t.pivot,l=-Math.atan2(-i,a),f=Math.atan2(r,n),h=Math.abs(l+f);return h<1e-5||Math.abs(v0-h)<1e-5?(t.rotation=f,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=l,t.skew.y=f),t.scale.x=Math.sqrt(n*n+r*r),t.scale.y=Math.sqrt(i*i+a*a),t.position.x=this.tx+(u.x*n+u.y*i),t.position.y=this.ty+(u.x*r+u.y*a),t},e.prototype.invert=function(){var t=this.a,n=this.b,r=this.c,i=this.d,a=this.tx,u=t*i-n*r;return this.a=i/u,this.b=-n/u,this.c=-r/u,this.d=t/u,this.tx=(r*this.ty-i*a)/u,this.ty=-(t*this.ty-n*a)/u,this},e.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},e.prototype.clone=function(){var t=new e;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},e.prototype.copyTo=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},e.prototype.copyFrom=function(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this},e.prototype.toString=function(){return"[@pixi/math:Matrix a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+"]"},Object.defineProperty(e,"IDENTITY",{get:function(){return new e},enumerable:!1,configurable:!0}),Object.defineProperty(e,"TEMP_MATRIX",{get:function(){return new e},enumerable:!1,configurable:!0}),e}(),rf=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],of=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],af=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],sf=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],LI=[],lD=[],Dg=Math.sign;function qee(){for(var e=0;e<16;e++){var t=[];LI.push(t);for(var n=0;n<16;n++)for(var r=Dg(rf[e]*rf[n]+af[e]*of[n]),i=Dg(of[e]*rf[n]+sf[e]*of[n]),a=Dg(rf[e]*af[n]+af[e]*sf[n]),u=Dg(of[e]*af[n]+sf[e]*sf[n]),l=0;l<16;l++)if(rf[l]===r&&of[l]===i&&af[l]===a&&sf[l]===u){t.push(l);break}}for(var e=0;e<16;e++){var f=new qn;f.set(rf[e],of[e],af[e],sf[e],0,0),lD.push(f)}}qee();var On={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(e){return rf[e]},uY:function(e){return of[e]},vX:function(e){return af[e]},vY:function(e){return sf[e]},inv:function(e){return e&8?e&15:-e&7},add:function(e,t){return LI[e][t]},sub:function(e,t){return LI[e][On.inv(t)]},rotate180:function(e){return e^4},isVertical:function(e){return(e&3)===2},byDirection:function(e,t){return Math.abs(e)*2<=Math.abs(t)?t>=0?On.S:On.N:Math.abs(t)*2<=Math.abs(e)?e>0?On.E:On.W:t>0?e>0?On.SE:On.SW:e>0?On.NE:On.NW},matrixAppendRotationInv:function(e,t,n,r){n===void 0&&(n=0),r===void 0&&(r=0);var i=lD[On.inv(t)];i.tx=n,i.ty=r,e.append(i)}},fD=function(){function e(){this.worldTransform=new qn,this.localTransform=new qn,this.position=new Tc(this.onChange,this,0,0),this.scale=new Tc(this.onChange,this,1,1),this.pivot=new Tc(this.onChange,this,0,0),this.skew=new Tc(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}return e.prototype.onChange=function(){this._localID++},e.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},e.prototype.toString=function(){return"[@pixi/math:Transform "+("position=("+this.position.x+", "+this.position.y+") ")+("rotation="+this.rotation+" ")+("scale=("+this.scale.x+", "+this.scale.y+") ")+("skew=("+this.skew.x+", "+this.skew.y+") ")+"]"},e.prototype.updateLocalTransform=function(){var t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)},e.prototype.updateTransform=function(t){var n=this.localTransform;if(this._localID!==this._currentLocalID&&(n.a=this._cx*this.scale.x,n.b=this._sx*this.scale.x,n.c=this._cy*this.scale.y,n.d=this._sy*this.scale.y,n.tx=this.position.x-(this.pivot.x*n.a+this.pivot.y*n.c),n.ty=this.position.y-(this.pivot.x*n.b+this.pivot.y*n.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){var r=t.worldTransform,i=this.worldTransform;i.a=n.a*r.a+n.b*r.c,i.b=n.a*r.b+n.b*r.d,i.c=n.c*r.a+n.d*r.c,i.d=n.c*r.b+n.d*r.d,i.tx=n.tx*r.a+n.ty*r.c+r.tx,i.ty=n.tx*r.b+n.ty*r.d+r.ty,this._parentID=t._worldID,this._worldID++}},e.prototype.setFromMatrix=function(t){t.decompose(this),this._localID++},Object.defineProperty(e.prototype,"rotation",{get:function(){return this._rotation},set:function(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())},enumerable:!1,configurable:!0}),e.IDENTITY=new e,e}();/*!
 * @pixi/display - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/display is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */ze.SORTABLE_CHILDREN=!1;var D_=function(){function e(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}return e.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},e.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},e.prototype.getRectangle=function(t){return this.minX>this.maxX||this.minY>this.maxY?Lt.EMPTY:(t=t||new Lt(0,0,1,1),t.x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)},e.prototype.addPoint=function(t){this.minX=Math.min(this.minX,t.x),this.maxX=Math.max(this.maxX,t.x),this.minY=Math.min(this.minY,t.y),this.maxY=Math.max(this.maxY,t.y)},e.prototype.addPointMatrix=function(t,n){var r=t.a,i=t.b,a=t.c,u=t.d,l=t.tx,f=t.ty,h=r*n.x+a*n.y+l,d=i*n.x+u*n.y+f;this.minX=Math.min(this.minX,h),this.maxX=Math.max(this.maxX,h),this.minY=Math.min(this.minY,d),this.maxY=Math.max(this.maxY,d)},e.prototype.addQuad=function(t){var n=this.minX,r=this.minY,i=this.maxX,a=this.maxY,u=t[0],l=t[1];n=u<n?u:n,r=l<r?l:r,i=u>i?u:i,a=l>a?l:a,u=t[2],l=t[3],n=u<n?u:n,r=l<r?l:r,i=u>i?u:i,a=l>a?l:a,u=t[4],l=t[5],n=u<n?u:n,r=l<r?l:r,i=u>i?u:i,a=l>a?l:a,u=t[6],l=t[7],n=u<n?u:n,r=l<r?l:r,i=u>i?u:i,a=l>a?l:a,this.minX=n,this.minY=r,this.maxX=i,this.maxY=a},e.prototype.addFrame=function(t,n,r,i,a){this.addFrameMatrix(t.worldTransform,n,r,i,a)},e.prototype.addFrameMatrix=function(t,n,r,i,a){var u=t.a,l=t.b,f=t.c,h=t.d,d=t.tx,v=t.ty,_=this.minX,g=this.minY,x=this.maxX,b=this.maxY,y=u*n+f*r+d,E=l*n+h*r+v;_=y<_?y:_,g=E<g?E:g,x=y>x?y:x,b=E>b?E:b,y=u*i+f*r+d,E=l*i+h*r+v,_=y<_?y:_,g=E<g?E:g,x=y>x?y:x,b=E>b?E:b,y=u*n+f*a+d,E=l*n+h*a+v,_=y<_?y:_,g=E<g?E:g,x=y>x?y:x,b=E>b?E:b,y=u*i+f*a+d,E=l*i+h*a+v,_=y<_?y:_,g=E<g?E:g,x=y>x?y:x,b=E>b?E:b,this.minX=_,this.minY=g,this.maxX=x,this.maxY=b},e.prototype.addVertexData=function(t,n,r){for(var i=this.minX,a=this.minY,u=this.maxX,l=this.maxY,f=n;f<r;f+=2){var h=t[f],d=t[f+1];i=h<i?h:i,a=d<a?d:a,u=h>u?h:u,l=d>l?d:l}this.minX=i,this.minY=a,this.maxX=u,this.maxY=l},e.prototype.addVertices=function(t,n,r,i){this.addVerticesMatrix(t.worldTransform,n,r,i)},e.prototype.addVerticesMatrix=function(t,n,r,i,a,u){a===void 0&&(a=0),u===void 0&&(u=a);for(var l=t.a,f=t.b,h=t.c,d=t.d,v=t.tx,_=t.ty,g=this.minX,x=this.minY,b=this.maxX,y=this.maxY,E=r;E<i;E+=2){var S=n[E],A=n[E+1],L=l*S+h*A+v,P=d*A+f*S+_;g=Math.min(g,L-a),b=Math.max(b,L+a),x=Math.min(x,P-u),y=Math.max(y,P+u)}this.minX=g,this.minY=x,this.maxX=b,this.maxY=y},e.prototype.addBounds=function(t){var n=this.minX,r=this.minY,i=this.maxX,a=this.maxY;this.minX=t.minX<n?t.minX:n,this.minY=t.minY<r?t.minY:r,this.maxX=t.maxX>i?t.maxX:i,this.maxY=t.maxY>a?t.maxY:a},e.prototype.addBoundsMask=function(t,n){var r=t.minX>n.minX?t.minX:n.minX,i=t.minY>n.minY?t.minY:n.minY,a=t.maxX<n.maxX?t.maxX:n.maxX,u=t.maxY<n.maxY?t.maxY:n.maxY;if(r<=a&&i<=u){var l=this.minX,f=this.minY,h=this.maxX,d=this.maxY;this.minX=r<l?r:l,this.minY=i<f?i:f,this.maxX=a>h?a:h,this.maxY=u>d?u:d}},e.prototype.addBoundsMatrix=function(t,n){this.addFrameMatrix(n,t.minX,t.minY,t.maxX,t.maxY)},e.prototype.addBoundsArea=function(t,n){var r=t.minX>n.x?t.minX:n.x,i=t.minY>n.y?t.minY:n.y,a=t.maxX<n.x+n.width?t.maxX:n.x+n.width,u=t.maxY<n.y+n.height?t.maxY:n.y+n.height;if(r<=a&&i<=u){var l=this.minX,f=this.minY,h=this.maxX,d=this.maxY;this.minX=r<l?r:l,this.minY=i<f?i:f,this.maxX=a>h?a:h,this.maxY=u>d?u:d}},e.prototype.pad=function(t,n){t===void 0&&(t=0),n===void 0&&(n=t),this.isEmpty()||(this.minX-=t,this.maxX+=t,this.minY-=n,this.maxY+=n)},e.prototype.addFramePad=function(t,n,r,i,a,u){t-=a,n-=u,r+=a,i+=u,this.minX=this.minX<t?this.minX:t,this.maxX=this.maxX>r?this.maxX:r,this.minY=this.minY<n?this.minY:n,this.maxY=this.maxY>i?this.maxY:i},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var kI=function(e,t){return kI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},kI(e,t)};function dR(e,t){kI(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Yn=function(e){dR(t,e);function t(){var n=e.call(this)||this;return n.tempDisplayObjectParent=null,n.transform=new fD,n.alpha=1,n.visible=!0,n.renderable=!0,n.cullable=!1,n.cullArea=null,n.parent=null,n.worldAlpha=1,n._lastSortedIndex=0,n._zIndex=0,n.filterArea=null,n.filters=null,n._enabledFilters=null,n._bounds=new D_,n._localBounds=null,n._boundsID=0,n._boundsRect=null,n._localBoundsRect=null,n._mask=null,n._maskRefCount=0,n._destroyed=!1,n.isSprite=!1,n.isMask=!1,n}return t.mixin=function(n){for(var r=Object.keys(n),i=0;i<r.length;++i){var a=r[i];Object.defineProperty(t.prototype,a,Object.getOwnPropertyDescriptor(n,a))}},Object.defineProperty(t.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!1,configurable:!0}),t.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},t.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},t.prototype.getBounds=function(n,r){return n||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),r||(this._boundsRect||(this._boundsRect=new Lt),r=this._boundsRect),this._bounds.getRectangle(r)},t.prototype.getLocalBounds=function(n){n||(this._localBoundsRect||(this._localBoundsRect=new Lt),n=this._localBoundsRect),this._localBounds||(this._localBounds=new D_);var r=this.transform,i=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var a=this._bounds,u=this._boundsID;this._bounds=this._localBounds;var l=this.getBounds(!1,n);return this.parent=i,this.transform=r,this._bounds=a,this._bounds.updateID+=this._boundsID-u,l},t.prototype.toGlobal=function(n,r,i){return i===void 0&&(i=!1),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(n,r)},t.prototype.toLocal=function(n,r,i,a){return r&&(n=r.toGlobal(n,i,a)),a||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(n,i)},t.prototype.setParent=function(n){if(!n||!n.addChild)throw new Error("setParent: Argument must be a Container");return n.addChild(this),n},t.prototype.setTransform=function(n,r,i,a,u,l,f,h,d){return n===void 0&&(n=0),r===void 0&&(r=0),i===void 0&&(i=1),a===void 0&&(a=1),u===void 0&&(u=0),l===void 0&&(l=0),f===void 0&&(f=0),h===void 0&&(h=0),d===void 0&&(d=0),this.position.x=n,this.position.y=r,this.scale.x=i||1,this.scale.y=a||1,this.rotation=u,this.skew.x=l,this.skew.y=f,this.pivot.x=h,this.pivot.y=d,this},t.prototype.destroy=function(n){this.parent&&this.parent.removeChild(this),this.emit("destroyed"),this.removeAllListeners(),this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},Object.defineProperty(t.prototype,"_tempDisplayObjectParent",{get:function(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new cD),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),t.prototype.enableTempParent=function(){var n=this.parent;return this.parent=this._tempDisplayObjectParent,n},t.prototype.disableTempParent=function(n){this.parent=n},Object.defineProperty(t.prototype,"x",{get:function(){return this.position.x},set:function(n){this.transform.position.x=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.position.y},set:function(n){this.transform.position.y=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"position",{get:function(){return this.transform.position},set:function(n){this.transform.position.copyFrom(n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scale",{get:function(){return this.transform.scale},set:function(n){this.transform.scale.copyFrom(n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(n){this.transform.pivot.copyFrom(n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"skew",{get:function(){return this.transform.skew},set:function(n){this.transform.skew.copyFrom(n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(n){this.transform.rotation=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"angle",{get:function(){return this.transform.rotation*Wee},set:function(n){this.transform.rotation=n*jee},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"zIndex",{get:function(){return this._zIndex},set:function(n){this._zIndex=n,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"worldVisible",{get:function(){var n=this;do{if(!n.visible)return!1;n=n.parent}while(n);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mask",{get:function(){return this._mask},set:function(n){if(this._mask!==n){if(this._mask){var r=this._mask.maskObject||this._mask;r._maskRefCount--,r._maskRefCount===0&&(r.renderable=!0,r.isMask=!1)}if(this._mask=n,this._mask){var r=this._mask.maskObject||this._mask;r._maskRefCount===0&&(r.renderable=!1,r.isMask=!0),r._maskRefCount++}}},enumerable:!1,configurable:!0}),t}(ug),cD=function(e){dR(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.sortDirty=null,n}return t}(Yn);Yn.prototype.displayObjectUpdateTransform=Yn.prototype.updateTransform;/*!
 * @pixi/constants - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var o3;(function(e){e[e.WEBGL_LEGACY=0]="WEBGL_LEGACY",e[e.WEBGL=1]="WEBGL",e[e.WEBGL2=2]="WEBGL2"})(o3||(o3={}));var a3;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.WEBGL=1]="WEBGL",e[e.CANVAS=2]="CANVAS"})(a3||(a3={}));var s3;(function(e){e[e.COLOR=16384]="COLOR",e[e.DEPTH=256]="DEPTH",e[e.STENCIL=1024]="STENCIL"})(s3||(s3={}));var u3;(function(e){e[e.NORMAL=0]="NORMAL",e[e.ADD=1]="ADD",e[e.MULTIPLY=2]="MULTIPLY",e[e.SCREEN=3]="SCREEN",e[e.OVERLAY=4]="OVERLAY",e[e.DARKEN=5]="DARKEN",e[e.LIGHTEN=6]="LIGHTEN",e[e.COLOR_DODGE=7]="COLOR_DODGE",e[e.COLOR_BURN=8]="COLOR_BURN",e[e.HARD_LIGHT=9]="HARD_LIGHT",e[e.SOFT_LIGHT=10]="SOFT_LIGHT",e[e.DIFFERENCE=11]="DIFFERENCE",e[e.EXCLUSION=12]="EXCLUSION",e[e.HUE=13]="HUE",e[e.SATURATION=14]="SATURATION",e[e.COLOR=15]="COLOR",e[e.LUMINOSITY=16]="LUMINOSITY",e[e.NORMAL_NPM=17]="NORMAL_NPM",e[e.ADD_NPM=18]="ADD_NPM",e[e.SCREEN_NPM=19]="SCREEN_NPM",e[e.NONE=20]="NONE",e[e.SRC_OVER=0]="SRC_OVER",e[e.SRC_IN=21]="SRC_IN",e[e.SRC_OUT=22]="SRC_OUT",e[e.SRC_ATOP=23]="SRC_ATOP",e[e.DST_OVER=24]="DST_OVER",e[e.DST_IN=25]="DST_IN",e[e.DST_OUT=26]="DST_OUT",e[e.DST_ATOP=27]="DST_ATOP",e[e.ERASE=26]="ERASE",e[e.SUBTRACT=28]="SUBTRACT",e[e.XOR=29]="XOR"})(u3||(u3={}));var l3;(function(e){e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(l3||(l3={}));var f3;(function(e){e[e.RGBA=6408]="RGBA",e[e.RGB=6407]="RGB",e[e.RG=33319]="RG",e[e.RED=6403]="RED",e[e.RGBA_INTEGER=36249]="RGBA_INTEGER",e[e.RGB_INTEGER=36248]="RGB_INTEGER",e[e.RG_INTEGER=33320]="RG_INTEGER",e[e.RED_INTEGER=36244]="RED_INTEGER",e[e.ALPHA=6406]="ALPHA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(f3||(f3={}));var c3;(function(e){e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(c3||(c3={}));var h3;(function(e){e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",e[e.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",e[e.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",e[e.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",e[e.BYTE=5120]="BYTE",e[e.SHORT=5122]="SHORT",e[e.INT=5124]="INT",e[e.FLOAT=5126]="FLOAT",e[e.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",e[e.HALF_FLOAT=36193]="HALF_FLOAT"})(h3||(h3={}));var d3;(function(e){e[e.FLOAT=0]="FLOAT",e[e.INT=1]="INT",e[e.UINT=2]="UINT"})(d3||(d3={}));var p3;(function(e){e[e.NEAREST=0]="NEAREST",e[e.LINEAR=1]="LINEAR"})(p3||(p3={}));var v3;(function(e){e[e.CLAMP=33071]="CLAMP",e[e.REPEAT=10497]="REPEAT",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(v3||(v3={}));var _3;(function(e){e[e.OFF=0]="OFF",e[e.POW2=1]="POW2",e[e.ON=2]="ON",e[e.ON_MANUAL=3]="ON_MANUAL"})(_3||(_3={}));var g3;(function(e){e[e.NPM=0]="NPM",e[e.UNPACK=1]="UNPACK",e[e.PMA=2]="PMA",e[e.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",e[e.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",e[e.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",e[e.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(g3||(g3={}));var m3;(function(e){e[e.NO=0]="NO",e[e.YES=1]="YES",e[e.AUTO=2]="AUTO",e[e.BLEND=0]="BLEND",e[e.CLEAR=1]="CLEAR",e[e.BLIT=2]="BLIT"})(m3||(m3={}));var y3;(function(e){e[e.AUTO=0]="AUTO",e[e.MANUAL=1]="MANUAL"})(y3||(y3={}));var x3;(function(e){e.LOW="lowp",e.MEDIUM="mediump",e.HIGH="highp"})(x3||(x3={}));var FI;(function(e){e[e.NONE=0]="NONE",e[e.SCISSOR=1]="SCISSOR",e[e.STENCIL=2]="STENCIL",e[e.SPRITE=3]="SPRITE"})(FI||(FI={}));var b3;(function(e){e[e.NONE=0]="NONE",e[e.LOW=2]="LOW",e[e.MEDIUM=4]="MEDIUM",e[e.HIGH=8]="HIGH"})(b3||(b3={}));var w3;(function(e){e[e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",e[e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",e[e.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(w3||(w3={}));function Yee(e,t){return e.zIndex===t.zIndex?e._lastSortedIndex-t._lastSortedIndex:e.zIndex-t.zIndex}var $r=function(e){dR(t,e);function t(){var n=e.call(this)||this;return n.children=[],n.sortableChildren=ze.SORTABLE_CHILDREN,n.sortDirty=!1,n}return t.prototype.onChildrenChange=function(n){},t.prototype.addChild=function(){for(var n=arguments,r=[],i=0;i<arguments.length;i++)r[i]=n[i];if(r.length>1)for(var a=0;a<r.length;a++)this.addChild(r[a]);else{var u=r[0];u.parent&&u.parent.removeChild(u),u.parent=this,this.sortDirty=!0,u.transform._parentID=-1,this.children.push(u),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",u,this,this.children.length-1),u.emit("added",this)}return r[0]},t.prototype.addChildAt=function(n,r){if(r<0||r>this.children.length)throw new Error(n+"addChildAt: The index "+r+" supplied is out of bounds "+this.children.length);return n.parent&&n.parent.removeChild(n),n.parent=this,this.sortDirty=!0,n.transform._parentID=-1,this.children.splice(r,0,n),this._boundsID++,this.onChildrenChange(r),n.emit("added",this),this.emit("childAdded",n,this,r),n},t.prototype.swapChildren=function(n,r){if(n!==r){var i=this.getChildIndex(n),a=this.getChildIndex(r);this.children[i]=r,this.children[a]=n,this.onChildrenChange(i<a?i:a)}},t.prototype.getChildIndex=function(n){var r=this.children.indexOf(n);if(r===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return r},t.prototype.setChildIndex=function(n,r){if(r<0||r>=this.children.length)throw new Error("The index "+r+" supplied is out of bounds "+this.children.length);var i=this.getChildIndex(n);Gc(this.children,i,1),this.children.splice(r,0,n),this.onChildrenChange(r)},t.prototype.getChildAt=function(n){if(n<0||n>=this.children.length)throw new Error("getChildAt: Index ("+n+") does not exist.");return this.children[n]},t.prototype.removeChild=function(){for(var n=arguments,r=[],i=0;i<arguments.length;i++)r[i]=n[i];if(r.length>1)for(var a=0;a<r.length;a++)this.removeChild(r[a]);else{var u=r[0],l=this.children.indexOf(u);if(l===-1)return null;u.parent=null,u.transform._parentID=-1,Gc(this.children,l,1),this._boundsID++,this.onChildrenChange(l),u.emit("removed",this),this.emit("childRemoved",u,this,l)}return r[0]},t.prototype.removeChildAt=function(n){var r=this.getChildAt(n);return r.parent=null,r.transform._parentID=-1,Gc(this.children,n,1),this._boundsID++,this.onChildrenChange(n),r.emit("removed",this),this.emit("childRemoved",r,this,n),r},t.prototype.removeChildren=function(n,r){n===void 0&&(n=0),r===void 0&&(r=this.children.length);var i=n,a=r,u=a-i,l;if(u>0&&u<=a){l=this.children.splice(i,u);for(var f=0;f<l.length;++f)l[f].parent=null,l[f].transform&&(l[f].transform._parentID=-1);this._boundsID++,this.onChildrenChange(n);for(var f=0;f<l.length;++f)l[f].emit("removed",this),this.emit("childRemoved",l[f],this,f);return l}else if(u===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},t.prototype.sortChildren=function(){for(var n=!1,r=0,i=this.children.length;r<i;++r){var a=this.children[r];a._lastSortedIndex=r,!n&&a.zIndex!==0&&(n=!0)}n&&this.children.length>1&&this.children.sort(Yee),this.sortDirty=!1},t.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var n=0,r=this.children.length;n<r;++n){var i=this.children[n];i.visible&&i.updateTransform()}},t.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var n=0;n<this.children.length;n++){var r=this.children[n];if(!(!r.visible||!r.renderable))if(r.calculateBounds(),r._mask){var i=r._mask.maskObject||r._mask;i.calculateBounds(),this._bounds.addBoundsMask(r._bounds,i._bounds)}else r.filterArea?this._bounds.addBoundsArea(r._bounds,r.filterArea):this._bounds.addBounds(r._bounds)}this._bounds.updateID=this._boundsID},t.prototype.getLocalBounds=function(n,r){r===void 0&&(r=!1);var i=e.prototype.getLocalBounds.call(this,n);if(!r)for(var a=0,u=this.children.length;a<u;++a){var l=this.children[a];l.visible&&l.updateTransform()}return i},t.prototype._calculateBounds=function(){},t.prototype._renderWithCulling=function(n){var r=n.renderTexture.sourceFrame;if(r.width>0&&r.height>0){var i,a;if(this.cullArea?(i=this.cullArea,a=this.worldTransform):this._render!==t.prototype._render&&(i=this.getBounds(!0)),i&&r.intersects(i,a))this._render(n);else if(this.cullArea)return;for(var u=0,l=this.children.length;u<l;++u){var f=this.children[u],h=f.cullable;f.cullable=h||!this.cullArea,f.render(n),f.cullable=h}}},t.prototype.render=function(n){if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(n);else if(this.cullable)this._renderWithCulling(n);else{this._render(n);for(var r=0,i=this.children.length;r<i;++r)this.children[r].render(n)}},t.prototype.renderAdvanced=function(n){var r=this.filters,i=this._mask;if(r){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var a=0;a<r.length;a++)r[a].enabled&&this._enabledFilters.push(r[a])}var u=r&&this._enabledFilters&&this._enabledFilters.length||i&&(!i.isMaskData||i.enabled&&(i.autoDetect||i.type!==FI.NONE));if(u&&n.batch.flush(),r&&this._enabledFilters&&this._enabledFilters.length&&n.filter.push(this,this._enabledFilters),i&&n.mask.push(this,this._mask),this.cullable)this._renderWithCulling(n);else{this._render(n);for(var a=0,l=this.children.length;a<l;++a)this.children[a].render(n)}u&&n.batch.flush(),i&&n.mask.pop(this),r&&this._enabledFilters&&this._enabledFilters.length&&n.filter.pop()},t.prototype._render=function(n){},t.prototype.destroy=function(n){e.prototype.destroy.call(this),this.sortDirty=!1;var r=typeof n=="boolean"?n:n&&n.children,i=this.removeChildren(0,this.children.length);if(r)for(var a=0;a<i.length;++a)i[a].destroy(n)},Object.defineProperty(t.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(n){var r=this.getLocalBounds().width;r!==0?this.scale.x=n/r:this.scale.x=1,this._width=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(n){var r=this.getLocalBounds().height;r!==0?this.scale.y=n/r:this.scale.y=1,this._height=n},enumerable:!1,configurable:!0}),t}(Yn);$r.prototype.containerUpdateTransform=$r.prototype.updateTransform;/*!
 * @pixi/accessibility - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/accessibility is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Kee={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};Yn.mixin(Kee);var Zee=9,Mg=100,Jee=0,Qee=0,T3=2,E3=1,ete=-1e3,tte=-1e3,nte=2,rte=function(){function e(t){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(ha.tablet||ha.phone)&&this.createTouchHook();var n=document.createElement("div");n.style.width=Mg+"px",n.style.height=Mg+"px",n.style.position="absolute",n.style.top=Jee+"px",n.style.left=Qee+"px",n.style.zIndex=T3.toString(),this.div=n,this.renderer=t,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}return Object.defineProperty(e.prototype,"isActive",{get:function(){return this._isActive},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isMobileAccessibility",{get:function(){return this._isMobileAccessibility},enumerable:!1,configurable:!0}),e.prototype.createTouchHook=function(){var t=this,n=document.createElement("button");n.style.width=E3+"px",n.style.height=E3+"px",n.style.position="absolute",n.style.top=ete+"px",n.style.left=tte+"px",n.style.zIndex=nte.toString(),n.style.backgroundColor="#FF0000",n.title="select to enable accessibility for this content",n.addEventListener("focus",function(){t._isMobileAccessibility=!0,t.activate(),t.destroyTouchHook()}),document.body.appendChild(n),this._hookDiv=n},e.prototype.destroyTouchHook=function(){!this._hookDiv||(document.body.removeChild(this._hookDiv),this._hookDiv=null)},e.prototype.activate=function(){var t;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(t=this.renderer.view.parentNode)===null||t===void 0||t.appendChild(this.div))},e.prototype.deactivate=function(){var t;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(t=this.div.parentNode)===null||t===void 0||t.removeChild(this.div))},e.prototype.updateAccessibleObjects=function(t){if(!(!t.visible||!t.accessibleChildren)){t.accessible&&t.interactive&&(t._accessibleActive||this.addChild(t),t.renderId=this.renderId);var n=t.children;if(n)for(var r=0;r<n.length;r++)this.updateAccessibleObjects(n[r])}},e.prototype.update=function(){var t=performance.now();if(!(ha.android.device&&t<this.androidUpdateCount)&&(this.androidUpdateCount=t+this.androidUpdateFrequency,!!this.renderer.renderingToScreen)){this.renderer._lastObjectRendered&&this.updateAccessibleObjects(this.renderer._lastObjectRendered);var n=this.renderer.view.getBoundingClientRect(),r=n.left,i=n.top,a=n.width,u=n.height,l=this.renderer,f=l.width,h=l.height,d=l.resolution,v=a/f*d,_=u/h*d,g=this.div;g.style.left=r+"px",g.style.top=i+"px",g.style.width=f+"px",g.style.height=h+"px";for(var x=0;x<this.children.length;x++){var b=this.children[x];if(b.renderId!==this.renderId)b._accessibleActive=!1,Gc(this.children,x,1),this.div.removeChild(b._accessibleDiv),this.pool.push(b._accessibleDiv),b._accessibleDiv=null,x--;else{g=b._accessibleDiv;var y=b.hitArea,E=b.worldTransform;b.hitArea?(g.style.left=(E.tx+y.x*E.a)*v+"px",g.style.top=(E.ty+y.y*E.d)*_+"px",g.style.width=y.width*E.a*v+"px",g.style.height=y.height*E.d*_+"px"):(y=b.getBounds(),this.capHitArea(y),g.style.left=y.x*v+"px",g.style.top=y.y*_+"px",g.style.width=y.width*v+"px",g.style.height=y.height*_+"px",g.title!==b.accessibleTitle&&b.accessibleTitle!==null&&(g.title=b.accessibleTitle),g.getAttribute("aria-label")!==b.accessibleHint&&b.accessibleHint!==null&&g.setAttribute("aria-label",b.accessibleHint)),(b.accessibleTitle!==g.title||b.tabIndex!==g.tabIndex)&&(g.title=b.accessibleTitle,g.tabIndex=b.tabIndex,this.debug&&this.updateDebugHTML(g))}}this.renderId++}},e.prototype.updateDebugHTML=function(t){t.innerHTML="type: "+t.type+"</br> title : "+t.title+"</br> tabIndex: "+t.tabIndex},e.prototype.capHitArea=function(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0);var n=this.renderer,r=n.width,i=n.height;t.x+t.width>r&&(t.width=r-t.x),t.y+t.height>i&&(t.height=i-t.y)},e.prototype.addChild=function(t){var n=this.pool.pop();n||(n=document.createElement("button"),n.style.width=Mg+"px",n.style.height=Mg+"px",n.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",n.style.position="absolute",n.style.zIndex=T3.toString(),n.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?n.setAttribute("aria-live","off"):n.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?n.setAttribute("aria-relevant","additions"):n.setAttribute("aria-relevant","text"),n.addEventListener("click",this._onClick.bind(this)),n.addEventListener("focus",this._onFocus.bind(this)),n.addEventListener("focusout",this._onFocusOut.bind(this))),n.style.pointerEvents=t.accessiblePointerEvents,n.type=t.accessibleType,t.accessibleTitle&&t.accessibleTitle!==null?n.title=t.accessibleTitle:(!t.accessibleHint||t.accessibleHint===null)&&(n.title="displayObject "+t.tabIndex),t.accessibleHint&&t.accessibleHint!==null&&n.setAttribute("aria-label",t.accessibleHint),this.debug&&this.updateDebugHTML(n),t._accessibleActive=!0,t._accessibleDiv=n,n.displayObject=t,this.children.push(t),this.div.appendChild(t._accessibleDiv),t._accessibleDiv.tabIndex=t.tabIndex},e.prototype._onClick=function(t){var n=this.renderer.plugins.interaction,r=t.target.displayObject,i=n.eventData;n.dispatchEvent(r,"click",i),n.dispatchEvent(r,"pointertap",i),n.dispatchEvent(r,"tap",i)},e.prototype._onFocus=function(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","assertive");var n=this.renderer.plugins.interaction,r=t.target.displayObject,i=n.eventData;n.dispatchEvent(r,"mouseover",i)},e.prototype._onFocusOut=function(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","polite");var n=this.renderer.plugins.interaction,r=t.target.displayObject,i=n.eventData;n.dispatchEvent(r,"mouseout",i)},e.prototype._onKeyDown=function(t){t.keyCode===Zee&&this.activate()},e.prototype._onMouseMove=function(t){t.movementX===0&&t.movementY===0||this.deactivate()},e.prototype.destroy=function(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},e}();/*!
 * @pixi/ticker - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/ticker is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */ze.TARGET_FPMS=.06;var Bs;(function(e){e[e.INTERACTION=50]="INTERACTION",e[e.HIGH=25]="HIGH",e[e.NORMAL=0]="NORMAL",e[e.LOW=-25]="LOW",e[e.UTILITY=-50]="UTILITY"})(Bs||(Bs={}));var IC=function(){function e(t,n,r,i){n===void 0&&(n=null),r===void 0&&(r=0),i===void 0&&(i=!1),this.next=null,this.previous=null,this._destroyed=!1,this.fn=t,this.context=n,this.priority=r,this.once=i}return e.prototype.match=function(t,n){return n===void 0&&(n=null),this.fn===t&&this.context===n},e.prototype.emit=function(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));var n=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),n},e.prototype.connect=function(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this},e.prototype.destroy=function(t){t===void 0&&(t=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var n=this.next;return this.next=t?null:n,this.previous=null,n},e}(),Mr=function(){function e(){var t=this;this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new IC(null,null,1/0),this.deltaMS=1/ze.TARGET_FPMS,this.elapsedMS=1/ze.TARGET_FPMS,this._tick=function(n){t._requestId=null,t.started&&(t.update(n),t.started&&t._requestId===null&&t._head.next&&(t._requestId=requestAnimationFrame(t._tick)))}}return e.prototype._requestIfNeeded=function(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},e.prototype._cancelIfNeeded=function(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)},e.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},e.prototype.add=function(t,n,r){return r===void 0&&(r=Bs.NORMAL),this._addListener(new IC(t,n,r))},e.prototype.addOnce=function(t,n,r){return r===void 0&&(r=Bs.NORMAL),this._addListener(new IC(t,n,r,!0))},e.prototype._addListener=function(t){var n=this._head.next,r=this._head;if(!n)t.connect(r);else{for(;n;){if(t.priority>n.priority){t.connect(r);break}r=n,n=n.next}t.previous||t.connect(r)}return this._startIfPossible(),this},e.prototype.remove=function(t,n){for(var r=this._head.next;r;)r.match(t,n)?r=r.destroy():r=r.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(e.prototype,"count",{get:function(){if(!this._head)return 0;for(var t=0,n=this._head;n=n.next;)t++;return t},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},e.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},e.prototype.destroy=function(){if(!this._protected){this.stop();for(var t=this._head.next;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}},e.prototype.update=function(t){t===void 0&&(t=performance.now());var n;if(t>this.lastTime){if(n=this.elapsedMS=t-this.lastTime,n>this._maxElapsedMS&&(n=this._maxElapsedMS),n*=this.speed,this._minElapsedMS){var r=t-this._lastFrame|0;if(r<this._minElapsedMS)return;this._lastFrame=t-r%this._minElapsedMS}this.deltaMS=n,this.deltaTime=this.deltaMS*ze.TARGET_FPMS;for(var i=this._head,a=i.next;a;)a=a.emit(this.deltaTime);i.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t},Object.defineProperty(e.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(t){var n=Math.min(this.maxFPS,t),r=Math.min(Math.max(0,n)/1e3,ze.TARGET_FPMS);this._maxElapsedMS=1/r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(t){if(t===0)this._minElapsedMS=0;else{var n=Math.max(this.minFPS,t);this._minElapsedMS=1/(n/1e3)}},enumerable:!1,configurable:!0}),Object.defineProperty(e,"shared",{get:function(){if(!e._shared){var t=e._shared=new e;t.autoStart=!0,t._protected=!0}return e._shared},enumerable:!1,configurable:!0}),Object.defineProperty(e,"system",{get:function(){if(!e._system){var t=e._system=new e;t.autoStart=!0,t._protected=!0}return e._system},enumerable:!1,configurable:!0}),e}(),ite=function(){function e(){}return e.init=function(t){var n=this;t=Object.assign({autoStart:!0,sharedTicker:!1},t),Object.defineProperty(this,"ticker",{set:function(r){this._ticker&&this._ticker.remove(this.render,this),this._ticker=r,r&&r.add(this.render,this,Bs.LOW)},get:function(){return this._ticker}}),this.stop=function(){n._ticker.stop()},this.start=function(){n._ticker.start()},this._ticker=null,this.ticker=t.sharedTicker?Mr.shared:new Mr,t.autoStart&&this.start()},e.destroy=function(){if(this._ticker){var t=this._ticker;this.ticker=null,t.destroy()}},e}();/*!
 * @pixi/interaction - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/interaction is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var S3=function(){function e(){this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0,this.global=new bn,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return Object.defineProperty(e.prototype,"pointerId",{get:function(){return this.identifier},enumerable:!1,configurable:!0}),e.prototype.getLocalPosition=function(t,n,r){return t.worldTransform.applyInverse(r||this.global,n)},e.prototype.copyEvent=function(t){"isPrimary"in t&&t.isPrimary&&(this.isPrimary=!0),this.button="button"in t&&t.button;var n="buttons"in t&&t.buttons;this.buttons=Number.isInteger(n)?n:"which"in t&&t.which,this.width="width"in t&&t.width,this.height="height"in t&&t.height,this.tiltX="tiltX"in t&&t.tiltX,this.tiltY="tiltY"in t&&t.tiltY,this.pointerType="pointerType"in t&&t.pointerType,this.pressure="pressure"in t&&t.pressure,this.rotationAngle="rotationAngle"in t&&t.rotationAngle,this.twist="twist"in t&&t.twist||0,this.tangentialPressure="tangentialPressure"in t&&t.tangentialPressure||0},e.prototype.reset=function(){this.isPrimary=!1},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var BI=function(e,t){return BI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},BI(e,t)};function ote(e,t){BI(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var ate=function(){function e(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return e.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget},e.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null},e}(),AC=function(){function e(t){this._pointerId=t,this._flags=e.FLAGS.NONE}return e.prototype._doSet=function(t,n){n?this._flags=this._flags|t:this._flags=this._flags&~t},Object.defineProperty(e.prototype,"pointerId",{get:function(){return this._pointerId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"flags",{get:function(){return this._flags},set:function(t){this._flags=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"none",{get:function(){return this._flags===e.FLAGS.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"over",{get:function(){return(this._flags&e.FLAGS.OVER)!==0},set:function(t){this._doSet(e.FLAGS.OVER,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rightDown",{get:function(){return(this._flags&e.FLAGS.RIGHT_DOWN)!==0},set:function(t){this._doSet(e.FLAGS.RIGHT_DOWN,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"leftDown",{get:function(){return(this._flags&e.FLAGS.LEFT_DOWN)!==0},set:function(t){this._doSet(e.FLAGS.LEFT_DOWN,t)},enumerable:!1,configurable:!0}),e.FLAGS=Object.freeze({NONE:0,OVER:1<<0,LEFT_DOWN:1<<1,RIGHT_DOWN:1<<2}),e}(),ste=function(){function e(){this._tempPoint=new bn}return e.prototype.recursiveFindHit=function(t,n,r,i,a){if(!n||!n.visible)return!1;var u=t.data.global;a=n.interactive||a;var l=!1,f=a,h=!0;if(n.hitArea?(i&&(n.worldTransform.applyInverse(u,this._tempPoint),n.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?l=!0:(i=!1,h=!1)),f=!1):n._mask&&i&&(n._mask.containsPoint&&n._mask.containsPoint(u)||(i=!1)),h&&n.interactiveChildren&&n.children)for(var d=n.children,v=d.length-1;v>=0;v--){var _=d[v],g=this.recursiveFindHit(t,_,r,i,f);if(g){if(!_.parent)continue;f=!1,g&&(t.target&&(i=!1),l=!0)}}return a&&(i&&!t.target&&!n.hitArea&&n.containsPoint&&n.containsPoint(u)&&(l=!0),n.interactive&&(l&&!t.target&&(t.target=n),r&&r(t,n,!!l))),l},e.prototype.findHit=function(t,n,r,i){this.recursiveFindHit(t,n,r,i,!1)},e}(),ute={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return this.cursor==="pointer"},set buttonMode(e){e?this.cursor="pointer":this.cursor==="pointer"&&(this.cursor=null)},cursor:null,get trackedPointers(){return this._trackedPointers===void 0&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};Yn.mixin(ute);var Gg=1,$g={target:null,data:{global:null}},lte=function(e){ote(t,e);function t(n,r){var i=e.call(this)||this;return r=r||{},i.renderer=n,i.autoPreventDefault=r.autoPreventDefault!==void 0?r.autoPreventDefault:!0,i.interactionFrequency=r.interactionFrequency||10,i.mouse=new S3,i.mouse.identifier=Gg,i.mouse.global.set(-999999),i.activeInteractionData={},i.activeInteractionData[Gg]=i.mouse,i.interactionDataPool=[],i.eventData=new ate,i.interactionDOMElement=null,i.moveWhenInside=!1,i.eventsAdded=!1,i.tickerAdded=!1,i.mouseOverRenderer=!("PointerEvent"in globalThis),i.supportsTouchEvents="ontouchstart"in globalThis,i.supportsPointerEvents=!!globalThis.PointerEvent,i.onPointerUp=i.onPointerUp.bind(i),i.processPointerUp=i.processPointerUp.bind(i),i.onPointerCancel=i.onPointerCancel.bind(i),i.processPointerCancel=i.processPointerCancel.bind(i),i.onPointerDown=i.onPointerDown.bind(i),i.processPointerDown=i.processPointerDown.bind(i),i.onPointerMove=i.onPointerMove.bind(i),i.processPointerMove=i.processPointerMove.bind(i),i.onPointerOut=i.onPointerOut.bind(i),i.processPointerOverOut=i.processPointerOverOut.bind(i),i.onPointerOver=i.onPointerOver.bind(i),i.cursorStyles={default:"inherit",pointer:"pointer"},i.currentCursorMode=null,i.cursor=null,i.resolution=1,i.delayedEvents=[],i.search=new ste,i._tempDisplayObject=new cD,i._eventListenerOptions={capture:!0,passive:!1},i._useSystemTicker=r.useSystemTicker!==void 0?r.useSystemTicker:!0,i.setTargetElement(i.renderer.view,i.renderer.resolution),i}return Object.defineProperty(t.prototype,"useSystemTicker",{get:function(){return this._useSystemTicker},set:function(n){this._useSystemTicker=n,n?this.addTickerListener():this.removeTickerListener()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastObjectRendered",{get:function(){return this.renderer._lastObjectRendered||this._tempDisplayObject},enumerable:!1,configurable:!0}),t.prototype.hitTest=function(n,r){return $g.target=null,$g.data.global=n,r||(r=this.lastObjectRendered),this.processInteractive($g,r,null,!0),$g.target},t.prototype.setTargetElement=function(n,r){r===void 0&&(r=1),this.removeTickerListener(),this.removeEvents(),this.interactionDOMElement=n,this.resolution=r,this.addEvents(),this.addTickerListener()},t.prototype.addTickerListener=function(){this.tickerAdded||!this.interactionDOMElement||!this._useSystemTicker||(Mr.system.add(this.tickerUpdate,this,Bs.INTERACTION),this.tickerAdded=!0)},t.prototype.removeTickerListener=function(){!this.tickerAdded||(Mr.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)},t.prototype.addEvents=function(){if(!(this.eventsAdded||!this.interactionDOMElement)){var n=this.interactionDOMElement.style;globalThis.navigator.msPointerEnabled?(n.msContentZooming="none",n.msTouchAction="none"):this.supportsPointerEvents&&(n.touchAction="none"),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),globalThis.addEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),globalThis.addEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),globalThis.addEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.eventsAdded=!0}},t.prototype.removeEvents=function(){if(!(!this.eventsAdded||!this.interactionDOMElement)){var n=this.interactionDOMElement.style;globalThis.navigator.msPointerEnabled?(n.msContentZooming="",n.msTouchAction=""):this.supportsPointerEvents&&(n.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),globalThis.removeEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),globalThis.removeEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),globalThis.removeEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.interactionDOMElement=null,this.eventsAdded=!1}},t.prototype.tickerUpdate=function(n){this._deltaTime+=n,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())},t.prototype.update=function(){if(!!this.interactionDOMElement){if(this._didMove){this._didMove=!1;return}this.cursor=null;for(var n in this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(n)){var r=this.activeInteractionData[n];if(r.originalEvent&&r.pointerType!=="touch"){var i=this.configureInteractionEventForDOMEvent(this.eventData,r.originalEvent,r);this.processInteractive(i,this.lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},t.prototype.setCursorMode=function(n){n=n||"default";var r=!0;if(globalThis.OffscreenCanvas&&this.interactionDOMElement instanceof OffscreenCanvas&&(r=!1),this.currentCursorMode!==n){this.currentCursorMode=n;var i=this.cursorStyles[n];if(i)switch(typeof i){case"string":r&&(this.interactionDOMElement.style.cursor=i);break;case"function":i(n);break;case"object":r&&Object.assign(this.interactionDOMElement.style,i);break}else r&&typeof n=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,n)&&(this.interactionDOMElement.style.cursor=n)}},t.prototype.dispatchEvent=function(n,r,i){(!i.stopPropagationHint||n===i.stopsPropagatingAt)&&(i.currentTarget=n,i.type=r,n.emit(r,i),n[r]&&n[r](i))},t.prototype.delayDispatchEvent=function(n,r,i){this.delayedEvents.push({displayObject:n,eventString:r,eventData:i})},t.prototype.mapPositionToPoint=function(n,r,i){var a;this.interactionDOMElement.parentElement?a=this.interactionDOMElement.getBoundingClientRect():a={x:0,y:0,width:this.interactionDOMElement.width,height:this.interactionDOMElement.height,left:0,top:0};var u=1/this.resolution;n.x=(r-a.left)*(this.interactionDOMElement.width/a.width)*u,n.y=(i-a.top)*(this.interactionDOMElement.height/a.height)*u},t.prototype.processInteractive=function(n,r,i,a){var u=this.search.findHit(n,r,i,a),l=this.delayedEvents;if(!l.length)return u;n.stopPropagationHint=!1;var f=l.length;this.delayedEvents=[];for(var h=0;h<f;h++){var d=l[h],v=d.displayObject,_=d.eventString,g=d.eventData;g.stopsPropagatingAt===v&&(g.stopPropagationHint=!0),this.dispatchEvent(v,_,g)}return u},t.prototype.onPointerDown=function(n){if(!(this.supportsTouchEvents&&n.pointerType==="touch")){var r=this.normalizeToPointerData(n);if(this.autoPreventDefault&&r[0].isNormalized){var i=n.cancelable||!("cancelable"in n);i&&n.preventDefault()}for(var a=r.length,u=0;u<a;u++){var l=r[u],f=this.getInteractionDataForPointerId(l),h=this.configureInteractionEventForDOMEvent(this.eventData,l,f);if(h.data.originalEvent=n,this.processInteractive(h,this.lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",h),l.pointerType==="touch")this.emit("touchstart",h);else if(l.pointerType==="mouse"||l.pointerType==="pen"){var d=l.button===2;this.emit(d?"rightdown":"mousedown",this.eventData)}}}},t.prototype.processPointerDown=function(n,r,i){var a=n.data,u=n.data.identifier;if(i){if(r.trackedPointers[u]||(r.trackedPointers[u]=new AC(u)),this.dispatchEvent(r,"pointerdown",n),a.pointerType==="touch")this.dispatchEvent(r,"touchstart",n);else if(a.pointerType==="mouse"||a.pointerType==="pen"){var l=a.button===2;l?r.trackedPointers[u].rightDown=!0:r.trackedPointers[u].leftDown=!0,this.dispatchEvent(r,l?"rightdown":"mousedown",n)}}},t.prototype.onPointerComplete=function(n,r,i){for(var a=this.normalizeToPointerData(n),u=a.length,l=n.target!==this.interactionDOMElement?"outside":"",f=0;f<u;f++){var h=a[f],d=this.getInteractionDataForPointerId(h),v=this.configureInteractionEventForDOMEvent(this.eventData,h,d);if(v.data.originalEvent=n,this.processInteractive(v,this.lastObjectRendered,i,r||!l),this.emit(r?"pointercancel":"pointerup"+l,v),h.pointerType==="mouse"||h.pointerType==="pen"){var _=h.button===2;this.emit(_?"rightup"+l:"mouseup"+l,v)}else h.pointerType==="touch"&&(this.emit(r?"touchcancel":"touchend"+l,v),this.releaseInteractionDataForPointerId(h.pointerId))}},t.prototype.onPointerCancel=function(n){this.supportsTouchEvents&&n.pointerType==="touch"||this.onPointerComplete(n,!0,this.processPointerCancel)},t.prototype.processPointerCancel=function(n,r){var i=n.data,a=n.data.identifier;r.trackedPointers[a]!==void 0&&(delete r.trackedPointers[a],this.dispatchEvent(r,"pointercancel",n),i.pointerType==="touch"&&this.dispatchEvent(r,"touchcancel",n))},t.prototype.onPointerUp=function(n){this.supportsTouchEvents&&n.pointerType==="touch"||this.onPointerComplete(n,!1,this.processPointerUp)},t.prototype.processPointerUp=function(n,r,i){var a=n.data,u=n.data.identifier,l=r.trackedPointers[u],f=a.pointerType==="touch",h=a.pointerType==="mouse"||a.pointerType==="pen",d=!1;if(h){var v=a.button===2,_=AC.FLAGS,g=v?_.RIGHT_DOWN:_.LEFT_DOWN,x=l!==void 0&&l.flags&g;i?(this.dispatchEvent(r,v?"rightup":"mouseup",n),x&&(this.dispatchEvent(r,v?"rightclick":"click",n),d=!0)):x&&this.dispatchEvent(r,v?"rightupoutside":"mouseupoutside",n),l&&(v?l.rightDown=!1:l.leftDown=!1)}i?(this.dispatchEvent(r,"pointerup",n),f&&this.dispatchEvent(r,"touchend",n),l&&((!h||d)&&this.dispatchEvent(r,"pointertap",n),f&&(this.dispatchEvent(r,"tap",n),l.over=!1))):l&&(this.dispatchEvent(r,"pointerupoutside",n),f&&this.dispatchEvent(r,"touchendoutside",n)),l&&l.none&&delete r.trackedPointers[u]},t.prototype.onPointerMove=function(n){if(!(this.supportsTouchEvents&&n.pointerType==="touch")){var r=this.normalizeToPointerData(n);(r[0].pointerType==="mouse"||r[0].pointerType==="pen")&&(this._didMove=!0,this.cursor=null);for(var i=r.length,a=0;a<i;a++){var u=r[a],l=this.getInteractionDataForPointerId(u),f=this.configureInteractionEventForDOMEvent(this.eventData,u,l);f.data.originalEvent=n,this.processInteractive(f,this.lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",f),u.pointerType==="touch"&&this.emit("touchmove",f),(u.pointerType==="mouse"||u.pointerType==="pen")&&this.emit("mousemove",f)}r[0].pointerType==="mouse"&&this.setCursorMode(this.cursor)}},t.prototype.processPointerMove=function(n,r,i){var a=n.data,u=a.pointerType==="touch",l=a.pointerType==="mouse"||a.pointerType==="pen";l&&this.processPointerOverOut(n,r,i),(!this.moveWhenInside||i)&&(this.dispatchEvent(r,"pointermove",n),u&&this.dispatchEvent(r,"touchmove",n),l&&this.dispatchEvent(r,"mousemove",n))},t.prototype.onPointerOut=function(n){if(!(this.supportsTouchEvents&&n.pointerType==="touch")){var r=this.normalizeToPointerData(n),i=r[0];i.pointerType==="mouse"&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var a=this.getInteractionDataForPointerId(i),u=this.configureInteractionEventForDOMEvent(this.eventData,i,a);u.data.originalEvent=i,this.processInteractive(u,this.lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",u),i.pointerType==="mouse"||i.pointerType==="pen"?this.emit("mouseout",u):this.releaseInteractionDataForPointerId(a.identifier)}},t.prototype.processPointerOverOut=function(n,r,i){var a=n.data,u=n.data.identifier,l=a.pointerType==="mouse"||a.pointerType==="pen",f=r.trackedPointers[u];i&&!f&&(f=r.trackedPointers[u]=new AC(u)),f!==void 0&&(i&&this.mouseOverRenderer?(f.over||(f.over=!0,this.delayDispatchEvent(r,"pointerover",n),l&&this.delayDispatchEvent(r,"mouseover",n)),l&&this.cursor===null&&(this.cursor=r.cursor)):f.over&&(f.over=!1,this.dispatchEvent(r,"pointerout",this.eventData),l&&this.dispatchEvent(r,"mouseout",n),f.none&&delete r.trackedPointers[u]))},t.prototype.onPointerOver=function(n){var r=this.normalizeToPointerData(n),i=r[0],a=this.getInteractionDataForPointerId(i),u=this.configureInteractionEventForDOMEvent(this.eventData,i,a);u.data.originalEvent=i,i.pointerType==="mouse"&&(this.mouseOverRenderer=!0),this.emit("pointerover",u),(i.pointerType==="mouse"||i.pointerType==="pen")&&this.emit("mouseover",u)},t.prototype.getInteractionDataForPointerId=function(n){var r=n.pointerId,i;return r===Gg||n.pointerType==="mouse"?i=this.mouse:this.activeInteractionData[r]?i=this.activeInteractionData[r]:(i=this.interactionDataPool.pop()||new S3,i.identifier=r,this.activeInteractionData[r]=i),i.copyEvent(n),i},t.prototype.releaseInteractionDataForPointerId=function(n){var r=this.activeInteractionData[n];r&&(delete this.activeInteractionData[n],r.reset(),this.interactionDataPool.push(r))},t.prototype.configureInteractionEventForDOMEvent=function(n,r,i){return n.data=i,this.mapPositionToPoint(i.global,r.clientX,r.clientY),r.pointerType==="touch"&&(r.globalX=i.global.x,r.globalY=i.global.y),i.originalEvent=r,n.reset(),n},t.prototype.normalizeToPointerData=function(n){var r=[];if(this.supportsTouchEvents&&n instanceof TouchEvent)for(var i=0,a=n.changedTouches.length;i<a;i++){var u=n.changedTouches[i];typeof u.button=="undefined"&&(u.button=n.touches.length?1:0),typeof u.buttons=="undefined"&&(u.buttons=n.touches.length?1:0),typeof u.isPrimary=="undefined"&&(u.isPrimary=n.touches.length===1&&n.type==="touchstart"),typeof u.width=="undefined"&&(u.width=u.radiusX||1),typeof u.height=="undefined"&&(u.height=u.radiusY||1),typeof u.tiltX=="undefined"&&(u.tiltX=0),typeof u.tiltY=="undefined"&&(u.tiltY=0),typeof u.pointerType=="undefined"&&(u.pointerType="touch"),typeof u.pointerId=="undefined"&&(u.pointerId=u.identifier||0),typeof u.pressure=="undefined"&&(u.pressure=u.force||.5),typeof u.twist=="undefined"&&(u.twist=0),typeof u.tangentialPressure=="undefined"&&(u.tangentialPressure=0),typeof u.layerX=="undefined"&&(u.layerX=u.offsetX=u.clientX),typeof u.layerY=="undefined"&&(u.layerY=u.offsetY=u.clientY),u.isNormalized=!0,r.push(u)}else if(!globalThis.MouseEvent||n instanceof MouseEvent&&(!this.supportsPointerEvents||!(n instanceof globalThis.PointerEvent))){var l=n;typeof l.isPrimary=="undefined"&&(l.isPrimary=!0),typeof l.width=="undefined"&&(l.width=1),typeof l.height=="undefined"&&(l.height=1),typeof l.tiltX=="undefined"&&(l.tiltX=0),typeof l.tiltY=="undefined"&&(l.tiltY=0),typeof l.pointerType=="undefined"&&(l.pointerType="mouse"),typeof l.pointerId=="undefined"&&(l.pointerId=Gg),typeof l.pressure=="undefined"&&(l.pressure=.5),typeof l.twist=="undefined"&&(l.twist=0),typeof l.tangentialPressure=="undefined"&&(l.tangentialPressure=0),l.isNormalized=!0,r.push(l)}else r.push(n);return r},t.prototype.destroy=function(){this.removeEvents(),this.removeTickerListener(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this.search=null},t}(ug);/*!
 * @pixi/runner - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/runner is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Yr=function(){function e(t){this.items=[],this._name=t,this._aliasCount=0}return e.prototype.emit=function(t,n,r,i,a,u,l,f){if(arguments.length>8)throw new Error("max arguments reached");var h=this,d=h.name,v=h.items;this._aliasCount++;for(var _=0,g=v.length;_<g;_++)v[_][d](t,n,r,i,a,u,l,f);return v===this.items&&this._aliasCount--,this},e.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},e.prototype.add=function(t){return t[this._name]&&(this.ensureNonAliasedItems(),this.remove(t),this.items.push(t)),this},e.prototype.remove=function(t){var n=this.items.indexOf(t);return n!==-1&&(this.ensureNonAliasedItems(),this.items.splice(n,1)),this},e.prototype.contains=function(t){return this.items.indexOf(t)!==-1},e.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},e.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(e.prototype,"empty",{get:function(){return this.items.length===0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),e}();Object.defineProperties(Yr.prototype,{dispatch:{value:Yr.prototype.emit},run:{value:Yr.prototype.emit}});/*!
 * @pixi/core - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/core is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */ze.PREFER_ENV=ha.any?ks.WEBGL:ks.WEBGL2;ze.STRICT_TEXTURE_CACHE=!1;var _0=[];function pR(e,t){if(!e)return null;var n="";if(typeof e=="string"){var r=/\.(\w{3,4})(?:$|\?|#)/i.exec(e);r&&(n=r[1].toLowerCase())}for(var i=_0.length-1;i>=0;--i){var a=_0[i];if(a.test&&a.test(e,n))return new a(e,t)}throw new Error("Unrecognized source type to auto-detect Resource")}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var UI=function(e,t){return UI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},UI(e,t)};function sn(e,t){UI(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var DI=function(){return DI=Object.assign||function(t){for(var n=arguments,r,i=1,a=arguments.length;i<a;i++){r=n[i];for(var u in r)Object.prototype.hasOwnProperty.call(r,u)&&(t[u]=r[u])}return t},DI.apply(this,arguments)};function fte(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&(n[r[i]]=e[r[i]]);return n}var th=function(){function e(t,n){t===void 0&&(t=0),n===void 0&&(n=0),this._width=t,this._height=n,this.destroyed=!1,this.internal=!1,this.onResize=new Yr("setRealSize"),this.onUpdate=new Yr("update"),this.onError=new Yr("onError")}return e.prototype.bind=function(t){this.onResize.add(t),this.onUpdate.add(t),this.onError.add(t),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},e.prototype.unbind=function(t){this.onResize.remove(t),this.onUpdate.remove(t),this.onError.remove(t)},e.prototype.resize=function(t,n){(t!==this._width||n!==this._height)&&(this._width=t,this._height=n,this.onResize.emit(t,n))},Object.defineProperty(e.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),e.prototype.update=function(){this.destroyed||this.onUpdate.emit()},e.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),e.prototype.style=function(t,n,r){return!1},e.prototype.dispose=function(){},e.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},e.test=function(t,n){return!1},e}(),Ah=function(e){sn(t,e);function t(n,r){var i=this,a=r||{},u=a.width,l=a.height;if(!u||!l)throw new Error("BufferResource width or height invalid");return i=e.call(this,u,l)||this,i.data=n,i}return t.prototype.upload=function(n,r,i){var a=n.gl;a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===Jo.UNPACK);var u=r.realWidth,l=r.realHeight;return i.width===u&&i.height===l?a.texSubImage2D(r.target,0,0,0,u,l,r.format,i.type,this.data):(i.width=u,i.height=l,a.texImage2D(r.target,0,i.internalFormat,u,l,0,r.format,i.type,this.data)),!0},t.prototype.dispose=function(){this.data=null},t.test=function(n){return n instanceof Float32Array||n instanceof Uint8Array||n instanceof Uint32Array},t}(th),cte={scaleMode:As.NEAREST,format:be.RGBA,alphaMode:Jo.NPM},At=function(e){sn(t,e);function t(n,r){n===void 0&&(n=null),r===void 0&&(r=null);var i=e.call(this)||this;r=r||{};var a=r.alphaMode,u=r.mipmap,l=r.anisotropicLevel,f=r.scaleMode,h=r.width,d=r.height,v=r.wrapMode,_=r.format,g=r.type,x=r.target,b=r.resolution,y=r.resourceOptions;return n&&!(n instanceof th)&&(n=pR(n,y),n.internal=!0),i.resolution=b||ze.RESOLUTION,i.width=Math.round((h||0)*i.resolution)/i.resolution,i.height=Math.round((d||0)*i.resolution)/i.resolution,i._mipmap=u!==void 0?u:ze.MIPMAP_TEXTURES,i.anisotropicLevel=l!==void 0?l:ze.ANISOTROPIC_LEVEL,i._wrapMode=v||ze.WRAP_MODE,i._scaleMode=f!==void 0?f:ze.SCALE_MODE,i.format=_||be.RGBA,i.type=g||Ve.UNSIGNED_BYTE,i.target=x||mf.TEXTURE_2D,i.alphaMode=a!==void 0?a:Jo.UNPACK,i.uid=Of(),i.touched=0,i.isPowerOfTwo=!1,i._refreshPOT(),i._glTextures={},i.dirtyId=0,i.dirtyStyleId=0,i.cacheId=null,i.valid=h>0&&d>0,i.textureCacheIds=[],i.destroyed=!1,i.resource=null,i._batchEnabled=0,i._batchLocation=0,i.parentTextureArray=null,i.setResource(n),i}return Object.defineProperty(t.prototype,"realWidth",{get:function(){return Math.round(this.width*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"realHeight",{get:function(){return Math.round(this.height*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mipmap",{get:function(){return this._mipmap},set:function(n){this._mipmap!==n&&(this._mipmap=n,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scaleMode",{get:function(){return this._scaleMode},set:function(n){this._scaleMode!==n&&(this._scaleMode=n,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wrapMode",{get:function(){return this._wrapMode},set:function(n){this._wrapMode!==n&&(this._wrapMode=n,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),t.prototype.setStyle=function(n,r){var i;return n!==void 0&&n!==this.scaleMode&&(this.scaleMode=n,i=!0),r!==void 0&&r!==this.mipmap&&(this.mipmap=r,i=!0),i&&this.dirtyStyleId++,this},t.prototype.setSize=function(n,r,i){return i=i||this.resolution,this.setRealSize(n*i,r*i,i)},t.prototype.setRealSize=function(n,r,i){return this.resolution=i||this.resolution,this.width=Math.round(n)/this.resolution,this.height=Math.round(r)/this.resolution,this._refreshPOT(),this.update(),this},t.prototype._refreshPOT=function(){this.isPowerOfTwo=QL(this.realWidth)&&QL(this.realHeight)},t.prototype.setResolution=function(n){var r=this.resolution;return r===n?this:(this.resolution=n,this.valid&&(this.width=Math.round(this.width*r)/n,this.height=Math.round(this.height*r)/n,this.emit("update",this)),this._refreshPOT(),this)},t.prototype.setResource=function(n){if(this.resource===n)return this;if(this.resource)throw new Error("Resource can be set only once");return n.bind(this),this.resource=n,this},t.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},t.prototype.onError=function(n){this.emit("error",this,n)},t.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete xs[this.cacheId],delete Xo[this.cacheId],this.cacheId=null),this.dispose(),t.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},t.prototype.dispose=function(){this.emit("dispose",this)},t.prototype.castToBaseTexture=function(){return this},t.from=function(n,r,i){i===void 0&&(i=ze.STRICT_TEXTURE_CACHE);var a=typeof n=="string",u=null;if(a)u=n;else{if(!n._pixiId){var l=r&&r.pixiIdPrefix||"pixiid";n._pixiId=l+"_"+Of()}u=n._pixiId}var f=xs[u];if(a&&i&&!f)throw new Error('The cacheId "'+u+'" does not exist in BaseTextureCache.');return f||(f=new t(n,r),f.cacheId=u,t.addToCache(f,u)),f},t.fromBuffer=function(n,r,i,a){n=n||new Float32Array(r*i*4);var u=new Ah(n,{width:r,height:i}),l=n instanceof Float32Array?Ve.FLOAT:Ve.UNSIGNED_BYTE;return new t(u,Object.assign(cte,a||{width:r,height:i,type:l}))},t.addToCache=function(n,r){r&&(n.textureCacheIds.indexOf(r)===-1&&n.textureCacheIds.push(r),xs[r]&&console.warn("BaseTexture added to the cache with an id ["+r+"] that already had an entry"),xs[r]=n)},t.removeFromCache=function(n){if(typeof n=="string"){var r=xs[n];if(r){var i=r.textureCacheIds.indexOf(n);return i>-1&&r.textureCacheIds.splice(i,1),delete xs[n],r}}else if(n&&n.textureCacheIds){for(var a=0;a<n.textureCacheIds.length;++a)delete xs[n.textureCacheIds[a]];return n.textureCacheIds.length=0,n}return null},t._globalBatch=0,t}(ug),vR=function(e){sn(t,e);function t(n,r){var i=this,a=r||{},u=a.width,l=a.height;i=e.call(this,u,l)||this,i.items=[],i.itemDirtyIds=[];for(var f=0;f<n;f++){var h=new At;i.items.push(h),i.itemDirtyIds.push(-2)}return i.length=n,i._load=null,i.baseTexture=null,i}return t.prototype.initFromArray=function(n,r){for(var i=0;i<this.length;i++)!n[i]||(n[i].castToBaseTexture?this.addBaseTextureAt(n[i].castToBaseTexture(),i):n[i]instanceof th?this.addResourceAt(n[i],i):this.addResourceAt(pR(n[i],r),i))},t.prototype.dispose=function(){for(var n=0,r=this.length;n<r;n++)this.items[n].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},t.prototype.addResourceAt=function(n,r){if(!this.items[r])throw new Error("Index "+r+" is out of bounds");return n.valid&&!this.valid&&this.resize(n.width,n.height),this.items[r].setResource(n),this},t.prototype.bind=function(n){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");e.prototype.bind.call(this,n);for(var r=0;r<this.length;r++)this.items[r].parentTextureArray=n,this.items[r].on("update",n.update,n)},t.prototype.unbind=function(n){e.prototype.unbind.call(this,n);for(var r=0;r<this.length;r++)this.items[r].parentTextureArray=null,this.items[r].off("update",n.update,n)},t.prototype.load=function(){var n=this;if(this._load)return this._load;var r=this.items.map(function(a){return a.resource}).filter(function(a){return a}),i=r.map(function(a){return a.load()});return this._load=Promise.all(i).then(function(){var a=n.items[0],u=a.realWidth,l=a.realHeight;return n.resize(u,l),Promise.resolve(n)}),this._load},t}(th),hD=function(e){sn(t,e);function t(n,r){var i=this,a=r||{},u=a.width,l=a.height,f,h;return Array.isArray(n)?(f=n,h=n.length):h=n,i=e.call(this,h,{width:u,height:l})||this,f&&i.initFromArray(f,r),i}return t.prototype.addBaseTextureAt=function(n,r){if(n.resource)this.addResourceAt(n.resource,r);else throw new Error("ArrayResource does not support RenderTexture");return this},t.prototype.bind=function(n){e.prototype.bind.call(this,n),n.target=mf.TEXTURE_2D_ARRAY},t.prototype.upload=function(n,r,i){var a=this,u=a.length,l=a.itemDirtyIds,f=a.items,h=n.gl;i.dirtyId<0&&h.texImage3D(h.TEXTURE_2D_ARRAY,0,i.internalFormat,this._width,this._height,u,0,r.format,i.type,null);for(var d=0;d<u;d++){var v=f[d];l[d]<v.dirtyId&&(l[d]=v.dirtyId,v.valid&&h.texSubImage3D(h.TEXTURE_2D_ARRAY,0,0,0,d,v.resource.width,v.resource.height,1,r.format,i.type,v.resource.source))}return!0},t}(vR),Us=function(e){sn(t,e);function t(n){var r=this,i=n,a=i.naturalWidth||i.videoWidth||i.width,u=i.naturalHeight||i.videoHeight||i.height;return r=e.call(this,a,u)||this,r.source=n,r.noSubImage=!1,r}return t.crossOrigin=function(n,r,i){i===void 0&&r.indexOf("data:")!==0?n.crossOrigin=Hee(r):i!==!1&&(n.crossOrigin=typeof i=="string"?i:"anonymous")},t.prototype.upload=function(n,r,i,a){var u=n.gl,l=r.realWidth,f=r.realHeight;if(a=a||this.source,a instanceof HTMLImageElement){if(!a.complete||a.naturalWidth===0)return!1}else if(a instanceof HTMLVideoElement&&a.readyState<=1)return!1;return u.pixelStorei(u.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===Jo.UNPACK),!this.noSubImage&&r.target===u.TEXTURE_2D&&i.width===l&&i.height===f?u.texSubImage2D(u.TEXTURE_2D,0,0,0,r.format,i.type,a):(i.width=l,i.height=f,u.texImage2D(r.target,0,i.internalFormat,r.format,i.type,a)),!0},t.prototype.update=function(){if(!this.destroyed){var n=this.source,r=n.naturalWidth||n.videoWidth||n.width,i=n.naturalHeight||n.videoHeight||n.height;this.resize(r,i),e.prototype.update.call(this)}},t.prototype.dispose=function(){this.source=null},t}(th),_R=function(e){sn(t,e);function t(n){return e.call(this,n)||this}return t.test=function(n){var r=globalThis.OffscreenCanvas;return r&&n instanceof r?!0:globalThis.HTMLCanvasElement&&n instanceof HTMLCanvasElement},t}(Us),dD=function(e){sn(t,e);function t(n,r){var i=this,a=r||{},u=a.width,l=a.height,f=a.autoLoad,h=a.linkBaseTexture;if(n&&n.length!==t.SIDES)throw new Error("Invalid length. Got "+n.length+", expected 6");i=e.call(this,6,{width:u,height:l})||this;for(var d=0;d<t.SIDES;d++)i.items[d].target=mf.TEXTURE_CUBE_MAP_POSITIVE_X+d;return i.linkBaseTexture=h!==!1,n&&i.initFromArray(n,r),f!==!1&&i.load(),i}return t.prototype.bind=function(n){e.prototype.bind.call(this,n),n.target=mf.TEXTURE_CUBE_MAP},t.prototype.addBaseTextureAt=function(n,r,i){if(!this.items[r])throw new Error("Index "+r+" is out of bounds");if(!this.linkBaseTexture||n.parentTextureArray||Object.keys(n._glTextures).length>0)if(n.resource)this.addResourceAt(n.resource,r);else throw new Error("CubeResource does not support copying of renderTexture.");else n.target=mf.TEXTURE_CUBE_MAP_POSITIVE_X+r,n.parentTextureArray=this.baseTexture,this.items[r]=n;return n.valid&&!this.valid&&this.resize(n.realWidth,n.realHeight),this.items[r]=n,this},t.prototype.upload=function(n,r,i){for(var a=this.itemDirtyIds,u=0;u<t.SIDES;u++){var l=this.items[u];a[u]<l.dirtyId&&(l.valid&&l.resource?(l.resource.upload(n,l,i),a[u]=l.dirtyId):a[u]<-1&&(n.gl.texImage2D(l.target,0,i.internalFormat,r.realWidth,r.realHeight,0,r.format,i.type,null),a[u]=-1))}return!0},t.test=function(n){return Array.isArray(n)&&n.length===t.SIDES},t.SIDES=6,t}(vR),gR=function(e){sn(t,e);function t(n,r){var i=this;if(r=r||{},!(n instanceof HTMLImageElement)){var a=new Image;Us.crossOrigin(a,n,r.crossorigin),a.src=n,n=a}return i=e.call(this,n)||this,!n.complete&&!!i._width&&!!i._height&&(i._width=0,i._height=0),i.url=n.src,i._process=null,i.preserveBitmap=!1,i.createBitmap=(r.createBitmap!==void 0?r.createBitmap:ze.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,i.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,i.bitmap=null,i._load=null,r.autoLoad!==!1&&i.load(),i}return t.prototype.load=function(n){var r=this;return this._load?this._load:(n!==void 0&&(this.createBitmap=n),this._load=new Promise(function(i,a){var u=r.source;r.url=u.src;var l=function(){r.destroyed||(u.onload=null,u.onerror=null,r.resize(u.width,u.height),r._load=null,r.createBitmap?i(r.process()):i(r))};u.complete&&u.src?l():(u.onload=l,u.onerror=function(f){a(f),r.onError.emit(f)})}),this._load)},t.prototype.process=function(){var n=this,r=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);var i=globalThis.createImageBitmap,a=!r.crossOrigin||r.crossOrigin==="anonymous";return this._process=fetch(r.src,{mode:a?"cors":"no-cors"}).then(function(u){return u.blob()}).then(function(u){return i(u,0,0,r.width,r.height,{premultiplyAlpha:n.alphaMode===Jo.UNPACK?"premultiply":"none"})}).then(function(u){return n.destroyed?Promise.reject():(n.bitmap=u,n.update(),n._process=null,Promise.resolve(n))}),this._process},t.prototype.upload=function(n,r,i){if(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),!this.createBitmap)return e.prototype.upload.call(this,n,r,i);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(e.prototype.upload.call(this,n,r,i,this.bitmap),!this.preserveBitmap){var a=!0,u=r._glTextures;for(var l in u){var f=u[l];if(f!==i&&f.dirtyId!==r.dirtyId){a=!1;break}}a&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},t.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,e.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},t.test=function(n){return typeof n=="string"||n instanceof HTMLImageElement},t}(Us),pD=function(e){sn(t,e);function t(n,r){var i=this;return r=r||{},i=e.call(this,document.createElement("canvas"))||this,i._width=0,i._height=0,i.svg=n,i.scale=r.scale||1,i._overrideWidth=r.width,i._overrideHeight=r.height,i._resolve=null,i._crossorigin=r.crossorigin,i._load=null,r.autoLoad!==!1&&i.load(),i}return t.prototype.load=function(){var n=this;return this._load?this._load:(this._load=new Promise(function(r){if(n._resolve=function(){n.resize(n.source.width,n.source.height),r(n)},t.SVG_XML.test(n.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");n.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(n.svg)))}n._loadSvg()}),this._load)},t.prototype._loadSvg=function(){var n=this,r=new Image;Us.crossOrigin(r,this.svg,this._crossorigin),r.src=this.svg,r.onerror=function(i){!n._resolve||(r.onerror=null,n.onError.emit(i))},r.onload=function(){if(!!n._resolve){var i=r.width,a=r.height;if(!i||!a)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var u=i*n.scale,l=a*n.scale;(n._overrideWidth||n._overrideHeight)&&(u=n._overrideWidth||n._overrideHeight/a*i,l=n._overrideHeight||n._overrideWidth/i*a),u=Math.round(u),l=Math.round(l);var f=n.source;f.width=u,f.height=l,f._pixiId="canvas_"+Of(),f.getContext("2d").drawImage(r,0,0,i,a,0,0,u,l),n._resolve(),n._resolve=null}}},t.getSize=function(n){var r=t.SVG_SIZE.exec(n),i={};return r&&(i[r[1]]=Math.round(parseFloat(r[3])),i[r[5]]=Math.round(parseFloat(r[7]))),i},t.prototype.dispose=function(){e.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},t.test=function(n,r){return r==="svg"||typeof n=="string"&&/^data:image\/svg\+xml(;(charset=utf8|utf8))?;base64/.test(n)||typeof n=="string"&&t.SVG_XML.test(n)},t.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,t.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,t}(Us),vD=function(e){sn(t,e);function t(n,r){var i=this;if(r=r||{},!(n instanceof HTMLVideoElement)){var a=document.createElement("video");a.setAttribute("preload","auto"),a.setAttribute("webkit-playsinline",""),a.setAttribute("playsinline",""),typeof n=="string"&&(n=[n]);var u=n[0].src||n[0];Us.crossOrigin(a,u,r.crossorigin);for(var l=0;l<n.length;++l){var f=document.createElement("source"),h=n[l],d=h.src,v=h.mime;d=d||n[l];var _=d.split("?").shift().toLowerCase(),g=_.slice(_.lastIndexOf(".")+1);v=v||t.MIME_TYPES[g]||"video/"+g,f.src=d,f.type=v,a.appendChild(f)}n=a}return i=e.call(this,n)||this,i.noSubImage=!0,i._autoUpdate=!0,i._isConnectedToTicker=!1,i._updateFPS=r.updateFPS||0,i._msToNextUpdate=0,i.autoPlay=r.autoPlay!==!1,i._load=null,i._resolve=null,i._onCanPlay=i._onCanPlay.bind(i),i._onError=i._onError.bind(i),r.autoLoad!==!1&&i.load(),i}return t.prototype.update=function(n){if(!this.destroyed){var r=Mr.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-r),(!this._updateFPS||this._msToNextUpdate<=0)&&(e.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}},t.prototype.load=function(){var n=this;if(this._load)return this._load;var r=this.source;return(r.readyState===r.HAVE_ENOUGH_DATA||r.readyState===r.HAVE_FUTURE_DATA)&&r.width&&r.height&&(r.complete=!0),r.addEventListener("play",this._onPlayStart.bind(this)),r.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(r.addEventListener("canplay",this._onCanPlay),r.addEventListener("canplaythrough",this._onCanPlay),r.addEventListener("error",this._onError,!0)),this._load=new Promise(function(i){n.valid?i(n):(n._resolve=i,r.load())}),this._load},t.prototype._onError=function(n){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(n)},t.prototype._isSourcePlaying=function(){var n=this.source;return n.currentTime>0&&n.paused===!1&&n.ended===!1&&n.readyState>2},t.prototype._isSourceReady=function(){var n=this.source;return n.readyState===3||n.readyState===4},t.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(Mr.shared.add(this.update,this),this._isConnectedToTicker=!0)},t.prototype._onPlayStop=function(){this._isConnectedToTicker&&(Mr.shared.remove(this.update,this),this._isConnectedToTicker=!1)},t.prototype._onCanPlay=function(){var n=this.source;n.removeEventListener("canplay",this._onCanPlay),n.removeEventListener("canplaythrough",this._onCanPlay);var r=this.valid;this.resize(n.videoWidth,n.videoHeight),!r&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&n.play()},t.prototype.dispose=function(){this._isConnectedToTicker&&(Mr.shared.remove(this.update,this),this._isConnectedToTicker=!1);var n=this.source;n&&(n.removeEventListener("error",this._onError,!0),n.pause(),n.src="",n.load()),e.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(n){n!==this._autoUpdate&&(this._autoUpdate=n,!this._autoUpdate&&this._isConnectedToTicker?(Mr.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(Mr.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(n){n!==this._updateFPS&&(this._updateFPS=n)},enumerable:!1,configurable:!0}),t.test=function(n,r){return globalThis.HTMLVideoElement&&n instanceof HTMLVideoElement||t.TYPES.indexOf(r)>-1},t.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],t.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},t}(Us),_D=function(e){sn(t,e);function t(n){return e.call(this,n)||this}return t.test=function(n){return!!globalThis.createImageBitmap&&n instanceof ImageBitmap},t}(Us);_0.push(gR,_D,_R,vD,pD,Ah,dD,hD);var gD={__proto__:null,Resource:th,BaseImageResource:Us,INSTALLED:_0,autoDetectResource:pR,AbstractMultiResource:vR,ArrayResource:hD,BufferResource:Ah,CanvasResource:_R,CubeResource:dD,ImageResource:gR,SVGResource:pD,VideoResource:vD,ImageBitmapResource:_D},hte=function(e){sn(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.upload=function(n,r,i){var a=n.gl;a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===Jo.UNPACK);var u=r.realWidth,l=r.realHeight;return i.width===u&&i.height===l?a.texSubImage2D(r.target,0,0,0,u,l,r.format,i.type,this.data):(i.width=u,i.height=l,a.texImage2D(r.target,0,i.internalFormat,u,l,0,r.format,i.type,this.data)),!0},t}(Ah),MI=function(){function e(t,n){this.width=Math.round(t||100),this.height=Math.round(n||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new Yr("disposeFramebuffer"),this.multisample=Qn.NONE}return Object.defineProperty(e.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),e.prototype.addColorTexture=function(t,n){return t===void 0&&(t=0),this.colorTextures[t]=n||new At(null,{scaleMode:As.NEAREST,resolution:1,mipmap:Fs.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},e.prototype.addDepthTexture=function(t){return this.depthTexture=t||new At(new hte(null,{width:this.width,height:this.height}),{scaleMode:As.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:Fs.OFF,format:be.DEPTH_COMPONENT,type:Ve.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},e.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},e.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},e.prototype.resize=function(t,n){if(t=Math.round(t),n=Math.round(n),!(t===this.width&&n===this.height)){this.width=t,this.height=n,this.dirtyId++,this.dirtySize++;for(var r=0;r<this.colorTextures.length;r++){var i=this.colorTextures[r],a=i.resolution;i.setSize(t/a,n/a)}if(this.depthTexture){var a=this.depthTexture.resolution;this.depthTexture.setSize(t/a,n/a)}}},e.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},e.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},e}(),mD=function(e){sn(t,e);function t(n){n===void 0&&(n={});var r=this;if(typeof n=="number"){var i=arguments[0],a=arguments[1],u=arguments[2],l=arguments[3];n={width:i,height:a,scaleMode:u,resolution:l}}return n.width=n.width||100,n.height=n.height||100,n.multisample=n.multisample!==void 0?n.multisample:Qn.NONE,r=e.call(this,null,n)||this,r.mipmap=Fs.OFF,r.valid=!0,r.clearColor=[0,0,0,0],r.framebuffer=new MI(r.realWidth,r.realHeight).addColorTexture(0,r),r.framebuffer.multisample=n.multisample,r.maskStack=[],r.filterStack=[{}],r}return t.prototype.resize=function(n,r){this.framebuffer.resize(n*this.resolution,r*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)},t.prototype.dispose=function(){this.framebuffer.dispose(),e.prototype.dispose.call(this)},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},t}(At),yD=function(){function e(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}return e.prototype.set=function(t,n,r){var i=n.width,a=n.height;if(r){var u=t.width/2/i,l=t.height/2/a,f=t.x/i+u,h=t.y/a+l;r=On.add(r,On.NW),this.x0=f+u*On.uX(r),this.y0=h+l*On.uY(r),r=On.add(r,2),this.x1=f+u*On.uX(r),this.y1=h+l*On.uY(r),r=On.add(r,2),this.x2=f+u*On.uX(r),this.y2=h+l*On.uY(r),r=On.add(r,2),this.x3=f+u*On.uX(r),this.y3=h+l*On.uY(r)}else this.x0=t.x/i,this.y0=t.y/a,this.x1=(t.x+t.width)/i,this.y1=t.y/a,this.x2=(t.x+t.width)/i,this.y2=(t.y+t.height)/a,this.x3=t.x/i,this.y3=(t.y+t.height)/a;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},e.prototype.toString=function(){return"[@pixi/core:TextureUvs "+("x0="+this.x0+" y0="+this.y0+" ")+("x1="+this.x1+" y1="+this.y1+" x2="+this.x2+" ")+("y2="+this.y2+" x3="+this.x3+" y3="+this.y3)+"]"},e}(),C3=new yD,Ye=function(e){sn(t,e);function t(n,r,i,a,u,l){var f=e.call(this)||this;if(f.noFrame=!1,r||(f.noFrame=!0,r=new Lt(0,0,1,1)),n instanceof t&&(n=n.baseTexture),f.baseTexture=n,f._frame=r,f.trim=a,f.valid=!1,f._uvs=C3,f.uvMatrix=null,f.orig=i||r,f._rotate=Number(u||0),u===!0)f._rotate=2;else if(f._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return f.defaultAnchor=l?new bn(l.x,l.y):new bn(0,0),f._updateID=0,f.textureCacheIds=[],n.valid?f.noFrame?n.valid&&f.onBaseTextureUpdated(n):f.frame=r:n.once("loaded",f.onBaseTextureUpdated,f),f.noFrame&&n.on("update",f.onBaseTextureUpdated,f),f}return t.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},t.prototype.onBaseTextureUpdated=function(n){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=n.width,this._frame.height=n.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},t.prototype.destroy=function(n){if(this.baseTexture){if(n){var r=this.baseTexture.resource;r&&r.url&&Xo[r.url]&&t.removeFromCache(r.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,t.removeFromCache(this),this.textureCacheIds=null},t.prototype.clone=function(){var n=this._frame.clone(),r=this._frame===this.orig?n:this.orig.clone(),i=new t(this.baseTexture,!this.noFrame&&n,r,this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor);return this.noFrame&&(i._frame=n),i},t.prototype.updateUvs=function(){this._uvs===C3&&(this._uvs=new yD),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},t.from=function(n,r,i){r===void 0&&(r={}),i===void 0&&(i=ze.STRICT_TEXTURE_CACHE);var a=typeof n=="string",u=null;if(a)u=n;else if(n instanceof At){if(!n.cacheId){var l=r&&r.pixiIdPrefix||"pixiid";n.cacheId=l+"-"+Of(),At.addToCache(n,n.cacheId)}u=n.cacheId}else{if(!n._pixiId){var l=r&&r.pixiIdPrefix||"pixiid";n._pixiId=l+"_"+Of()}u=n._pixiId}var f=Xo[u];if(a&&i&&!f)throw new Error('The cacheId "'+u+'" does not exist in TextureCache.');return!f&&!(n instanceof At)?(r.resolution||(r.resolution=p0(n)),f=new t(new At(n,r)),f.baseTexture.cacheId=u,At.addToCache(f.baseTexture,u),t.addToCache(f,u)):!f&&n instanceof At&&(f=new t(n),t.addToCache(f,u)),f},t.fromURL=function(n,r){var i=Object.assign({autoLoad:!1},r==null?void 0:r.resourceOptions),a=t.from(n,Object.assign({resourceOptions:i},r),!1),u=a.baseTexture.resource;return a.baseTexture.valid?Promise.resolve(a):u.load().then(function(){return Promise.resolve(a)})},t.fromBuffer=function(n,r,i,a){return new t(At.fromBuffer(n,r,i,a))},t.fromLoader=function(n,r,i,a){var u=new At(n,Object.assign({scaleMode:ze.SCALE_MODE,resolution:p0(r)},a)),l=u.resource;l instanceof gR&&(l.url=r);var f=new t(u);return i||(i=r),At.addToCache(f.baseTexture,i),t.addToCache(f,i),i!==r&&(At.addToCache(f.baseTexture,r),t.addToCache(f,r)),f.baseTexture.valid?Promise.resolve(f):new Promise(function(h){f.baseTexture.once("loaded",function(){return h(f)})})},t.addToCache=function(n,r){r&&(n.textureCacheIds.indexOf(r)===-1&&n.textureCacheIds.push(r),Xo[r]&&console.warn("Texture added to the cache with an id ["+r+"] that already had an entry"),Xo[r]=n)},t.removeFromCache=function(n){if(typeof n=="string"){var r=Xo[n];if(r){var i=r.textureCacheIds.indexOf(n);return i>-1&&r.textureCacheIds.splice(i,1),delete Xo[n],r}}else if(n&&n.textureCacheIds){for(var a=0;a<n.textureCacheIds.length;++a)Xo[n.textureCacheIds[a]]===n&&delete Xo[n.textureCacheIds[a]];return n.textureCacheIds.length=0,n}return null},Object.defineProperty(t.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"frame",{get:function(){return this._frame},set:function(n){this._frame=n,this.noFrame=!1;var r=n.x,i=n.y,a=n.width,u=n.height,l=r+a>this.baseTexture.width,f=i+u>this.baseTexture.height;if(l||f){var h=l&&f?"and":"or",d="X: "+r+" + "+a+" = "+(r+a)+" > "+this.baseTexture.width,v="Y: "+i+" + "+u+" = "+(i+u)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+(d+" "+h+" "+v))}this.valid=a&&u&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=n),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rotate",{get:function(){return this._rotate},set:function(n){this._rotate=n,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),t.prototype.castToBaseTexture=function(){return this.baseTexture},t}(ug);function dte(){var e=document.createElement("canvas");e.width=16,e.height=16;var t=e.getContext("2d");return t.fillStyle="white",t.fillRect(0,0,16,16),new Ye(new At(new _R(e)))}function dy(e){e.destroy=function(){},e.on=function(){},e.once=function(){},e.emit=function(){}}Ye.EMPTY=new Ye(new At);dy(Ye.EMPTY);dy(Ye.EMPTY.baseTexture);Ye.WHITE=dte();dy(Ye.WHITE);dy(Ye.WHITE.baseTexture);var Lf=function(e){sn(t,e);function t(n,r){var i=e.call(this,n,r)||this;return i.valid=!0,i.filterFrame=null,i.filterPoolKey=null,i.updateUvs(),i}return Object.defineProperty(t.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"multisample",{get:function(){return this.framebuffer.multisample},set:function(n){this.framebuffer.multisample=n},enumerable:!1,configurable:!0}),t.prototype.resize=function(n,r,i){i===void 0&&(i=!0);var a=this.baseTexture.resolution,u=Math.round(n*a)/a,l=Math.round(r*a)/a;this.valid=u>0&&l>0,this._frame.width=this.orig.width=u,this._frame.height=this.orig.height=l,i&&this.baseTexture.resize(u,l),this.updateUvs()},t.prototype.setResolution=function(n){var r=this.baseTexture;r.resolution!==n&&(r.setResolution(n),this.resize(r.width,r.height,!1))},t.create=function(n){for(var r=arguments,i=[],a=1;a<arguments.length;a++)i[a-1]=r[a];return typeof n=="number"&&(Nf("6.0.0","Arguments (width, height, scaleMode, resolution) have been deprecated."),n={width:n,height:i[0],scaleMode:i[1],resolution:i[2]}),new t(new mD(n))},t}(Ye),pte=function(){function e(t){this.texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}return e.prototype.createTexture=function(t,n,r){r===void 0&&(r=Qn.NONE);var i=new mD(Object.assign({width:t,height:n,resolution:1,multisample:r},this.textureOptions));return new Lf(i)},e.prototype.getOptimalTexture=function(t,n,r,i){r===void 0&&(r=1),i===void 0&&(i=Qn.NONE);var a;t=Math.ceil(t*r-1e-6),n=Math.ceil(n*r-1e-6),!this.enableFullScreen||t!==this._pixelsWidth||n!==this._pixelsHeight?(t=d0(t),n=d0(n),a=((t&65535)<<16|n&65535)>>>0,i>1&&(a+=i*4294967296)):a=i>1?-i:-1,this.texturePool[a]||(this.texturePool[a]=[]);var u=this.texturePool[a].pop();return u||(u=this.createTexture(t,n,i)),u.filterPoolKey=a,u.setResolution(r),u},e.prototype.getFilterTexture=function(t,n,r){var i=this.getOptimalTexture(t.width,t.height,n||t.resolution,r||Qn.NONE);return i.filterFrame=t.filterFrame,i},e.prototype.returnTexture=function(t){var n=t.filterPoolKey;t.filterFrame=null,this.texturePool[n].push(t)},e.prototype.returnFilterTexture=function(t){this.returnTexture(t)},e.prototype.clear=function(t){if(t=t!==!1,t)for(var n in this.texturePool){var r=this.texturePool[n];if(r)for(var i=0;i<r.length;i++)r[i].destroy(!0)}this.texturePool={}},e.prototype.setScreenSize=function(t){if(!(t.width===this._pixelsWidth&&t.height===this._pixelsHeight)){this.enableFullScreen=t.width>0&&t.height>0;for(var n in this.texturePool)if(Number(n)<0){var r=this.texturePool[n];if(r)for(var i=0;i<r.length;i++)r[i].destroy(!0);this.texturePool[n]=[]}this._pixelsWidth=t.width,this._pixelsHeight=t.height}},e.SCREEN_KEY=-1,e}(),I3=function(){function e(t,n,r,i,a,u,l){n===void 0&&(n=0),r===void 0&&(r=!1),i===void 0&&(i=Ve.FLOAT),this.buffer=t,this.size=n,this.normalized=r,this.type=i,this.stride=a,this.start=u,this.instance=l}return e.prototype.destroy=function(){this.buffer=null},e.from=function(t,n,r,i,a){return new e(t,n,r,i,a)},e}(),vte=0,cr=function(){function e(t,n,r){n===void 0&&(n=!0),r===void 0&&(r=!1),this.data=t||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=r,this.static=n,this.id=vte++,this.disposeRunner=new Yr("disposeBuffer")}return e.prototype.update=function(t){t instanceof Array&&(t=new Float32Array(t)),this.data=t||this.data,this._updateID++},e.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},e.prototype.destroy=function(){this.dispose(),this.data=null},Object.defineProperty(e.prototype,"index",{get:function(){return this.type===ma.ELEMENT_ARRAY_BUFFER},set:function(t){this.type=t?ma.ELEMENT_ARRAY_BUFFER:ma.ARRAY_BUFFER},enumerable:!1,configurable:!0}),e.from=function(t){return t instanceof Array&&(t=new Float32Array(t)),new e(t)},e}(),_te={Float32Array,Uint32Array,Int32Array,Uint8Array};function gte(e,t){for(var n=0,r=0,i={},a=0;a<e.length;a++)r+=t[a],n+=e[a].length;for(var u=new ArrayBuffer(n*4),l=null,f=0,a=0;a<e.length;a++){var h=t[a],d=e[a],v=uD(d);i[v]||(i[v]=new _te[v](u)),l=i[v];for(var _=0;_<d.length;_++){var g=(_/h|0)*r+f,x=_%h;l[g+x]=d[_]}f+=h}return new Float32Array(u)}var A3={5126:4,5123:2,5121:1},mte=0,yte={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array},lg=function(){function e(t,n){t===void 0&&(t=[]),n===void 0&&(n={}),this.buffers=t,this.indexBuffer=null,this.attributes=n,this.glVertexArrayObjects={},this.id=mte++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new Yr("disposeGeometry"),this.refCount=0}return e.prototype.addAttribute=function(t,n,r,i,a,u,l,f){if(r===void 0&&(r=0),i===void 0&&(i=!1),f===void 0&&(f=!1),!n)throw new Error("You must pass a buffer when creating an attribute");n instanceof cr||(n instanceof Array&&(n=new Float32Array(n)),n=new cr(n));var h=t.split("|");if(h.length>1){for(var d=0;d<h.length;d++)this.addAttribute(h[d],n,r,i,a);return this}var v=this.buffers.indexOf(n);return v===-1&&(this.buffers.push(n),v=this.buffers.length-1),this.attributes[t]=new I3(v,r,i,a,u,l,f),this.instanced=this.instanced||f,this},e.prototype.getAttribute=function(t){return this.attributes[t]},e.prototype.getBuffer=function(t){return this.buffers[this.getAttribute(t).buffer]},e.prototype.addIndex=function(t){return t instanceof cr||(t instanceof Array&&(t=new Uint16Array(t)),t=new cr(t)),t.type=ma.ELEMENT_ARRAY_BUFFER,this.indexBuffer=t,this.buffers.indexOf(t)===-1&&this.buffers.push(t),this},e.prototype.getIndex=function(){return this.indexBuffer},e.prototype.interleave=function(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;var t=[],n=[],r=new cr,i;for(i in this.attributes){var a=this.attributes[i],u=this.buffers[a.buffer];t.push(u.data),n.push(a.size*A3[a.type]/4),a.buffer=0}for(r.data=gte(t,n),i=0;i<this.buffers.length;i++)this.buffers[i]!==this.indexBuffer&&this.buffers[i].destroy();return this.buffers=[r],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},e.prototype.getSize=function(){for(var t in this.attributes){var n=this.attributes[t],r=this.buffers[n.buffer];return r.data.length/(n.stride/4||n.size)}return 0},e.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},e.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},e.prototype.clone=function(){for(var t=new e,n=0;n<this.buffers.length;n++)t.buffers[n]=new cr(this.buffers[n].data.slice(0));for(var n in this.attributes){var r=this.attributes[n];t.attributes[n]=new I3(r.buffer,r.size,r.normalized,r.type,r.stride,r.start,r.instance)}return this.indexBuffer&&(t.indexBuffer=t.buffers[this.buffers.indexOf(this.indexBuffer)],t.indexBuffer.type=ma.ELEMENT_ARRAY_BUFFER),t},e.merge=function(t){for(var n=new e,r=[],i=[],a=[],u,l=0;l<t.length;l++){u=t[l];for(var f=0;f<u.buffers.length;f++)i[f]=i[f]||0,i[f]+=u.buffers[f].data.length,a[f]=0}for(var l=0;l<u.buffers.length;l++)r[l]=new yte[uD(u.buffers[l].data)](i[l]),n.buffers[l]=new cr(r[l]);for(var l=0;l<t.length;l++){u=t[l];for(var f=0;f<u.buffers.length;f++)r[f].set(u.buffers[f].data,a[f]),a[f]+=u.buffers[f].data.length}if(n.attributes=u.attributes,u.indexBuffer){n.indexBuffer=n.buffers[u.buffers.indexOf(u.indexBuffer)],n.indexBuffer.type=ma.ELEMENT_ARRAY_BUFFER;for(var h=0,d=0,v=0,_=0,l=0;l<u.buffers.length;l++)if(u.buffers[l]!==u.indexBuffer){_=l;break}for(var l in u.attributes){var g=u.attributes[l];(g.buffer|0)===_&&(d+=g.size*A3[g.type]/4)}for(var l=0;l<t.length;l++){for(var x=t[l].indexBuffer.data,f=0;f<x.length;f++)n.indexBuffer.data[f+v]+=h;h+=t[l].buffers[_].data.length/d,v+=x.length}}return n},e}(),xte=function(e){sn(t,e);function t(){var n=e.call(this)||this;return n.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),n}return t}(lg),xD=function(e){sn(t,e);function t(){var n=e.call(this)||this;return n.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),n.uvs=new Float32Array([0,0,1,0,1,1,0,1]),n.vertexBuffer=new cr(n.vertices),n.uvBuffer=new cr(n.uvs),n.addAttribute("aVertexPosition",n.vertexBuffer).addAttribute("aTextureCoord",n.uvBuffer).addIndex([0,1,2,0,2,3]),n}return t.prototype.map=function(n,r){var i=0,a=0;return this.uvs[0]=i,this.uvs[1]=a,this.uvs[2]=i+r.width/n.width,this.uvs[3]=a,this.uvs[4]=i+r.width/n.width,this.uvs[5]=a+r.height/n.height,this.uvs[6]=i,this.uvs[7]=a+r.height/n.height,i=r.x,a=r.y,this.vertices[0]=i,this.vertices[1]=a,this.vertices[2]=i+r.width,this.vertices[3]=a,this.vertices[4]=i+r.width,this.vertices[5]=a+r.height,this.vertices[6]=i,this.vertices[7]=a+r.height,this.invalidate(),this},t.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},t}(lg),bte=0,yf=function(){function e(t,n,r){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=bte++,this.static=!!n,this.ubo=!!r,t instanceof cr?(this.buffer=t,this.buffer.type=ma.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=t,this.ubo&&(this.buffer=new cr(new Float32Array(1)),this.buffer.type=ma.UNIFORM_BUFFER,this.autoManage=!0))}return e.prototype.update=function(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()},e.prototype.add=function(t,n,r){if(!this.ubo)this.uniforms[t]=new e(n,r);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")},e.from=function(t,n,r){return new e(t,n,r)},e.uboFrom=function(t,n){return new e(t,n!=null?n:!0,!0)},e}(),wte=function(){function e(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=Qn.NONE,this.sourceFrame=new Lt,this.destinationFrame=new Lt,this.bindingSourceFrame=new Lt,this.bindingDestinationFrame=new Lt,this.filters=[],this.transform=null}return e.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},e}(),Hg=[new bn,new bn,new bn,new bn],PC=new qn,bD=function(){function e(t){this.renderer=t,this.defaultFilterStack=[{}],this.texturePool=new pte,this.texturePool.setScreenSize(t.view),this.statePool=[],this.quad=new xte,this.quadUv=new xD,this.tempRect=new Lt,this.activeState={},this.globalUniforms=new yf({outputFrame:new Lt,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}return e.prototype.push=function(t,n){for(var r,i,a=this.renderer,u=this.defaultFilterStack,l=this.statePool.pop()||new wte,f=this.renderer.renderTexture,h=n[0].resolution,d=n[0].multisample,v=n[0].padding,_=n[0].autoFit,g=(r=n[0].legacy)!==null&&r!==void 0?r:!0,x=1;x<n.length;x++){var b=n[x];h=Math.min(h,b.resolution),d=Math.min(d,b.multisample),v=this.useMaxPadding?Math.max(v,b.padding):v+b.padding,_=_&&b.autoFit,g=g||((i=b.legacy)!==null&&i!==void 0?i:!0)}if(u.length===1&&(this.defaultFilterStack[0].renderTexture=f.current),u.push(l),l.resolution=h,l.multisample=d,l.legacy=g,l.target=t,l.sourceFrame.copyFrom(t.filterArea||t.getBounds(!0)),l.sourceFrame.pad(v),_){var y=this.tempRect.copyFrom(f.sourceFrame);a.projection.transform&&this.transformAABB(PC.copyFrom(a.projection.transform).invert(),y),l.sourceFrame.fit(y)}this.roundFrame(l.sourceFrame,f.current?f.current.resolution:a.resolution,f.sourceFrame,f.destinationFrame,a.projection.transform),l.renderTexture=this.getOptimalFilterTexture(l.sourceFrame.width,l.sourceFrame.height,h,d),l.filters=n,l.destinationFrame.width=l.renderTexture.width,l.destinationFrame.height=l.renderTexture.height;var E=this.tempRect;E.x=0,E.y=0,E.width=l.sourceFrame.width,E.height=l.sourceFrame.height,l.renderTexture.filterFrame=l.sourceFrame,l.bindingSourceFrame.copyFrom(f.sourceFrame),l.bindingDestinationFrame.copyFrom(f.destinationFrame),l.transform=a.projection.transform,a.projection.transform=null,f.bind(l.renderTexture,l.sourceFrame,E),a.framebuffer.clear(0,0,0,0)},e.prototype.pop=function(){var t=this.defaultFilterStack,n=t.pop(),r=n.filters;this.activeState=n;var i=this.globalUniforms.uniforms;i.outputFrame=n.sourceFrame,i.resolution=n.resolution;var a=i.inputSize,u=i.inputPixel,l=i.inputClamp;if(a[0]=n.destinationFrame.width,a[1]=n.destinationFrame.height,a[2]=1/a[0],a[3]=1/a[1],u[0]=Math.round(a[0]*n.resolution),u[1]=Math.round(a[1]*n.resolution),u[2]=1/u[0],u[3]=1/u[1],l[0]=.5*u[2],l[1]=.5*u[3],l[2]=n.sourceFrame.width*a[2]-.5*u[2],l[3]=n.sourceFrame.height*a[3]-.5*u[3],n.legacy){var f=i.filterArea;f[0]=n.destinationFrame.width,f[1]=n.destinationFrame.height,f[2]=n.sourceFrame.x,f[3]=n.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();var h=t[t.length-1];if(this.renderer.framebuffer.blit(),r.length===1)r[0].apply(this,n.renderTexture,h.renderTexture,js.BLEND,n),this.returnFilterTexture(n.renderTexture);else{var d=n.renderTexture,v=this.getOptimalFilterTexture(d.width,d.height,n.resolution);v.filterFrame=d.filterFrame;var _=0;for(_=0;_<r.length-1;++_){_===1&&n.multisample>1&&(v=this.getOptimalFilterTexture(d.width,d.height,n.resolution),v.filterFrame=d.filterFrame),r[_].apply(this,d,v,js.CLEAR,n);var g=d;d=v,v=g}r[_].apply(this,d,h.renderTexture,js.BLEND,n),_>1&&n.multisample>1&&this.returnFilterTexture(n.renderTexture),this.returnFilterTexture(d),this.returnFilterTexture(v)}n.clear(),this.statePool.push(n)},e.prototype.bindAndClear=function(t,n){n===void 0&&(n=js.CLEAR);var r=this.renderer,i=r.renderTexture,a=r.state;if(t===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,t&&t.filterFrame){var u=this.tempRect;u.x=0,u.y=0,u.width=t.filterFrame.width,u.height=t.filterFrame.height,i.bind(t,t.filterFrame,u)}else t!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?i.bind(t):this.renderer.renderTexture.bind(t,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);var l=a.stateId&1||this.forceClear;(n===js.CLEAR||n===js.BLIT&&l)&&this.renderer.framebuffer.clear(0,0,0,0)},e.prototype.applyFilter=function(t,n,r,i){var a=this.renderer;a.state.set(t.state),this.bindAndClear(r,i),t.uniforms.uSampler=n,t.uniforms.filterGlobals=this.globalUniforms,a.shader.bind(t),t.legacy=!!t.program.attributeData.aTextureCoord,t.legacy?(this.quadUv.map(n._frame,n.filterFrame),a.geometry.bind(this.quadUv),a.geometry.draw(Yo.TRIANGLES)):(a.geometry.bind(this.quad),a.geometry.draw(Yo.TRIANGLE_STRIP))},e.prototype.calculateSpriteMatrix=function(t,n){var r=this.activeState,i=r.sourceFrame,a=r.destinationFrame,u=n._texture.orig,l=t.set(a.width,0,0,a.height,i.x,i.y),f=n.worldTransform.copyTo(qn.TEMP_MATRIX);return f.invert(),l.prepend(f),l.scale(1/u.width,1/u.height),l.translate(n.anchor.x,n.anchor.y),l},e.prototype.destroy=function(){this.renderer=null,this.texturePool.clear(!1)},e.prototype.getOptimalFilterTexture=function(t,n,r,i){return r===void 0&&(r=1),i===void 0&&(i=Qn.NONE),this.texturePool.getOptimalTexture(t,n,r,i)},e.prototype.getFilterTexture=function(t,n,r){if(typeof t=="number"){var i=t;t=n,n=i}t=t||this.activeState.renderTexture;var a=this.texturePool.getOptimalTexture(t.width,t.height,n||t.resolution,r||Qn.NONE);return a.filterFrame=t.filterFrame,a},e.prototype.returnFilterTexture=function(t){this.texturePool.returnTexture(t)},e.prototype.emptyPool=function(){this.texturePool.clear(!0)},e.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},e.prototype.transformAABB=function(t,n){var r=Hg[0],i=Hg[1],a=Hg[2],u=Hg[3];r.set(n.left,n.top),i.set(n.left,n.bottom),a.set(n.right,n.top),u.set(n.right,n.bottom),t.apply(r,r),t.apply(i,i),t.apply(a,a),t.apply(u,u);var l=Math.min(r.x,i.x,a.x,u.x),f=Math.min(r.y,i.y,a.y,u.y),h=Math.max(r.x,i.x,a.x,u.x),d=Math.max(r.y,i.y,a.y,u.y);n.x=l,n.y=f,n.width=h-l,n.height=d-f},e.prototype.roundFrame=function(t,n,r,i,a){if(!(t.width<=0||t.height<=0||r.width<=0||r.height<=0)){if(a){var u=a.a,l=a.b,f=a.c,h=a.d;if((Math.abs(l)>1e-4||Math.abs(f)>1e-4)&&(Math.abs(u)>1e-4||Math.abs(h)>1e-4))return}a=a?PC.copyFrom(a):PC.identity(),a.translate(-r.x,-r.y).scale(i.width/r.width,i.height/r.height).translate(i.x,i.y),this.transformAABB(a,t),t.ceil(n),this.transformAABB(a.invert(),t)}},e}(),py=function(){function e(t){this.renderer=t}return e.prototype.flush=function(){},e.prototype.destroy=function(){this.renderer=null},e.prototype.start=function(){},e.prototype.stop=function(){this.flush()},e.prototype.render=function(t){},e}(),wD=function(){function e(t){this.renderer=t,this.emptyRenderer=new py(t),this.currentRenderer=this.emptyRenderer}return e.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())},e.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},e.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},e.prototype.copyBoundTextures=function(t,n){for(var r=this.renderer.texture.boundTextures,i=n-1;i>=0;--i)t[i]=r[i]||null,t[i]&&(t[i]._batchLocation=i)},e.prototype.boundArray=function(t,n,r,i){for(var a=t.elements,u=t.ids,l=t.count,f=0,h=0;h<l;h++){var d=a[h],v=d._batchLocation;if(v>=0&&v<i&&n[v]===d){u[h]=v;continue}for(;f<i;){var _=n[f];if(_&&_._batchEnabled===r&&_._batchLocation===f){f++;continue}u[h]=f,d._batchLocation=f,n[f]=d;break}}},e.prototype.destroy=function(){this.renderer=null},e}(),P3=0,TD=function(){function e(t){this.renderer=t,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this),t.view.addEventListener("webglcontextlost",this.handleContextLost,!1),t.view.addEventListener("webglcontextrestored",this.handleContextRestored,!1)}return Object.defineProperty(e.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),e.prototype.contextChange=function(t){this.gl=t,this.renderer.gl=t,this.renderer.CONTEXT_UID=P3++,t.isContextLost()&&t.getExtension("WEBGL_lose_context")&&t.getExtension("WEBGL_lose_context").restoreContext()},e.prototype.initFromContext=function(t){this.gl=t,this.validateContext(t),this.renderer.gl=t,this.renderer.CONTEXT_UID=P3++,this.renderer.runners.contextChange.emit(t)},e.prototype.initFromOptions=function(t){var n=this.createContext(this.renderer.view,t);this.initFromContext(n)},e.prototype.createContext=function(t,n){var r;if(ze.PREFER_ENV>=ks.WEBGL2&&(r=t.getContext("webgl2",n)),r)this.webGLVersion=2;else if(this.webGLVersion=1,r=t.getContext("webgl",n)||t.getContext("experimental-webgl",n),!r)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=r,this.getExtensions(),this.gl},e.prototype.getExtensions=function(){var t=this.gl,n={anisotropicFiltering:t.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),s3tc:t.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:t.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:t.getExtension("WEBGL_compressed_texture_etc"),etc1:t.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:t.getExtension("WEBGL_compressed_texture_atc"),astc:t.getExtension("WEBGL_compressed_texture_astc")};this.webGLVersion===1?Object.assign(this.extensions,n,{drawBuffers:t.getExtension("WEBGL_draw_buffers"),depthTexture:t.getExtension("WEBGL_depth_texture"),loseContext:t.getExtension("WEBGL_lose_context"),vertexArrayObject:t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:t.getExtension("OES_element_index_uint"),floatTexture:t.getExtension("OES_texture_float"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),textureHalfFloat:t.getExtension("OES_texture_half_float"),textureHalfFloatLinear:t.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,n,{colorBufferFloat:t.getExtension("EXT_color_buffer_float")})},e.prototype.handleContextLost=function(t){t.preventDefault()},e.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},e.prototype.destroy=function(){var t=this.renderer.view;this.renderer=null,t.removeEventListener("webglcontextlost",this.handleContextLost),t.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},e.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},e.prototype.validateContext=function(t){var n=t.getContextAttributes(),r="WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext;r&&(this.webGLVersion=2),n.stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");var i=r||!!t.getExtension("OES_element_index_uint");this.supports.uint32Indices=i,i||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")},e}(),Tte=function(){function e(t){this.framebuffer=t,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=Qn.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}return e}(),Ete=new Lt,ED=function(){function e(t){this.renderer=t,this.managedFramebuffers=[],this.unknownFramebuffer=new MI(10,10),this.msaaSamples=null}return e.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Lt,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),this.renderer.context.webGLVersion===1){var n=this.renderer.context.extensions.drawBuffers,r=this.renderer.context.extensions.depthTexture;ze.PREFER_ENV===ks.WEBGL_LEGACY&&(n=null,r=null),n?t.drawBuffers=function(i){return n.drawBuffersWEBGL(i)}:(this.hasMRT=!1,t.drawBuffers=function(){}),r||(this.writeDepthTexture=!1)}else this.msaaSamples=t.getInternalformatParameter(t.RENDERBUFFER,t.RGBA8,t.SAMPLES)},e.prototype.bind=function(t,n,r){r===void 0&&(r=0);var i=this.gl;if(t){var a=t.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(t);this.current!==t&&(this.current=t,i.bindFramebuffer(i.FRAMEBUFFER,a.framebuffer)),a.mipLevel!==r&&(t.dirtyId++,t.dirtyFormat++,a.mipLevel=r),a.dirtyId!==t.dirtyId&&(a.dirtyId=t.dirtyId,a.dirtyFormat!==t.dirtyFormat?(a.dirtyFormat=t.dirtyFormat,a.dirtySize=t.dirtySize,this.updateFramebuffer(t,r)):a.dirtySize!==t.dirtySize&&(a.dirtySize=t.dirtySize,this.resizeFramebuffer(t)));for(var u=0;u<t.colorTextures.length;u++){var l=t.colorTextures[u];this.renderer.texture.unbind(l.parentTextureArray||l)}if(t.depthTexture&&this.renderer.texture.unbind(t.depthTexture),n){var f=n.width>>r,h=n.height>>r,d=f/n.width;this.setViewport(n.x*d,n.y*d,f,h)}else{var f=t.width>>r,h=t.height>>r;this.setViewport(0,0,f,h)}}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),n?this.setViewport(n.x,n.y,n.width,n.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},e.prototype.setViewport=function(t,n,r,i){var a=this.viewport;t=Math.round(t),n=Math.round(n),r=Math.round(r),i=Math.round(i),(a.width!==r||a.height!==i||a.x!==t||a.y!==n)&&(a.x=t,a.y=n,a.width=r,a.height=i,this.gl.viewport(t,n,r,i))},Object.defineProperty(e.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),e.prototype.clear=function(t,n,r,i,a){a===void 0&&(a=c0.COLOR|c0.DEPTH);var u=this.gl;u.clearColor(t,n,r,i),u.clear(a)},e.prototype.initFramebuffer=function(t){var n=this.gl,r=new Tte(n.createFramebuffer());return r.multisample=this.detectSamples(t.multisample),t.glFramebuffers[this.CONTEXT_UID]=r,this.managedFramebuffers.push(t),t.disposeRunner.add(this),r},e.prototype.resizeFramebuffer=function(t){var n=this.gl,r=t.glFramebuffers[this.CONTEXT_UID];r.msaaBuffer&&(n.bindRenderbuffer(n.RENDERBUFFER,r.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,r.multisample,n.RGBA8,t.width,t.height)),r.stencil&&(n.bindRenderbuffer(n.RENDERBUFFER,r.stencil),r.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,r.multisample,n.DEPTH24_STENCIL8,t.width,t.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,t.width,t.height));var i=t.colorTextures,a=i.length;n.drawBuffers||(a=Math.min(a,1));for(var u=0;u<a;u++){var l=i[u],f=l.parentTextureArray||l;this.renderer.texture.bind(f,0)}t.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(t.depthTexture,0)},e.prototype.updateFramebuffer=function(t,n){var r=this.gl,i=t.glFramebuffers[this.CONTEXT_UID],a=t.colorTextures,u=a.length;r.drawBuffers||(u=Math.min(u,1)),i.multisample>1&&this.canMultisampleFramebuffer(t)?(i.msaaBuffer=i.msaaBuffer||r.createRenderbuffer(),r.bindRenderbuffer(r.RENDERBUFFER,i.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,i.multisample,r.RGBA8,t.width,t.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.RENDERBUFFER,i.msaaBuffer)):i.msaaBuffer&&(r.deleteRenderbuffer(i.msaaBuffer),i.msaaBuffer=null,i.blitFramebuffer&&(i.blitFramebuffer.dispose(),i.blitFramebuffer=null));for(var l=[],f=0;f<u;f++){var h=a[f],d=h.parentTextureArray||h;this.renderer.texture.bind(d,0),!(f===0&&i.msaaBuffer)&&(r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0+f,h.target,d._glTextures[this.CONTEXT_UID].texture,n),l.push(r.COLOR_ATTACHMENT0+f))}if(l.length>1&&r.drawBuffers(l),t.depthTexture){var v=this.writeDepthTexture;if(v){var _=t.depthTexture;this.renderer.texture.bind(_,0),r.framebufferTexture2D(r.FRAMEBUFFER,r.DEPTH_ATTACHMENT,r.TEXTURE_2D,_._glTextures[this.CONTEXT_UID].texture,n)}}(t.stencil||t.depth)&&!(t.depthTexture&&this.writeDepthTexture)?(i.stencil=i.stencil||r.createRenderbuffer(),r.bindRenderbuffer(r.RENDERBUFFER,i.stencil),i.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,i.multisample,r.DEPTH24_STENCIL8,t.width,t.height):r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,t.width,t.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.DEPTH_STENCIL_ATTACHMENT,r.RENDERBUFFER,i.stencil)):i.stencil&&(r.deleteRenderbuffer(i.stencil),i.stencil=null)},e.prototype.canMultisampleFramebuffer=function(t){return this.renderer.context.webGLVersion!==1&&t.colorTextures.length<=1&&!t.depthTexture},e.prototype.detectSamples=function(t){var n=this.msaaSamples,r=Qn.NONE;if(t<=1||n===null)return r;for(var i=0;i<n.length;i++)if(n[i]<=t){r=n[i];break}return r===1&&(r=Qn.NONE),r},e.prototype.blit=function(t,n,r){var i=this,a=i.current,u=i.renderer,l=i.gl,f=i.CONTEXT_UID;if(u.context.webGLVersion===2&&!!a){var h=a.glFramebuffers[f];if(!!h){if(!t){if(!h.msaaBuffer)return;var d=a.colorTextures[0];if(!d)return;h.blitFramebuffer||(h.blitFramebuffer=new MI(a.width,a.height),h.blitFramebuffer.addColorTexture(0,d)),t=h.blitFramebuffer,t.colorTextures[0]!==d&&(t.colorTextures[0]=d,t.dirtyId++,t.dirtyFormat++),(t.width!==a.width||t.height!==a.height)&&(t.width=a.width,t.height=a.height,t.dirtyId++,t.dirtySize++)}n||(n=Ete,n.width=a.width,n.height=a.height),r||(r=n);var v=n.width===r.width&&n.height===r.height;this.bind(t),l.bindFramebuffer(l.READ_FRAMEBUFFER,h.framebuffer),l.blitFramebuffer(n.left,n.top,n.right,n.bottom,r.left,r.top,r.right,r.bottom,l.COLOR_BUFFER_BIT,v?l.NEAREST:l.LINEAR)}}},e.prototype.disposeFramebuffer=function(t,n){var r=t.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(!!r){delete t.glFramebuffers[this.CONTEXT_UID];var a=this.managedFramebuffers.indexOf(t);a>=0&&this.managedFramebuffers.splice(a,1),t.disposeRunner.remove(this),n||(i.deleteFramebuffer(r.framebuffer),r.msaaBuffer&&i.deleteRenderbuffer(r.msaaBuffer),r.stencil&&i.deleteRenderbuffer(r.stencil)),r.blitFramebuffer&&r.blitFramebuffer.dispose()}},e.prototype.disposeAll=function(t){var n=this.managedFramebuffers;this.managedFramebuffers=[];for(var r=0;r<n.length;r++)this.disposeFramebuffer(n[r],t)},e.prototype.forceStencil=function(){var t=this.current;if(!!t){var n=t.glFramebuffers[this.CONTEXT_UID];if(!(!n||n.stencil)){t.stencil=!0;var r=t.width,i=t.height,a=this.gl,u=a.createRenderbuffer();a.bindRenderbuffer(a.RENDERBUFFER,u),n.msaaBuffer?a.renderbufferStorageMultisample(a.RENDERBUFFER,n.multisample,a.DEPTH24_STENCIL8,r,i):a.renderbufferStorage(a.RENDERBUFFER,a.DEPTH_STENCIL,r,i),n.stencil=u,a.framebufferRenderbuffer(a.FRAMEBUFFER,a.DEPTH_STENCIL_ATTACHMENT,a.RENDERBUFFER,u)}}},e.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new Lt},e.prototype.destroy=function(){this.renderer=null},e}(),RC={5126:4,5123:2,5121:1},SD=function(){function e(t){this.renderer=t,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}return e.prototype.contextChange=function(){this.disposeAll(!0);var t=this.gl=this.renderer.gl,n=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,n.webGLVersion!==2){var r=this.renderer.context.extensions.vertexArrayObject;ze.PREFER_ENV===ks.WEBGL_LEGACY&&(r=null),r?(t.createVertexArray=function(){return r.createVertexArrayOES()},t.bindVertexArray=function(a){return r.bindVertexArrayOES(a)},t.deleteVertexArray=function(a){return r.deleteVertexArrayOES(a)}):(this.hasVao=!1,t.createVertexArray=function(){return null},t.bindVertexArray=function(){return null},t.deleteVertexArray=function(){return null})}if(n.webGLVersion!==2){var i=t.getExtension("ANGLE_instanced_arrays");i?(t.vertexAttribDivisor=function(a,u){return i.vertexAttribDivisorANGLE(a,u)},t.drawElementsInstanced=function(a,u,l,f,h){return i.drawElementsInstancedANGLE(a,u,l,f,h)},t.drawArraysInstanced=function(a,u,l,f){return i.drawArraysInstancedANGLE(a,u,l,f)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=n.webGLVersion===2||!!n.extensions.uint32ElementIndex},e.prototype.bind=function(t,n){n=n||this.renderer.shader.shader;var r=this.gl,i=t.glVertexArrayObjects[this.CONTEXT_UID],a=!1;i||(this.managedGeometries[t.id]=t,t.disposeRunner.add(this),t.glVertexArrayObjects[this.CONTEXT_UID]=i={},a=!0);var u=i[n.program.id]||this.initGeometryVao(t,n,a);this._activeGeometry=t,this._activeVao!==u&&(this._activeVao=u,this.hasVao?r.bindVertexArray(u):this.activateVao(t,n.program)),this.updateBuffers()},e.prototype.reset=function(){this.unbind()},e.prototype.updateBuffers=function(){for(var t=this._activeGeometry,n=this.renderer.buffer,r=0;r<t.buffers.length;r++){var i=t.buffers[r];n.update(i)}},e.prototype.checkCompatibility=function(t,n){var r=t.attributes,i=n.attributeData;for(var a in i)if(!r[a])throw new Error('shader and geometry incompatible, geometry missing the "'+a+'" attribute')},e.prototype.getSignature=function(t,n){var r=t.attributes,i=n.attributeData,a=["g",t.id];for(var u in r)i[u]&&a.push(u,i[u].location);return a.join("-")},e.prototype.initGeometryVao=function(t,n,r){r===void 0&&(r=!0);var i=this.gl,a=this.CONTEXT_UID,u=this.renderer.buffer,l=n.program;l.glPrograms[a]||this.renderer.shader.generateProgram(n),this.checkCompatibility(t,l);var f=this.getSignature(t,l),h=t.glVertexArrayObjects[this.CONTEXT_UID],d=h[f];if(d)return h[l.id]=d,d;var v=t.buffers,_=t.attributes,g={},x={};for(var b in v)g[b]=0,x[b]=0;for(var b in _)!_[b].size&&l.attributeData[b]?_[b].size=l.attributeData[b].size:_[b].size||console.warn("PIXI Geometry attribute '"+b+"' size cannot be determined (likely the bound shader does not have the attribute)"),g[_[b].buffer]+=_[b].size*RC[_[b].type];for(var b in _){var y=_[b],E=y.size;y.stride===void 0&&(g[y.buffer]===E*RC[y.type]?y.stride=0:y.stride=g[y.buffer]),y.start===void 0&&(y.start=x[y.buffer],x[y.buffer]+=E*RC[y.type])}d=i.createVertexArray(),i.bindVertexArray(d);for(var S=0;S<v.length;S++){var A=v[S];u.bind(A),r&&A._glBuffers[a].refCount++}return this.activateVao(t,l),this._activeVao=d,h[l.id]=d,h[f]=d,d},e.prototype.disposeGeometry=function(t,n){var r;if(!!this.managedGeometries[t.id]){delete this.managedGeometries[t.id];var i=t.glVertexArrayObjects[this.CONTEXT_UID],a=this.gl,u=t.buffers,l=(r=this.renderer)===null||r===void 0?void 0:r.buffer;if(t.disposeRunner.remove(this),!!i){if(l)for(var f=0;f<u.length;f++){var h=u[f]._glBuffers[this.CONTEXT_UID];h&&(h.refCount--,h.refCount===0&&!n&&l.dispose(u[f],n))}if(!n){for(var d in i)if(d[0]==="g"){var v=i[d];this._activeVao===v&&this.unbind(),a.deleteVertexArray(v)}}delete t.glVertexArrayObjects[this.CONTEXT_UID]}}},e.prototype.disposeAll=function(t){for(var n=Object.keys(this.managedGeometries),r=0;r<n.length;r++)this.disposeGeometry(this.managedGeometries[n[r]],t)},e.prototype.activateVao=function(t,n){var r=this.gl,i=this.CONTEXT_UID,a=this.renderer.buffer,u=t.buffers,l=t.attributes;t.indexBuffer&&a.bind(t.indexBuffer);var f=null;for(var h in l){var d=l[h],v=u[d.buffer],_=v._glBuffers[i];if(n.attributeData[h]){f!==_&&(a.bind(v),f=_);var g=n.attributeData[h].location;if(r.enableVertexAttribArray(g),r.vertexAttribPointer(g,d.size,d.type||r.FLOAT,d.normalized,d.stride,d.start),d.instance)if(this.hasInstance)r.vertexAttribDivisor(g,1);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}},e.prototype.draw=function(t,n,r,i){var a=this.gl,u=this._activeGeometry;if(u.indexBuffer){var l=u.indexBuffer.data.BYTES_PER_ELEMENT,f=l===2?a.UNSIGNED_SHORT:a.UNSIGNED_INT;l===2||l===4&&this.canUseUInt32ElementIndex?u.instanced?a.drawElementsInstanced(t,n||u.indexBuffer.data.length,f,(r||0)*l,i||1):a.drawElements(t,n||u.indexBuffer.data.length,f,(r||0)*l):console.warn("unsupported index buffer type: uint32")}else u.instanced?a.drawArraysInstanced(t,r,n||u.getSize(),i||1):a.drawArrays(t,r,n||u.getSize());return this},e.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},e.prototype.destroy=function(){this.renderer=null},e}(),Ste=function(){function e(t){t===void 0&&(t=null),this.type=Vr.NONE,this.autoDetect=!0,this.maskObject=t||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=ze.FILTER_MULTISAMPLE,this.enabled=!0,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._target=null}return Object.defineProperty(e.prototype,"filter",{get:function(){return this._filters?this._filters[0]:null},set:function(t){t?this._filters?this._filters[0]=t:this._filters=[t]:this._filters=null},enumerable:!1,configurable:!0}),e.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=Vr.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null},e.prototype.copyCountersOrReset=function(t){t?(this._stencilCounter=t._stencilCounter,this._scissorCounter=t._scissorCounter,this._scissorRect=t._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},e}();function R3(e,t,n){var r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),r}function O3(e,t){var n=e.getShaderSource(t).split(`
`).map(function(h,d){return d+": "+h}),r=e.getShaderInfoLog(t),i=r.split(`
`),a={},u=i.map(function(h){return parseFloat(h.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))}).filter(function(h){return h&&!a[h]?(a[h]=!0,!0):!1}),l=[""];u.forEach(function(h){n[h-1]="%c"+n[h-1]+"%c",l.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});var f=n.join(`
`);l[0]=f,console.error(r),console.groupCollapsed("click to view full shader code"),console.warn.apply(console,l),console.groupEnd()}function Cte(e,t,n,r){e.getProgramParameter(t,e.LINK_STATUS)||(e.getShaderParameter(n,e.COMPILE_STATUS)||O3(e,n),e.getShaderParameter(r,e.COMPILE_STATUS)||O3(e,r),console.error("PixiJS Error: Could not initialize shader."),e.getProgramInfoLog(t)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",e.getProgramInfoLog(t)))}function OC(e){for(var t=new Array(e),n=0;n<t.length;n++)t[n]=!1;return t}function CD(e,t){switch(e){case"float":return 0;case"vec2":return new Float32Array(2*t);case"vec3":return new Float32Array(3*t);case"vec4":return new Float32Array(4*t);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*t);case"ivec3":return new Int32Array(3*t);case"ivec4":return new Int32Array(4*t);case"uvec2":return new Uint32Array(2*t);case"uvec3":return new Uint32Array(3*t);case"uvec4":return new Uint32Array(4*t);case"bool":return!1;case"bvec2":return OC(2*t);case"bvec3":return OC(3*t);case"bvec4":return OC(4*t);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var ID={},Iv=ID;function Ite(){if(Iv===ID||Iv&&Iv.isContextLost()){var e=document.createElement("canvas"),t=void 0;ze.PREFER_ENV>=ks.WEBGL2&&(t=e.getContext("webgl2",{})),t||(t=e.getContext("webgl",{})||e.getContext("experimental-webgl",{}),t?t.getExtension("WEBGL_draw_buffers"):t=null),Iv=t}return Iv}var Wg;function Ate(){if(!Wg){Wg=da.MEDIUM;var e=Ite();if(e&&e.getShaderPrecisionFormat){var t=e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT);Wg=t.precision?da.HIGH:da.MEDIUM}}return Wg}function N3(e,t,n){if(e.substring(0,9)!=="precision"){var r=t;return t===da.HIGH&&n!==da.HIGH&&(r=da.MEDIUM),"precision "+r+` float;
`+e}else if(n!==da.HIGH&&e.substring(0,15)==="precision highp")return e.replace("precision highp","precision mediump");return e}var Pte={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function AD(e){return Pte[e]}var jg=null,L3={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function PD(e,t){if(!jg){var n=Object.keys(L3);jg={};for(var r=0;r<n.length;++r){var i=n[r];jg[e[i]]=L3[i]}}return jg[t]}var $c=[{test:function(e){return e.type==="float"&&e.size===1},code:function(e){return`
            if(uv["`+e+'"] !== ud["'+e+`"].value)
            {
                ud["`+e+'"].value = uv["'+e+`"]
                gl.uniform1f(ud["`+e+'"].location, uv["'+e+`"])
            }
            `}},{test:function(e){return(e.type==="sampler2D"||e.type==="samplerCube"||e.type==="sampler2DArray")&&e.size===1&&!e.isArray},code:function(e){return`t = syncData.textureCount++;

            renderer.texture.bind(uv["`+e+`"], t);

            if(ud["`+e+`"].value !== t)
            {
                ud["`+e+`"].value = t;
                gl.uniform1i(ud["`+e+`"].location, t);
; // eslint-disable-line max-len
            }`}},{test:function(e,t){return e.type==="mat3"&&e.size===1&&t.a!==void 0},code:function(e){return`
            gl.uniformMatrix3fv(ud["`+e+'"].location, false, uv["'+e+`"].toArray(true));
            `},codeUbo:function(e){return`
                var `+e+"_matrix = uv."+e+`.toArray(true);

                data[offset] = `+e+`_matrix[0];
                data[offset+1] = `+e+`_matrix[1];
                data[offset+2] = `+e+`_matrix[2];
        
                data[offset + 4] = `+e+`_matrix[3];
                data[offset + 5] = `+e+`_matrix[4];
                data[offset + 6] = `+e+`_matrix[5];
        
                data[offset + 8] = `+e+`_matrix[6];
                data[offset + 9] = `+e+`_matrix[7];
                data[offset + 10] = `+e+`_matrix[8];
            `}},{test:function(e,t){return e.type==="vec2"&&e.size===1&&t.x!==void 0},code:function(e){return`
                cv = ud["`+e+`"].value;
                v = uv["`+e+`"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["`+e+`"].location, v.x, v.y);
                }`},codeUbo:function(e){return`
                v = uv.`+e+`;

                data[offset] = v.x;
                data[offset+1] = v.y;
            `}},{test:function(e){return e.type==="vec2"&&e.size===1},code:function(e){return`
                cv = ud["`+e+`"].value;
                v = uv["`+e+`"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["`+e+`"].location, v[0], v[1]);
                }
            `}},{test:function(e,t){return e.type==="vec4"&&e.size===1&&t.width!==void 0},code:function(e){return`
                cv = ud["`+e+`"].value;
                v = uv["`+e+`"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["`+e+`"].location, v.x, v.y, v.width, v.height)
                }`},codeUbo:function(e){return`
                    v = uv.`+e+`;

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `}},{test:function(e){return e.type==="vec4"&&e.size===1},code:function(e){return`
                cv = ud["`+e+`"].value;
                v = uv["`+e+`"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["`+e+`"].location, v[0], v[1], v[2], v[3])
                }`}}],Rte={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},Ote={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function Nte(e,t){var n,r=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(var i in e.uniforms){var a=t[i];if(!a){!((n=e.uniforms[i])===null||n===void 0)&&n.group&&(e.uniforms[i].ubo?r.push(`
                        renderer.shader.syncUniformBufferGroup(uv.`+i+", '"+i+`');
                    `):r.push(`
                        renderer.shader.syncUniformGroup(uv.`+i+`, syncData);
                    `));continue}for(var u=e.uniforms[i],l=!1,f=0;f<$c.length;f++)if($c[f].test(a,u)){r.push($c[f].code(i,u)),l=!0;break}if(!l){var h=a.size===1?Rte:Ote,d=h[a.type].replace("location",'ud["'+i+'"].location');r.push(`
            cu = ud["`+i+`"];
            cv = cu.value;
            v = uv["`+i+`"];
            `+d+";")}}return new Function("ud","uv","renderer","syncData",r.join(`
`))}var Lte=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function kte(e){for(var t="",n=0;n<e;++n)n>0&&(t+=`
else `),n<e-1&&(t+="if(test == "+n+".0){}");return t}function Fte(e,t){if(e===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var n=t.createShader(t.FRAGMENT_SHADER);;){var r=Lte.replace(/%forloop%/gi,kte(e));if(t.shaderSource(n,r),t.compileShader(n),!t.getShaderParameter(n,t.COMPILE_STATUS))e=e/2|0;else break}return e}var Av;function Bte(){if(typeof Av=="boolean")return Av;try{var e=new Function("param1","param2","param3","return param1[param2] === param3;");Av=e({a:"b"},"a","b")===!0}catch{Av=!1}return Av}var Ute=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,Dte=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`,Mte=0,zg={},fg=function(){function e(t,n,r){r===void 0&&(r="pixi-shader"),this.id=Mte++,this.vertexSrc=t||e.defaultVertexSrc,this.fragmentSrc=n||e.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.vertexSrc.substring(0,8)!=="#version"&&(r=r.replace(/\s+/g,"-"),zg[r]?(zg[r]++,r+="-"+zg[r]):zg[r]=1,this.vertexSrc="#define SHADER_NAME "+r+`
`+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+r+`
`+this.fragmentSrc,this.vertexSrc=N3(this.vertexSrc,ze.PRECISION_VERTEX,da.HIGH),this.fragmentSrc=N3(this.fragmentSrc,ze.PRECISION_FRAGMENT,Ate())),this.glPrograms={},this.syncUniforms=null}return Object.defineProperty(e,"defaultVertexSrc",{get:function(){return Dte},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultFragmentSrc",{get:function(){return Ute},enumerable:!1,configurable:!0}),e.from=function(t,n,r){var i=t+n,a=n3[i];return a||(n3[i]=a=new e(t,n,r)),a},e}(),lu=function(){function e(t,n){this.uniformBindCount=0,this.program=t,n?n instanceof yf?this.uniformGroup=n:this.uniformGroup=new yf(n):this.uniformGroup=new yf({})}return e.prototype.checkUniformExists=function(t,n){if(n.uniforms[t])return!0;for(var r in n.uniforms){var i=n.uniforms[r];if(i.group&&this.checkUniformExists(t,i))return!0}return!1},e.prototype.destroy=function(){this.uniformGroup=null},Object.defineProperty(e.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),e.from=function(t,n,r){var i=fg.from(t,n);return new e(i,r)},e}(),NC=0,LC=1,kC=2,FC=3,BC=4,UC=5,$f=function(){function e(){this.data=0,this.blendMode=qe.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}return Object.defineProperty(e.prototype,"blend",{get:function(){return!!(this.data&1<<NC)},set:function(t){!!(this.data&1<<NC)!==t&&(this.data^=1<<NC)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"offsets",{get:function(){return!!(this.data&1<<LC)},set:function(t){!!(this.data&1<<LC)!==t&&(this.data^=1<<LC)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"culling",{get:function(){return!!(this.data&1<<kC)},set:function(t){!!(this.data&1<<kC)!==t&&(this.data^=1<<kC)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"depthTest",{get:function(){return!!(this.data&1<<FC)},set:function(t){!!(this.data&1<<FC)!==t&&(this.data^=1<<FC)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"depthMask",{get:function(){return!!(this.data&1<<UC)},set:function(t){!!(this.data&1<<UC)!==t&&(this.data^=1<<UC)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"clockwiseFrontFace",{get:function(){return!!(this.data&1<<BC)},set:function(t){!!(this.data&1<<BC)!==t&&(this.data^=1<<BC)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this._blendMode},set:function(t){this.blend=t!==qe.NONE,this._blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(t){this.offsets=!!t,this._polygonOffset=t},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return"[@pixi/core:State "+("blendMode="+this.blendMode+" ")+("clockwiseFrontFace="+this.clockwiseFrontFace+" ")+("culling="+this.culling+" ")+("depthMask="+this.depthMask+" ")+("polygonOffset="+this.polygonOffset)+"]"},e.for2d=function(){var t=new e;return t.depthTest=!1,t.blend=!0,t},e}(),Gte=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,$te=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,Au=function(e){sn(t,e);function t(n,r,i){var a=this,u=fg.from(n||t.defaultVertexSrc,r||t.defaultFragmentSrc);return a=e.call(this,u,i)||this,a.padding=0,a.resolution=ze.FILTER_RESOLUTION,a.multisample=ze.FILTER_MULTISAMPLE,a.enabled=!0,a.autoFit=!0,a.state=new $f,a}return t.prototype.apply=function(n,r,i,a,u){n.applyFilter(this,r,i,a)},Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(n){this.state.blendMode=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resolution",{get:function(){return this._resolution},set:function(n){this._resolution=n},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultVertexSrc",{get:function(){return Gte},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentSrc",{get:function(){return $te},enumerable:!1,configurable:!0}),t}(lu),Hte=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`,Wte=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,k3=new qn,mR=function(){function e(t,n){this._texture=t,this.mapCoord=new qn,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof n=="undefined"?.5:n,this.isSimple=!1}return Object.defineProperty(e.prototype,"texture",{get:function(){return this._texture},set:function(t){this._texture=t,this._textureID=-1},enumerable:!1,configurable:!0}),e.prototype.multiplyUvs=function(t,n){n===void 0&&(n=t);for(var r=this.mapCoord,i=0;i<t.length;i+=2){var a=t[i],u=t[i+1];n[i]=a*r.a+u*r.c+r.tx,n[i+1]=a*r.b+u*r.d+r.ty}return n},e.prototype.update=function(t){var n=this._texture;if(!n||!n.valid||!t&&this._textureID===n._updateID)return!1;this._textureID=n._updateID,this._updateID++;var r=n._uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);var i=n.orig,a=n.trim;a&&(k3.set(i.width/a.width,0,0,i.height/a.height,-a.x/a.width,-a.y/a.height),this.mapCoord.append(k3));var u=n.baseTexture,l=this.uClampFrame,f=this.clampMargin/u.resolution,h=this.clampOffset;return l[0]=(n._frame.x+f+h)/u.width,l[1]=(n._frame.y+f+h)/u.height,l[2]=(n._frame.x+n._frame.width-f+h)/u.width,l[3]=(n._frame.y+n._frame.height-f+h)/u.height,this.uClampOffset[0]=h/u.realWidth,this.uClampOffset[1]=h/u.realHeight,this.isSimple=n._frame.width===u.width&&n._frame.height===u.height&&n.rotate===0,!0},e}(),jte=function(e){sn(t,e);function t(n,r,i){var a=this,u=null;return typeof n!="string"&&r===void 0&&i===void 0&&(u=n,n=void 0,r=void 0,i=void 0),a=e.call(this,n||Hte,r||Wte,i)||this,a.maskSprite=u,a.maskMatrix=new qn,a}return Object.defineProperty(t.prototype,"maskSprite",{get:function(){return this._maskSprite},set:function(n){this._maskSprite=n,this._maskSprite&&(this._maskSprite.renderable=!1)},enumerable:!1,configurable:!0}),t.prototype.apply=function(n,r,i,a){var u=this._maskSprite,l=u._texture;!l.valid||(l.uvMatrix||(l.uvMatrix=new mR(l,0)),l.uvMatrix.update(),this.uniforms.npmAlpha=l.baseTexture.alphaMode?0:1,this.uniforms.mask=l,this.uniforms.otherMatrix=n.calculateSpriteMatrix(this.maskMatrix,u).prepend(l.uvMatrix.mapCoord),this.uniforms.alpha=u.worldAlpha,this.uniforms.maskClamp=l.uvMatrix.uClampFrame,n.applyFilter(this,r,i,a))},t}(Au),RD=function(){function e(t){this.renderer=t,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}return e.prototype.setMaskStack=function(t){this.maskStack=t,this.renderer.scissor.setMaskStack(t),this.renderer.stencil.setMaskStack(t)},e.prototype.push=function(t,n){var r=n;if(!r.isMaskData){var i=this.maskDataPool.pop()||new Ste;i.pooled=!0,i.maskObject=n,r=i}var a=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(r.copyCountersOrReset(a),r.autoDetect&&this.detect(r),r._target=t,r.type!==Vr.SPRITE&&this.maskStack.push(r),r.enabled)switch(r.type){case Vr.SCISSOR:this.renderer.scissor.push(r);break;case Vr.STENCIL:this.renderer.stencil.push(r);break;case Vr.SPRITE:r.copyCountersOrReset(null),this.pushSpriteMask(r);break}r.type===Vr.SPRITE&&this.maskStack.push(r)},e.prototype.pop=function(t){var n=this.maskStack.pop();if(!(!n||n._target!==t)){if(n.enabled)switch(n.type){case Vr.SCISSOR:this.renderer.scissor.pop();break;case Vr.STENCIL:this.renderer.stencil.pop(n.maskObject);break;case Vr.SPRITE:this.popSpriteMask(n);break}if(n.reset(),n.pooled&&this.maskDataPool.push(n),this.maskStack.length!==0){var r=this.maskStack[this.maskStack.length-1];r.type===Vr.SPRITE&&r._filters&&(r._filters[0].maskSprite=r.maskObject)}}},e.prototype.detect=function(t){var n=t.maskObject;n.isSprite?t.type=Vr.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(t)?t.type=Vr.SCISSOR:t.type=Vr.STENCIL},e.prototype.pushSpriteMask=function(t){var n,r,i=t.maskObject,a=t._target,u=t._filters;u||(u=this.alphaMaskPool[this.alphaMaskIndex],u||(u=this.alphaMaskPool[this.alphaMaskIndex]=[new jte]));var l=this.renderer,f=l.renderTexture,h,d;if(f.current){var v=f.current;h=t.resolution||v.resolution,d=(n=t.multisample)!==null&&n!==void 0?n:v.multisample}else h=t.resolution||l.resolution,d=(r=t.multisample)!==null&&r!==void 0?r:l.multisample;u[0].resolution=h,u[0].multisample=d,u[0].maskSprite=i;var _=a.filterArea;a.filterArea=i.getBounds(!0),l.filter.push(a,u),a.filterArea=_,t._filters||this.alphaMaskIndex++},e.prototype.popSpriteMask=function(t){this.renderer.filter.pop(),t._filters?t._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)},e.prototype.destroy=function(){this.renderer=null},e}(),OD=function(){function e(t){this.renderer=t,this.maskStack=[],this.glConst=0}return e.prototype.getStackLength=function(){return this.maskStack.length},e.prototype.setMaskStack=function(t){var n=this.renderer.gl,r=this.getStackLength();this.maskStack=t;var i=this.getStackLength();i!==r&&(i===0?n.disable(this.glConst):(n.enable(this.glConst),this._useCurrent()))},e.prototype._useCurrent=function(){},e.prototype.destroy=function(){this.renderer=null,this.maskStack=null},e}(),F3=new qn,ND=function(e){sn(t,e);function t(n){var r=e.call(this,n)||this;return r.glConst=WebGLRenderingContext.SCISSOR_TEST,r}return t.prototype.getStackLength=function(){var n=this.maskStack[this.maskStack.length-1];return n?n._scissorCounter:0},t.prototype.calcScissorRect=function(n){if(!n._scissorRectLocal){var r=n._scissorRect,i=n.maskObject,a=this.renderer,u=a.renderTexture;i.renderable=!0;var l=i.getBounds();this.roundFrameToPixels(l,u.current?u.current.resolution:a.resolution,u.sourceFrame,u.destinationFrame,a.projection.transform),i.renderable=!1,r&&l.fit(r),n._scissorRectLocal=l}},t.isMatrixRotated=function(n){if(!n)return!1;var r=n.a,i=n.b,a=n.c,u=n.d;return(Math.abs(i)>1e-4||Math.abs(a)>1e-4)&&(Math.abs(r)>1e-4||Math.abs(u)>1e-4)},t.prototype.testScissor=function(n){var r=n.maskObject;if(!r.isFastRect||!r.isFastRect()||t.isMatrixRotated(r.worldTransform)||t.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(n);var i=n._scissorRectLocal;return i.width>0&&i.height>0},t.prototype.roundFrameToPixels=function(n,r,i,a,u){t.isMatrixRotated(u)||(u=u?F3.copyFrom(u):F3.identity(),u.translate(-i.x,-i.y).scale(a.width/i.width,a.height/i.height).translate(a.x,a.y),this.renderer.filter.transformAABB(u,n),n.fit(a),n.x=Math.round(n.x*r),n.y=Math.round(n.y*r),n.width=Math.round(n.width*r),n.height=Math.round(n.height*r))},t.prototype.push=function(n){n._scissorRectLocal||this.calcScissorRect(n);var r=this.renderer.gl;n._scissorRect||r.enable(r.SCISSOR_TEST),n._scissorCounter++,n._scissorRect=n._scissorRectLocal,this._useCurrent()},t.prototype.pop=function(){var n=this.renderer.gl;this.getStackLength()>0?this._useCurrent():n.disable(n.SCISSOR_TEST)},t.prototype._useCurrent=function(){var n=this.maskStack[this.maskStack.length-1]._scissorRect,r;this.renderer.renderTexture.current?r=n.y:r=this.renderer.height-n.height-n.y,this.renderer.gl.scissor(n.x,r,n.width,n.height)},t}(OD),LD=function(e){sn(t,e);function t(n){var r=e.call(this,n)||this;return r.glConst=WebGLRenderingContext.STENCIL_TEST,r}return t.prototype.getStackLength=function(){var n=this.maskStack[this.maskStack.length-1];return n?n._stencilCounter:0},t.prototype.push=function(n){var r=n.maskObject,i=this.renderer.gl,a=n._stencilCounter;a===0&&(this.renderer.framebuffer.forceStencil(),i.clearStencil(0),i.clear(i.STENCIL_BUFFER_BIT),i.enable(i.STENCIL_TEST)),n._stencilCounter++,i.colorMask(!1,!1,!1,!1),i.stencilFunc(i.EQUAL,a,4294967295),i.stencilOp(i.KEEP,i.KEEP,i.INCR),r.renderable=!0,r.render(this.renderer),this.renderer.batch.flush(),r.renderable=!1,this._useCurrent()},t.prototype.pop=function(n){var r=this.renderer.gl;this.getStackLength()===0?r.disable(r.STENCIL_TEST):(r.colorMask(!1,!1,!1,!1),r.stencilOp(r.KEEP,r.KEEP,r.DECR),n.renderable=!0,n.render(this.renderer),this.renderer.batch.flush(),n.renderable=!1,this._useCurrent())},t.prototype._useCurrent=function(){var n=this.renderer.gl;n.colorMask(!0,!0,!0,!0),n.stencilFunc(n.EQUAL,this.getStackLength(),4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP)},t}(OD),kD=function(){function e(t){this.renderer=t,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new qn,this.transform=null}return e.prototype.update=function(t,n,r,i){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=n||this.sourceFrame||t,this.calculateProjection(this.destinationFrame,this.sourceFrame,r,i),this.transform&&this.projectionMatrix.append(this.transform);var a=this.renderer;a.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,a.globalUniforms.update(),a.shader.shader&&a.shader.syncUniformGroup(a.shader.shader.uniforms.globals)},e.prototype.calculateProjection=function(t,n,r,i){var a=this.projectionMatrix,u=i?-1:1;a.identity(),a.a=1/n.width*2,a.d=u*(1/n.height*2),a.tx=-1-n.x*a.a,a.ty=-u-n.y*a.d},e.prototype.setTransform=function(t){},e.prototype.destroy=function(){this.renderer=null},e}(),ql=new Lt,Pv=new Lt,FD=function(){function e(t){this.renderer=t,this.clearColor=t._backgroundColorRgba,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new Lt,this.destinationFrame=new Lt,this.viewportFrame=new Lt}return e.prototype.bind=function(t,n,r){t===void 0&&(t=null);var i=this.renderer;this.current=t;var a,u,l;t?(a=t.baseTexture,l=a.resolution,n||(ql.width=t.frame.width,ql.height=t.frame.height,n=ql),r||(Pv.x=t.frame.x,Pv.y=t.frame.y,Pv.width=n.width,Pv.height=n.height,r=Pv),u=a.framebuffer):(l=i.resolution,n||(ql.width=i.screen.width,ql.height=i.screen.height,n=ql),r||(r=ql,r.width=n.width,r.height=n.height));var f=this.viewportFrame;f.x=r.x*l,f.y=r.y*l,f.width=r.width*l,f.height=r.height*l,t||(f.y=i.view.height-(f.y+f.height)),f.ceil(),this.renderer.framebuffer.bind(u,f),this.renderer.projection.update(r,n,l,!u),t?this.renderer.mask.setMaskStack(a.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(n),this.destinationFrame.copyFrom(r)},e.prototype.clear=function(t,n){this.current?t=t||this.current.baseTexture.clearColor:t=t||this.clearColor;var r=this.destinationFrame,i=this.current?this.current.baseTexture:this.renderer.screen,a=r.width!==i.width||r.height!==i.height;if(a){var u=this.viewportFrame,l=u.x,f=u.y,h=u.width,d=u.height;l=Math.round(l),f=Math.round(f),h=Math.round(h),d=Math.round(d),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(l,f,h,d)}this.renderer.framebuffer.clear(t[0],t[1],t[2],t[3],n),a&&this.renderer.scissor.pop()},e.prototype.resize=function(){this.bind(null)},e.prototype.reset=function(){this.bind(null)},e.prototype.destroy=function(){this.renderer=null},e}();function zte(e,t,n,r,i){n.buffer.update(i)}var Xte={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},BD={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function Vte(e){for(var t=e.map(function(f){return{data:f,offset:0,dataLen:0,dirty:0}}),n=0,r=0,i=0,a=0;a<t.length;a++){var u=t[a];if(n=BD[u.data.type],u.data.size>1&&(n=Math.max(n,16)*u.data.size),u.dataLen=n,r%n!==0&&r<16){var l=r%n%16;r+=l,i+=l}r+n>16?(i=Math.ceil(i/16)*16,u.offset=i,i+=n,r=n):(u.offset=i,r+=n,i+=n)}return i=Math.ceil(i/16)*16,{uboElements:t,size:i}}function qte(e,t){var n=[];for(var r in e)t[r]&&n.push(t[r]);return n.sort(function(i,a){return i.index-a.index}),n}function Yte(e,t){if(!e.autoManage)return{size:0,syncFunc:zte};for(var n=qte(e.uniforms,t),r=Vte(n),i=r.uboElements,a=r.size,u=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `],l=0;l<i.length;l++){for(var f=i[l],h=e.uniforms[f.data.name],d=f.data.name,v=!1,_=0;_<$c.length;_++){var g=$c[_];if(g.codeUbo&&g.test(f.data,h)){u.push("offset = "+f.offset/4+";",$c[_].codeUbo(f.data.name,h)),v=!0;break}}if(!v)if(f.data.size>1){var x=AD(f.data.type),b=Math.max(BD[f.data.type]/16,1),y=x/b,E=(4-y%4)%4;u.push(`
                cv = ud.`+d+`.value;
                v = uv.`+d+`;
                offset = `+f.offset/4+`;

                t = 0;

                for(var i=0; i < `+f.data.size*b+`; i++)
                {
                    for(var j = 0; j < `+y+`; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += `+E+`;
                }

                `)}else{var S=Xte[f.data.type];u.push(`
                cv = ud.`+d+`.value;
                v = uv.`+d+`;
                offset = `+f.offset/4+`;
                `+S+`;
                `)}}return u.push(`
       renderer.buffer.update(buffer);
    `),{size:a,syncFunc:new Function("ud","uv","renderer","syncData","buffer",u.join(`
`))}}var Kte=function(){function e(t,n){this.program=t,this.uniformData=n,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}return e.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null},e}();function Zte(e,t){for(var n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),i=0;i<r;i++){var a=t.getActiveAttrib(e,i);if(a.name.indexOf("gl_")!==0){var u=PD(t,a.type),l={type:u,name:a.name,size:AD(u),location:t.getAttribLocation(e,a.name)};n[a.name]=l}}return n}function Jte(e,t){for(var n={},r=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),i=0;i<r;i++){var a=t.getActiveUniform(e,i),u=a.name.replace(/\[.*?\]$/,""),l=!!a.name.match(/\[.*?\]$/),f=PD(t,a.type);n[u]={name:u,index:i,type:f,size:a.size,isArray:l,value:CD(f,a.size)}}return n}function Qte(e,t){var n=R3(e,e.VERTEX_SHADER,t.vertexSrc),r=R3(e,e.FRAGMENT_SHADER,t.fragmentSrc),i=e.createProgram();if(e.attachShader(i,n),e.attachShader(i,r),e.linkProgram(i),e.getProgramParameter(i,e.LINK_STATUS)||Cte(e,i,n,r),t.attributeData=Zte(i,e),t.uniformData=Jte(i,e),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(t.vertexSrc)){var a=Object.keys(t.attributeData);a.sort(function(d,v){return d>v?1:-1});for(var u=0;u<a.length;u++)t.attributeData[a[u]].location=u,e.bindAttribLocation(i,u,a[u]);e.linkProgram(i)}e.deleteShader(n),e.deleteShader(r);var l={};for(var u in t.uniformData){var f=t.uniformData[u];l[u]={location:e.getUniformLocation(i,u),value:CD(f.type,f.size)}}var h=new Kte(i,l);return h}var ene=0,Xg={textureCount:0,uboCount:0},UD=function(){function e(t){this.destroyed=!1,this.renderer=t,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=ene++}return e.prototype.systemCheck=function(){if(!Bte())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},e.prototype.contextChange=function(t){this.gl=t,this.reset()},e.prototype.bind=function(t,n){t.uniforms.globals=this.renderer.globalUniforms;var r=t.program,i=r.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(t);return this.shader=t,this.program!==r&&(this.program=r,this.gl.useProgram(i.program)),n||(Xg.textureCount=0,Xg.uboCount=0,this.syncUniformGroup(t.uniformGroup,Xg)),i},e.prototype.setUniforms=function(t){var n=this.shader.program,r=n.glPrograms[this.renderer.CONTEXT_UID];n.syncUniforms(r.uniformData,t,this.renderer)},e.prototype.syncUniformGroup=function(t,n){var r=this.getGlProgram();(!t.static||t.dirtyId!==r.uniformDirtyGroups[t.id])&&(r.uniformDirtyGroups[t.id]=t.dirtyId,this.syncUniforms(t,r,n))},e.prototype.syncUniforms=function(t,n,r){var i=t.syncUniforms[this.shader.program.id]||this.createSyncGroups(t);i(n.uniformData,t.uniforms,this.renderer,r)},e.prototype.createSyncGroups=function(t){var n=this.getSignature(t,this.shader.program.uniformData,"u");return this.cache[n]||(this.cache[n]=Nte(t,this.shader.program.uniformData)),t.syncUniforms[this.shader.program.id]=this.cache[n],t.syncUniforms[this.shader.program.id]},e.prototype.syncUniformBufferGroup=function(t,n){var r=this.getGlProgram();if(!t.static||t.dirtyId!==0||!r.uniformGroups[t.id]){t.dirtyId=0;var i=r.uniformGroups[t.id]||this.createSyncBufferGroup(t,r,n);t.buffer.update(),i(r.uniformData,t.uniforms,this.renderer,Xg,t.buffer)}this.renderer.buffer.bindBufferBase(t.buffer,r.uniformBufferBindings[n])},e.prototype.createSyncBufferGroup=function(t,n,r){var i=this.renderer.gl;this.renderer.buffer.bind(t.buffer);var a=this.gl.getUniformBlockIndex(n.program,r);n.uniformBufferBindings[r]=this.shader.uniformBindCount,i.uniformBlockBinding(n.program,a,this.shader.uniformBindCount),this.shader.uniformBindCount++;var u=this.getSignature(t,this.shader.program.uniformData,"ubo"),l=this._uboCache[u];if(l||(l=this._uboCache[u]=Yte(t,this.shader.program.uniformData)),t.autoManage){var f=new Float32Array(l.size/4);t.buffer.update(f)}return n.uniformGroups[t.id]=l.syncFunc,n.uniformGroups[t.id]},e.prototype.getSignature=function(t,n,r){var i=t.uniforms,a=[r+"-"];for(var u in i)a.push(u),n[u]&&a.push(n[u].type);return a.join("-")},e.prototype.getGlProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},e.prototype.generateProgram=function(t){var n=this.gl,r=t.program,i=Qte(n,r);return r.glPrograms[this.renderer.CONTEXT_UID]=i,i},e.prototype.reset=function(){this.program=null,this.shader=null},e.prototype.destroy=function(){this.renderer=null,this.destroyed=!0},e}();function tne(e,t){return t===void 0&&(t=[]),t[qe.NORMAL]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[qe.ADD]=[e.ONE,e.ONE],t[qe.MULTIPLY]=[e.DST_COLOR,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[qe.SCREEN]=[e.ONE,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[qe.OVERLAY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[qe.DARKEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[qe.LIGHTEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[qe.COLOR_DODGE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[qe.COLOR_BURN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[qe.HARD_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[qe.SOFT_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[qe.DIFFERENCE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[qe.EXCLUSION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[qe.HUE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[qe.SATURATION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[qe.COLOR]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[qe.LUMINOSITY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[qe.NONE]=[0,0],t[qe.NORMAL_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[qe.ADD_NPM]=[e.SRC_ALPHA,e.ONE,e.ONE,e.ONE],t[qe.SCREEN_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[qe.SRC_IN]=[e.DST_ALPHA,e.ZERO],t[qe.SRC_OUT]=[e.ONE_MINUS_DST_ALPHA,e.ZERO],t[qe.SRC_ATOP]=[e.DST_ALPHA,e.ONE_MINUS_SRC_ALPHA],t[qe.DST_OVER]=[e.ONE_MINUS_DST_ALPHA,e.ONE],t[qe.DST_IN]=[e.ZERO,e.SRC_ALPHA],t[qe.DST_OUT]=[e.ZERO,e.ONE_MINUS_SRC_ALPHA],t[qe.DST_ATOP]=[e.ONE_MINUS_DST_ALPHA,e.SRC_ALPHA],t[qe.XOR]=[e.ONE_MINUS_DST_ALPHA,e.ONE_MINUS_SRC_ALPHA],t[qe.SUBTRACT]=[e.ONE,e.ONE,e.ONE,e.ONE,e.FUNC_REVERSE_SUBTRACT,e.FUNC_ADD],t}var nne=0,rne=1,ine=2,one=3,ane=4,sne=5,DD=function(){function e(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=qe.NONE,this._blendEq=!1,this.map=[],this.map[nne]=this.setBlend,this.map[rne]=this.setOffset,this.map[ine]=this.setCullFace,this.map[one]=this.setDepthTest,this.map[ane]=this.setFrontFace,this.map[sne]=this.setDepthMask,this.checks=[],this.defaultState=new $f,this.defaultState.blend=!0}return e.prototype.contextChange=function(t){this.gl=t,this.blendModes=tne(t),this.set(this.defaultState),this.reset()},e.prototype.set=function(t){if(t=t||this.defaultState,this.stateId!==t.data){for(var n=this.stateId^t.data,r=0;n;)n&1&&this.map[r].call(this,!!(t.data&1<<r)),n=n>>1,r++;this.stateId=t.data}for(var r=0;r<this.checks.length;r++)this.checks[r](this,t)},e.prototype.forceState=function(t){t=t||this.defaultState;for(var n=0;n<this.map.length;n++)this.map[n].call(this,!!(t.data&1<<n));for(var n=0;n<this.checks.length;n++)this.checks[n](this,t);this.stateId=t.data},e.prototype.setBlend=function(t){this.updateCheck(e.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)},e.prototype.setOffset=function(t){this.updateCheck(e.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},e.prototype.setDepthTest=function(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)},e.prototype.setDepthMask=function(t){this.gl.depthMask(t)},e.prototype.setCullFace=function(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)},e.prototype.setFrontFace=function(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])},e.prototype.setBlendMode=function(t){if(t!==this.blendMode){this.blendMode=t;var n=this.blendModes[t],r=this.gl;n.length===2?r.blendFunc(n[0],n[1]):r.blendFuncSeparate(n[0],n[1],n[2],n[3]),n.length===6?(this._blendEq=!0,r.blendEquationSeparate(n[4],n[5])):this._blendEq&&(this._blendEq=!1,r.blendEquationSeparate(r.FUNC_ADD,r.FUNC_ADD))}},e.prototype.setPolygonOffset=function(t,n){this.gl.polygonOffset(t,n)},e.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},e.prototype.updateCheck=function(t,n){var r=this.checks.indexOf(t);n&&r===-1?this.checks.push(t):!n&&r!==-1&&this.checks.splice(r,1)},e.checkBlendMode=function(t,n){t.setBlendMode(n.blendMode)},e.checkPolygonOffset=function(t,n){t.setPolygonOffset(1,n.polygonOffset)},e.prototype.destroy=function(){this.gl=null},e}(),MD=function(){function e(t){this.renderer=t,this.count=0,this.checkCount=0,this.maxIdle=ze.GC_MAX_IDLE,this.checkCountMax=ze.GC_MAX_CHECK_COUNT,this.mode=ze.GC_MODE}return e.prototype.postrender=function(){!this.renderer.renderingToScreen||(this.count++,this.mode!==NI.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},e.prototype.run=function(){for(var t=this.renderer.texture,n=t.managedTextures,r=!1,i=0;i<n.length;i++){var a=n[i];!a.framebuffer&&this.count-a.touched>this.maxIdle&&(t.destroyTexture(a,!0),n[i]=null,r=!0)}if(r){for(var u=0,i=0;i<n.length;i++)n[i]!==null&&(n[u++]=n[i]);n.length=u}},e.prototype.unload=function(t){var n=this.renderer.texture,r=t._texture;r&&!r.framebuffer&&n.destroyTexture(r);for(var i=t.children.length-1;i>=0;i--)this.unload(t.children[i])},e.prototype.destroy=function(){this.renderer=null},e}();function une(e){var t,n,r,i,a,u,l,f,h,d,v,_,g,x,b,y,E,S,A,L,P,R,D;return"WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext?D=(t={},t[Ve.UNSIGNED_BYTE]=(n={},n[be.RGBA]=e.RGBA8,n[be.RGB]=e.RGB8,n[be.RG]=e.RG8,n[be.RED]=e.R8,n[be.RGBA_INTEGER]=e.RGBA8UI,n[be.RGB_INTEGER]=e.RGB8UI,n[be.RG_INTEGER]=e.RG8UI,n[be.RED_INTEGER]=e.R8UI,n[be.ALPHA]=e.ALPHA,n[be.LUMINANCE]=e.LUMINANCE,n[be.LUMINANCE_ALPHA]=e.LUMINANCE_ALPHA,n),t[Ve.BYTE]=(r={},r[be.RGBA]=e.RGBA8_SNORM,r[be.RGB]=e.RGB8_SNORM,r[be.RG]=e.RG8_SNORM,r[be.RED]=e.R8_SNORM,r[be.RGBA_INTEGER]=e.RGBA8I,r[be.RGB_INTEGER]=e.RGB8I,r[be.RG_INTEGER]=e.RG8I,r[be.RED_INTEGER]=e.R8I,r),t[Ve.UNSIGNED_SHORT]=(i={},i[be.RGBA_INTEGER]=e.RGBA16UI,i[be.RGB_INTEGER]=e.RGB16UI,i[be.RG_INTEGER]=e.RG16UI,i[be.RED_INTEGER]=e.R16UI,i[be.DEPTH_COMPONENT]=e.DEPTH_COMPONENT16,i),t[Ve.SHORT]=(a={},a[be.RGBA_INTEGER]=e.RGBA16I,a[be.RGB_INTEGER]=e.RGB16I,a[be.RG_INTEGER]=e.RG16I,a[be.RED_INTEGER]=e.R16I,a),t[Ve.UNSIGNED_INT]=(u={},u[be.RGBA_INTEGER]=e.RGBA32UI,u[be.RGB_INTEGER]=e.RGB32UI,u[be.RG_INTEGER]=e.RG32UI,u[be.RED_INTEGER]=e.R32UI,u[be.DEPTH_COMPONENT]=e.DEPTH_COMPONENT24,u),t[Ve.INT]=(l={},l[be.RGBA_INTEGER]=e.RGBA32I,l[be.RGB_INTEGER]=e.RGB32I,l[be.RG_INTEGER]=e.RG32I,l[be.RED_INTEGER]=e.R32I,l),t[Ve.FLOAT]=(f={},f[be.RGBA]=e.RGBA32F,f[be.RGB]=e.RGB32F,f[be.RG]=e.RG32F,f[be.RED]=e.R32F,f[be.DEPTH_COMPONENT]=e.DEPTH_COMPONENT32F,f),t[Ve.HALF_FLOAT]=(h={},h[be.RGBA]=e.RGBA16F,h[be.RGB]=e.RGB16F,h[be.RG]=e.RG16F,h[be.RED]=e.R16F,h),t[Ve.UNSIGNED_SHORT_5_6_5]=(d={},d[be.RGB]=e.RGB565,d),t[Ve.UNSIGNED_SHORT_4_4_4_4]=(v={},v[be.RGBA]=e.RGBA4,v),t[Ve.UNSIGNED_SHORT_5_5_5_1]=(_={},_[be.RGBA]=e.RGB5_A1,_),t[Ve.UNSIGNED_INT_2_10_10_10_REV]=(g={},g[be.RGBA]=e.RGB10_A2,g[be.RGBA_INTEGER]=e.RGB10_A2UI,g),t[Ve.UNSIGNED_INT_10F_11F_11F_REV]=(x={},x[be.RGB]=e.R11F_G11F_B10F,x),t[Ve.UNSIGNED_INT_5_9_9_9_REV]=(b={},b[be.RGB]=e.RGB9_E5,b),t[Ve.UNSIGNED_INT_24_8]=(y={},y[be.DEPTH_STENCIL]=e.DEPTH24_STENCIL8,y),t[Ve.FLOAT_32_UNSIGNED_INT_24_8_REV]=(E={},E[be.DEPTH_STENCIL]=e.DEPTH32F_STENCIL8,E),t):D=(S={},S[Ve.UNSIGNED_BYTE]=(A={},A[be.RGBA]=e.RGBA,A[be.RGB]=e.RGB,A[be.ALPHA]=e.ALPHA,A[be.LUMINANCE]=e.LUMINANCE,A[be.LUMINANCE_ALPHA]=e.LUMINANCE_ALPHA,A),S[Ve.UNSIGNED_SHORT_5_6_5]=(L={},L[be.RGB]=e.RGB,L),S[Ve.UNSIGNED_SHORT_4_4_4_4]=(P={},P[be.RGBA]=e.RGBA,P),S[Ve.UNSIGNED_SHORT_5_5_5_1]=(R={},R[be.RGBA]=e.RGBA,R),S),D}var DC=function(){function e(t){this.texture=t,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=Ve.UNSIGNED_BYTE,this.internalFormat=be.RGBA,this.samplerType=0}return e}(),GD=function(){function e(t){this.renderer=t,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new At,this.hasIntegerTextures=!1}return e.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=une(t);var n=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=n;for(var r=0;r<n;r++)this.boundTextures[r]=null;this.emptyTextures={};var i=new DC(t.createTexture());t.bindTexture(t.TEXTURE_2D,i.texture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[t.TEXTURE_2D]=i,this.emptyTextures[t.TEXTURE_CUBE_MAP]=new DC(t.createTexture()),t.bindTexture(t.TEXTURE_CUBE_MAP,this.emptyTextures[t.TEXTURE_CUBE_MAP].texture);for(var r=0;r<6;r++)t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+r,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,null);t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MIN_FILTER,t.LINEAR);for(var r=0;r<this.boundTextures.length;r++)this.bind(null,r)},e.prototype.bind=function(t,n){n===void 0&&(n=0);var r=this.gl;if(t=t==null?void 0:t.castToBaseTexture(),t&&t.valid&&!t.parentTextureArray){t.touched=this.renderer.textureGC.count;var i=t._glTextures[this.CONTEXT_UID]||this.initTexture(t);this.boundTextures[n]!==t&&(this.currentLocation!==n&&(this.currentLocation=n,r.activeTexture(r.TEXTURE0+n)),r.bindTexture(t.target,i.texture)),i.dirtyId!==t.dirtyId&&(this.currentLocation!==n&&(this.currentLocation=n,r.activeTexture(r.TEXTURE0+n)),this.updateTexture(t)),this.boundTextures[n]=t}else this.currentLocation!==n&&(this.currentLocation=n,r.activeTexture(r.TEXTURE0+n)),r.bindTexture(r.TEXTURE_2D,this.emptyTextures[r.TEXTURE_2D].texture),this.boundTextures[n]=null},e.prototype.reset=function(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(var t=0;t<this.boundTextures.length;t++)this.boundTextures[t]=this.unknownTexture},e.prototype.unbind=function(t){var n=this,r=n.gl,i=n.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var a=0;a<i.length;a++)i[a]===this.unknownTexture&&this.bind(null,a)}for(var a=0;a<i.length;a++)i[a]===t&&(this.currentLocation!==a&&(r.activeTexture(r.TEXTURE0+a),this.currentLocation=a),r.bindTexture(t.target,this.emptyTextures[t.target].texture),i[a]=null)},e.prototype.ensureSamplerType=function(t){var n=this,r=n.boundTextures,i=n.hasIntegerTextures,a=n.CONTEXT_UID;if(!!i)for(var u=t-1;u>=0;--u){var l=r[u];if(l){var f=l._glTextures[a];f.samplerType!==h0.FLOAT&&this.renderer.texture.unbind(l)}}},e.prototype.initTexture=function(t){var n=new DC(this.gl.createTexture());return n.dirtyId=-1,t._glTextures[this.CONTEXT_UID]=n,this.managedTextures.push(t),t.on("dispose",this.destroyTexture,this),n},e.prototype.initTextureType=function(t,n){var r,i;n.internalFormat=(i=(r=this.internalFormats[t.type])===null||r===void 0?void 0:r[t.format])!==null&&i!==void 0?i:t.format,this.webGLVersion===2&&t.type===Ve.HALF_FLOAT?n.type=this.gl.HALF_FLOAT:n.type=t.type},e.prototype.updateTexture=function(t){var n=t._glTextures[this.CONTEXT_UID];if(!!n){var r=this.renderer;if(this.initTextureType(t,n),t.resource&&t.resource.upload(r,t,n))n.samplerType!==h0.FLOAT&&(this.hasIntegerTextures=!0);else{var i=t.realWidth,a=t.realHeight,u=r.gl;(n.width!==i||n.height!==a||n.dirtyId<0)&&(n.width=i,n.height=a,u.texImage2D(t.target,0,n.internalFormat,i,a,0,t.format,n.type,null))}t.dirtyStyleId!==n.dirtyStyleId&&this.updateTextureStyle(t),n.dirtyId=t.dirtyId}},e.prototype.destroyTexture=function(t,n){var r=this.gl;if(t=t.castToBaseTexture(),t._glTextures[this.CONTEXT_UID]&&(this.unbind(t),r.deleteTexture(t._glTextures[this.CONTEXT_UID].texture),t.off("dispose",this.destroyTexture,this),delete t._glTextures[this.CONTEXT_UID],!n)){var i=this.managedTextures.indexOf(t);i!==-1&&Gc(this.managedTextures,i,1)}},e.prototype.updateTextureStyle=function(t){var n=t._glTextures[this.CONTEXT_UID];!n||((t.mipmap===Fs.POW2||this.webGLVersion!==2)&&!t.isPowerOfTwo?n.mipmap=!1:n.mipmap=t.mipmap>=1,this.webGLVersion!==2&&!t.isPowerOfTwo?n.wrapMode=Os.CLAMP:n.wrapMode=t.wrapMode,t.resource&&t.resource.style(this.renderer,t,n)||this.setStyle(t,n),n.dirtyStyleId=t.dirtyStyleId)},e.prototype.setStyle=function(t,n){var r=this.gl;if(n.mipmap&&t.mipmap!==Fs.ON_MANUAL&&r.generateMipmap(t.target),r.texParameteri(t.target,r.TEXTURE_WRAP_S,n.wrapMode),r.texParameteri(t.target,r.TEXTURE_WRAP_T,n.wrapMode),n.mipmap){r.texParameteri(t.target,r.TEXTURE_MIN_FILTER,t.scaleMode===As.LINEAR?r.LINEAR_MIPMAP_LINEAR:r.NEAREST_MIPMAP_NEAREST);var i=this.renderer.context.extensions.anisotropicFiltering;if(i&&t.anisotropicLevel>0&&t.scaleMode===As.LINEAR){var a=Math.min(t.anisotropicLevel,r.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));r.texParameterf(t.target,i.TEXTURE_MAX_ANISOTROPY_EXT,a)}}else r.texParameteri(t.target,r.TEXTURE_MIN_FILTER,t.scaleMode===As.LINEAR?r.LINEAR:r.NEAREST);r.texParameteri(t.target,r.TEXTURE_MAG_FILTER,t.scaleMode===As.LINEAR?r.LINEAR:r.NEAREST)},e.prototype.destroy=function(){this.renderer=null},e}(),$D={__proto__:null,FilterSystem:bD,BatchSystem:wD,ContextSystem:TD,FramebufferSystem:ED,GeometrySystem:SD,MaskSystem:RD,ScissorSystem:ND,StencilSystem:LD,ProjectionSystem:kD,RenderTextureSystem:FD,ShaderSystem:UD,StateSystem:DD,TextureGCSystem:MD,TextureSystem:GD},MC=new qn,lne=function(e){sn(t,e);function t(n,r){n===void 0&&(n=U_.UNKNOWN);var i=e.call(this)||this;return r=Object.assign({},ze.RENDER_OPTIONS,r),i.options=r,i.type=n,i.screen=new Lt(0,0,r.width,r.height),i.view=r.view||document.createElement("canvas"),i.resolution=r.resolution||ze.RESOLUTION,i.useContextAlpha=r.useContextAlpha,i.autoDensity=!!r.autoDensity,i.preserveDrawingBuffer=r.preserveDrawingBuffer,i.clearBeforeRender=r.clearBeforeRender,i._backgroundColor=0,i._backgroundColorRgba=[0,0,0,1],i._backgroundColorString="#000000",i.backgroundColor=r.backgroundColor||i._backgroundColor,i.backgroundAlpha=r.backgroundAlpha,r.transparent!==void 0&&(Nf("6.0.0","Option transparent is deprecated, please use backgroundAlpha instead."),i.useContextAlpha=r.transparent,i.backgroundAlpha=r.transparent?0:1),i._lastObjectRendered=null,i.plugins={},i}return t.prototype.initPlugins=function(n){for(var r in n)this.plugins[r]=new n[r](this)},Object.defineProperty(t.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),t.prototype.resize=function(n,r){this.view.width=Math.round(n*this.resolution),this.view.height=Math.round(r*this.resolution);var i=this.view.width/this.resolution,a=this.view.height/this.resolution;this.screen.width=i,this.screen.height=a,this.autoDensity&&(this.view.style.width=i+"px",this.view.style.height=a+"px"),this.emit("resize",i,a)},t.prototype.generateTexture=function(n,r,i,a){r===void 0&&(r={}),typeof r=="number"&&(Nf("6.1.0","generateTexture options (scaleMode, resolution, region) are now object options."),r={scaleMode:r,resolution:i,region:a});var u=r.region,l=fte(r,["region"]);a=u||n.getLocalBounds(null,!0),a.width===0&&(a.width=1),a.height===0&&(a.height=1);var f=Lf.create(DI({width:a.width,height:a.height},l));return MC.tx=-a.x,MC.ty=-a.y,this.render(n,{renderTexture:f,clear:!1,transform:MC,skipUpdateTransform:!!n.parent}),f},t.prototype.destroy=function(n){for(var r in this.plugins)this.plugins[r].destroy(),this.plugins[r]=null;n&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);var i=this;i.plugins=null,i.type=U_.UNKNOWN,i.view=null,i.screen=null,i._tempDisplayObjectParent=null,i.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(t.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(n){this._backgroundColor=n,this._backgroundColorString=rD(n),eh(n,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"backgroundAlpha",{get:function(){return this._backgroundColorRgba[3]},set:function(n){this._backgroundColorRgba[3]=n},enumerable:!1,configurable:!0}),t}(ug),fne=function(){function e(t){this.buffer=t||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}return e}(),cne=function(){function e(t){this.renderer=t,this.managedBuffers={},this.boundBufferBases={}}return e.prototype.destroy=function(){this.renderer=null},e.prototype.contextChange=function(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID},e.prototype.bind=function(t){var n=this,r=n.gl,i=n.CONTEXT_UID,a=t._glBuffers[i]||this.createGLBuffer(t);r.bindBuffer(t.type,a.buffer)},e.prototype.bindBufferBase=function(t,n){var r=this,i=r.gl,a=r.CONTEXT_UID;if(this.boundBufferBases[n]!==t){var u=t._glBuffers[a]||this.createGLBuffer(t);this.boundBufferBases[n]=t,i.bindBufferBase(i.UNIFORM_BUFFER,n,u.buffer)}},e.prototype.bindBufferRange=function(t,n,r){var i=this,a=i.gl,u=i.CONTEXT_UID;r=r||0;var l=t._glBuffers[u]||this.createGLBuffer(t);a.bindBufferRange(a.UNIFORM_BUFFER,n||0,l.buffer,r*256,256)},e.prototype.update=function(t){var n=this,r=n.gl,i=n.CONTEXT_UID,a=t._glBuffers[i];if(t._updateID!==a.updateID)if(a.updateID=t._updateID,r.bindBuffer(t.type,a.buffer),a.byteLength>=t.data.byteLength)r.bufferSubData(t.type,0,t.data);else{var u=t.static?r.STATIC_DRAW:r.DYNAMIC_DRAW;a.byteLength=t.data.byteLength,r.bufferData(t.type,t.data,u)}},e.prototype.dispose=function(t,n){if(!!this.managedBuffers[t.id]){delete this.managedBuffers[t.id];var r=t._glBuffers[this.CONTEXT_UID],i=this.gl;t.disposeRunner.remove(this),r&&(n||i.deleteBuffer(r.buffer),delete t._glBuffers[this.CONTEXT_UID])}},e.prototype.disposeAll=function(t){for(var n=Object.keys(this.managedBuffers),r=0;r<n.length;r++)this.dispose(this.managedBuffers[n[r]],t)},e.prototype.createGLBuffer=function(t){var n=this,r=n.CONTEXT_UID,i=n.gl;return t._glBuffers[r]=new fne(i.createBuffer()),this.managedBuffers[t.id]=t,t.disposeRunner.add(this),t._glBuffers[r]},e}(),Pu=function(e){sn(t,e);function t(n){var r=e.call(this,U_.WEBGL,n)||this;return n=r.options,r.gl=null,r.CONTEXT_UID=0,r.runners={destroy:new Yr("destroy"),contextChange:new Yr("contextChange"),reset:new Yr("reset"),update:new Yr("update"),postrender:new Yr("postrender"),prerender:new Yr("prerender"),resize:new Yr("resize")},r.runners.contextChange.add(r),r.globalUniforms=new yf({projectionMatrix:new qn},!0),r.addSystem(RD,"mask").addSystem(TD,"context").addSystem(DD,"state").addSystem(UD,"shader").addSystem(GD,"texture").addSystem(cne,"buffer").addSystem(SD,"geometry").addSystem(ED,"framebuffer").addSystem(ND,"scissor").addSystem(LD,"stencil").addSystem(kD,"projection").addSystem(MD,"textureGC").addSystem(bD,"filter").addSystem(FD,"renderTexture").addSystem(wD,"batch"),r.initPlugins(t.__plugins),r.multisample=void 0,n.context?r.context.initFromContext(n.context):r.context.initFromOptions({alpha:!!r.useContextAlpha,antialias:n.antialias,premultipliedAlpha:r.useContextAlpha&&r.useContextAlpha!=="notMultiplied",stencil:!0,preserveDrawingBuffer:n.preserveDrawingBuffer,powerPreference:r.options.powerPreference}),r.renderingToScreen=!0,qZ(r.context.webGLVersion===2?"WebGL 2":"WebGL 1"),r.resize(r.options.width,r.options.height),r}return t.create=function(n){if(YZ())return new t(n);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},t.prototype.contextChange=function(){var n=this.gl,r;if(this.context.webGLVersion===1){var i=n.getParameter(n.FRAMEBUFFER_BINDING);n.bindFramebuffer(n.FRAMEBUFFER,null),r=n.getParameter(n.SAMPLES),n.bindFramebuffer(n.FRAMEBUFFER,i)}else{var i=n.getParameter(n.DRAW_FRAMEBUFFER_BINDING);n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),r=n.getParameter(n.SAMPLES),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,i)}r>=Qn.HIGH?this.multisample=Qn.HIGH:r>=Qn.MEDIUM?this.multisample=Qn.MEDIUM:r>=Qn.LOW?this.multisample=Qn.LOW:this.multisample=Qn.NONE},t.prototype.addSystem=function(n,r){var i=new n(this);if(this[r])throw new Error('Whoops! The name "'+r+'" is already in use');this[r]=i;for(var a in this.runners)this.runners[a].add(i);return this},t.prototype.render=function(n,r){var i,a,u,l;if(r&&(r instanceof Lf?(Nf("6.0.0","Renderer#render arguments changed, use options instead."),i=r,a=arguments[2],u=arguments[3],l=arguments[4]):(i=r.renderTexture,a=r.clear,u=r.transform,l=r.skipUpdateTransform)),this.renderingToScreen=!i,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=u,!this.context.isLost){if(i||(this._lastObjectRendered=n),!l){var f=n.enableTempParent();n.updateTransform(),n.disableTempParent(f)}this.renderTexture.bind(i),this.batch.currentRenderer.start(),(a!==void 0?a:this.clearBeforeRender)&&this.renderTexture.clear(),n.render(this),this.batch.currentRenderer.flush(),i&&i.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender")}},t.prototype.generateTexture=function(n,r,i,a){r===void 0&&(r={});var u=e.prototype.generateTexture.call(this,n,r,i,a);return this.framebuffer.blit(),u},t.prototype.resize=function(n,r){e.prototype.resize.call(this,n,r),this.runners.resize.emit(this.screen.height,this.screen.width)},t.prototype.reset=function(){return this.runners.reset.emit(),this},t.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},t.prototype.destroy=function(n){this.runners.destroy.emit();for(var r in this.runners)this.runners[r].destroy();e.prototype.destroy.call(this,n),this.gl=null},Object.defineProperty(t.prototype,"extract",{get:function(){return Nf("6.0.0","Renderer#extract has been deprecated, please use Renderer#plugins.extract instead."),this.plugins.extract},enumerable:!1,configurable:!0}),t.registerPlugin=function(n,r){t.__plugins=t.__plugins||{},t.__plugins[n]=r},t}(lne);function hne(e){return Pu.create(e)}var dne=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,pne=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,vne=dne,HD=pne,GI=function(){function e(){this.texArray=null,this.blend=0,this.type=Yo.TRIANGLES,this.start=0,this.size=0,this.data=null}return e}(),$I=function(){function e(){this.elements=[],this.ids=[],this.count=0}return e.prototype.clear=function(){for(var t=0;t<this.count;t++)this.elements[t]=null;this.count=0},e}(),HI=function(){function e(t){typeof t=="number"?this.rawBinaryData=new ArrayBuffer(t):t instanceof Uint8Array?this.rawBinaryData=t.buffer:this.rawBinaryData=t,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}return Object.defineProperty(e.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),e.prototype.view=function(t){return this[t+"View"]},e.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},e.sizeOf=function(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(t+" isn't a valid view type")}},e}(),_ne=function(e){sn(t,e);function t(n){var r=e.call(this,n)||this;return r.shaderGenerator=null,r.geometryClass=null,r.vertexSize=null,r.state=$f.for2d(),r.size=ze.SPRITE_BATCH_SIZE*4,r._vertexCount=0,r._indexCount=0,r._bufferedElements=[],r._bufferedTextures=[],r._bufferSize=0,r._shader=null,r._packedGeometries=[],r._packedGeometryPoolSize=2,r._flushId=0,r._aBuffers={},r._iBuffers={},r.MAX_TEXTURES=1,r.renderer.on("prerender",r.onPrerender,r),n.runners.contextChange.add(r),r._dcIndex=0,r._aIndex=0,r._iIndex=0,r._attributeBuffer=null,r._indexBuffer=null,r._tempBoundTextures=[],r}return t.prototype.contextChange=function(){var n=this.renderer.gl;ze.PREFER_ENV===ks.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),ze.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=Fte(this.MAX_TEXTURES,n)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var r=0;r<this._packedGeometryPoolSize;r++)this._packedGeometries[r]=new this.geometryClass;this.initFlushBuffers()},t.prototype.initFlushBuffers=function(){for(var n=t._drawCallPool,r=t._textureArrayPool,i=this.size/4,a=Math.floor(i/this.MAX_TEXTURES)+1;n.length<i;)n.push(new GI);for(;r.length<a;)r.push(new $I);for(var u=0;u<this.MAX_TEXTURES;u++)this._tempBoundTextures[u]=null},t.prototype.onPrerender=function(){this._flushId=0},t.prototype.render=function(n){!n._texture.valid||(this._vertexCount+n.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=n.vertexData.length/2,this._indexCount+=n.indices.length,this._bufferedTextures[this._bufferSize]=n._texture.baseTexture,this._bufferedElements[this._bufferSize++]=n)},t.prototype.buildTexturesAndDrawCalls=function(){var n=this,r=n._bufferedTextures,i=n.MAX_TEXTURES,a=t._textureArrayPool,u=this.renderer.batch,l=this._tempBoundTextures,f=this.renderer.textureGC.count,h=++At._globalBatch,d=0,v=a[0],_=0;u.copyBoundTextures(l,i);for(var g=0;g<this._bufferSize;++g){var x=r[g];r[g]=null,x._batchEnabled!==h&&(v.count>=i&&(u.boundArray(v,l,h,i),this.buildDrawCalls(v,_,g),_=g,v=a[++d],++h),x._batchEnabled=h,x.touched=f,v.elements[v.count++]=x)}v.count>0&&(u.boundArray(v,l,h,i),this.buildDrawCalls(v,_,this._bufferSize),++d,++h);for(var g=0;g<l.length;g++)l[g]=null;At._globalBatch=h},t.prototype.buildDrawCalls=function(n,r,i){var a=this,u=a._bufferedElements,l=a._attributeBuffer,f=a._indexBuffer,h=a.vertexSize,d=t._drawCallPool,v=this._dcIndex,_=this._aIndex,g=this._iIndex,x=d[v];x.start=this._iIndex,x.texArray=n;for(var b=r;b<i;++b){var y=u[b],E=y._texture.baseTexture,S=oD[E.alphaMode?1:0][y.blendMode];u[b]=null,r<b&&x.blend!==S&&(x.size=g-x.start,r=b,x=d[++v],x.texArray=n,x.start=g),this.packInterleavedGeometry(y,l,f,_,g),_+=y.vertexData.length/2*h,g+=y.indices.length,x.blend=S}r<i&&(x.size=g-x.start,++v),this._dcIndex=v,this._aIndex=_,this._iIndex=g},t.prototype.bindAndClearTexArray=function(n){for(var r=this.renderer.texture,i=0;i<n.count;i++)r.bind(n.elements[i],n.ids[i]),n.elements[i]=null;n.count=0},t.prototype.updateGeometry=function(){var n=this,r=n._packedGeometries,i=n._attributeBuffer,a=n._indexBuffer;ze.CAN_UPLOAD_SAME_BUFFER?(r[this._flushId]._buffer.update(i.rawBinaryData),r[this._flushId]._indexBuffer.update(a),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,r[this._flushId]=new this.geometryClass),r[this._flushId]._buffer.update(i.rawBinaryData),r[this._flushId]._indexBuffer.update(a),this.renderer.geometry.bind(r[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},t.prototype.drawBatches=function(){for(var n=this._dcIndex,r=this.renderer,i=r.gl,a=r.state,u=t._drawCallPool,l=null,f=0;f<n;f++){var h=u[f],d=h.texArray,v=h.type,_=h.size,g=h.start,x=h.blend;l!==d&&(l=d,this.bindAndClearTexArray(d)),this.state.blendMode=x,a.set(this.state),i.drawElements(v,_,i.UNSIGNED_SHORT,g*2)}},t.prototype.flush=function(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},t.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.MAX_TEXTURES),this.renderer.shader.bind(this._shader),ze.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},t.prototype.stop=function(){this.flush()},t.prototype.destroy=function(){for(var n=0;n<this._packedGeometryPoolSize;n++)this._packedGeometries[n]&&this._packedGeometries[n].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),e.prototype.destroy.call(this)},t.prototype.getAttributeBuffer=function(n){var r=d0(Math.ceil(n/8)),i=e3(r),a=r*8;this._aBuffers.length<=i&&(this._iBuffers.length=i+1);var u=this._aBuffers[a];return u||(this._aBuffers[a]=u=new HI(a*this.vertexSize*4)),u},t.prototype.getIndexBuffer=function(n){var r=d0(Math.ceil(n/12)),i=e3(r),a=r*12;this._iBuffers.length<=i&&(this._iBuffers.length=i+1);var u=this._iBuffers[i];return u||(this._iBuffers[i]=u=new Uint16Array(a)),u},t.prototype.packInterleavedGeometry=function(n,r,i,a,u){for(var l=r.uint32View,f=r.float32View,h=a/this.vertexSize,d=n.uvs,v=n.indices,_=n.vertexData,g=n._texture.baseTexture._batchLocation,x=Math.min(n.worldAlpha,1),b=x<1&&n._texture.baseTexture.alphaMode?hR(n._tintRGB,x):n._tintRGB+(x*255<<24),y=0;y<_.length;y+=2)f[a++]=_[y],f[a++]=_[y+1],f[a++]=d[y],f[a++]=d[y+1],l[a++]=b,f[a++]=g;for(var y=0;y<v.length;y++)i[u++]=h+v[y]},t._drawCallPool=[],t._textureArrayPool=[],t}(py),gne=function(){function e(t,n){if(this.vertexSrc=t,this.fragTemplate=n,this.programCache={},this.defaultGroupCache={},n.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(n.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')}return e.prototype.generateShader=function(t){if(!this.programCache[t]){for(var n=new Int32Array(t),r=0;r<t;r++)n[r]=r;this.defaultGroupCache[t]=yf.from({uSamplers:n},!0);var i=this.fragTemplate;i=i.replace(/%count%/gi,""+t),i=i.replace(/%forloop%/gi,this.generateSampleSrc(t)),this.programCache[t]=new fg(this.vertexSrc,i)}var a={tint:new Float32Array([1,1,1,1]),translationMatrix:new qn,default:this.defaultGroupCache[t]};return new lu(this.programCache[t],a)},e.prototype.generateSampleSrc=function(t){var n="";n+=`
`,n+=`
`;for(var r=0;r<t;r++)r>0&&(n+=`
else `),r<t-1&&(n+="if(vTextureId < "+r+".5)"),n+=`
{`,n+=`
	color = texture2D(uSamplers[`+r+"], vTextureCoord);",n+=`
}`;return n+=`
`,n+=`
`,n},e}(),WD=function(e){sn(t,e);function t(n){n===void 0&&(n=!1);var r=e.call(this)||this;return r._buffer=new cr(null,n,!1),r._indexBuffer=new cr(null,n,!0),r.addAttribute("aVertexPosition",r._buffer,2,!1,Ve.FLOAT).addAttribute("aTextureCoord",r._buffer,2,!1,Ve.FLOAT).addAttribute("aColor",r._buffer,4,!0,Ve.UNSIGNED_BYTE).addAttribute("aTextureId",r._buffer,1,!0,Ve.FLOAT).addIndex(r._indexBuffer),r}return t}(lg),B3=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`,U3=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,mne=function(){function e(){}return e.create=function(t){var n=Object.assign({vertex:B3,fragment:U3,geometryClass:WD,vertexSize:6},t),r=n.vertex,i=n.fragment,a=n.vertexSize,u=n.geometryClass;return function(l){sn(f,l);function f(h){var d=l.call(this,h)||this;return d.shaderGenerator=new gne(r,i),d.geometryClass=u,d.vertexSize=a,d}return f}(_ne)},Object.defineProperty(e,"defaultVertexSrc",{get:function(){return B3},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultFragmentTemplate",{get:function(){return U3},enumerable:!1,configurable:!0}),e}(),yne=mne.create(),xne={},bne=function(e){Object.defineProperty(xne,e,{get:function(){return Nf("6.0.0","PIXI.systems."+e+" has moved to PIXI."+e),gD[e]}})};for(var yR in gD)bne(yR);var wne={},Tne=function(e){Object.defineProperty(wne,e,{get:function(){return Nf("6.0.0","PIXI.resources."+e+" has moved to PIXI."+e),$D[e]}})};for(var yR in $D)Tne(yR);/*!
 * @pixi/app - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/app is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var vy=function(){function e(t){var n=this;this.stage=new $r,t=Object.assign({forceCanvas:!1},t),this.renderer=hne(t),e._plugins.forEach(function(r){r.init.call(n,t)})}return e.registerPlugin=function(t){e._plugins.push(t)},e.prototype.render=function(){this.renderer.render(this.stage)},Object.defineProperty(e.prototype,"view",{get:function(){return this.renderer.view},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"screen",{get:function(){return this.renderer.screen},enumerable:!1,configurable:!0}),e.prototype.destroy=function(t,n){var r=this,i=e._plugins.slice(0);i.reverse(),i.forEach(function(a){a.destroy.call(r)}),this.stage.destroy(n),this.stage=null,this.renderer.destroy(t),this.renderer=null},e._plugins=[],e}(),Ene=function(){function e(){}return e.init=function(t){var n=this;Object.defineProperty(this,"resizeTo",{set:function(r){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=r,r&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get:function(){return this._resizeTo}}),this.queueResize=function(){!n._resizeTo||(n.cancelResize(),n._resizeId=requestAnimationFrame(function(){return n.resize()}))},this.cancelResize=function(){n._resizeId&&(cancelAnimationFrame(n._resizeId),n._resizeId=null)},this.resize=function(){if(!!n._resizeTo){n.cancelResize();var r,i;if(n._resizeTo===globalThis.window)r=globalThis.innerWidth,i=globalThis.innerHeight;else{var a=n._resizeTo,u=a.clientWidth,l=a.clientHeight;r=u,i=l}n.renderer.resize(r,i)}},this._resizeId=null,this._resizeTo=null,this.resizeTo=t.resizeTo||null},e.destroy=function(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null},e}();vy.registerPlugin(Ene);/*!
 * @pixi/extract - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/extract is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var D3=new Lt,M3=4,Sne=function(){function e(t){this.renderer=t}return e.prototype.image=function(t,n,r){var i=new Image;return i.src=this.base64(t,n,r),i},e.prototype.base64=function(t,n,r){return this.canvas(t).toDataURL(n,r)},e.prototype.canvas=function(t){var n=this.renderer,r,i,a=!1,u,l=!1;t&&(t instanceof Lf?u=t:(u=this.renderer.generateTexture(t),l=!0)),u?(r=u.baseTexture.resolution,i=u.frame,a=!1,n.renderTexture.bind(u)):(r=this.renderer.resolution,a=!0,i=D3,i.width=this.renderer.width,i.height=this.renderer.height,n.renderTexture.bind(null));var f=Math.floor(i.width*r+1e-4),h=Math.floor(i.height*r+1e-4),d=new i3(f,h,1),v=new Uint8Array(M3*f*h),_=n.gl;_.readPixels(i.x*r,i.y*r,f,h,_.RGBA,_.UNSIGNED_BYTE,v);var g=d.context.getImageData(0,0,f,h);if(e.arrayPostDivide(v,g.data),d.context.putImageData(g,0,0),a){var x=new i3(d.width,d.height,1);x.context.scale(1,-1),x.context.drawImage(d.canvas,0,-h),d.destroy(),d=x}return l&&u.destroy(!0),d.canvas},e.prototype.pixels=function(t){var n=this.renderer,r,i,a,u=!1;t&&(t instanceof Lf?a=t:(a=this.renderer.generateTexture(t),u=!0)),a?(r=a.baseTexture.resolution,i=a.frame,n.renderTexture.bind(a)):(r=n.resolution,i=D3,i.width=n.width,i.height=n.height,n.renderTexture.bind(null));var l=i.width*r,f=i.height*r,h=new Uint8Array(M3*l*f),d=n.gl;return d.readPixels(i.x*r,i.y*r,l,f,d.RGBA,d.UNSIGNED_BYTE,h),u&&a.destroy(!0),e.arrayPostDivide(h,h),h},e.prototype.destroy=function(){this.renderer=null},e.arrayPostDivide=function(t,n){for(var r=0;r<t.length;r+=4){var i=n[r+3]=t[r+3];i!==0?(n[r]=Math.round(Math.min(t[r]*255/i,255)),n[r+1]=Math.round(Math.min(t[r+1]*255/i,255)),n[r+2]=Math.round(Math.min(t[r+2]*255/i,255))):(n[r]=t[r],n[r+1]=t[r+1],n[r+2]=t[r+2])}},e}();/*!
 * @pixi/loaders - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/loaders is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Vg=function(){function e(t,n,r){n===void 0&&(n=!1),this._fn=t,this._once=n,this._thisArg=r,this._next=this._prev=this._owner=null}return e.prototype.detach=function(){return this._owner===null?!1:(this._owner.detach(this),!0)},e}();function G3(e,t){return e._head?(e._tail._next=t,t._prev=e._tail,e._tail=t):(e._head=t,e._tail=t),t._owner=e,t}var Ss=function(){function e(){this._head=this._tail=void 0}return e.prototype.handlers=function(t){t===void 0&&(t=!1);var n=this._head;if(t)return!!n;for(var r=[];n;)r.push(n),n=n._next;return r},e.prototype.has=function(t){if(!(t instanceof Vg))throw new Error("MiniSignal#has(): First arg must be a SignalBinding object.");return t._owner===this},e.prototype.dispatch=function(){for(var t=arguments,n=[],r=0;r<arguments.length;r++)n[r]=t[r];var i=this._head;if(!i)return!1;for(;i;)i._once&&this.detach(i),i._fn.apply(i._thisArg,n),i=i._next;return!0},e.prototype.add=function(t,n){if(n===void 0&&(n=null),typeof t!="function")throw new Error("MiniSignal#add(): First arg must be a Function.");return G3(this,new Vg(t,!1,n))},e.prototype.once=function(t,n){if(n===void 0&&(n=null),typeof t!="function")throw new Error("MiniSignal#once(): First arg must be a Function.");return G3(this,new Vg(t,!0,n))},e.prototype.detach=function(t){if(!(t instanceof Vg))throw new Error("MiniSignal#detach(): First arg must be a SignalBinding object.");return t._owner!==this?this:(t._prev&&(t._prev._next=t._next),t._next&&(t._next._prev=t._prev),t===this._head?(this._head=t._next,t._next===null&&(this._tail=null)):t===this._tail&&(this._tail=t._prev,this._tail._next=null),t._owner=null,this)},e.prototype.detachAll=function(){var t=this._head;if(!t)return this;for(this._head=this._tail=null;t;)t._owner=null,t=t._next;return this},e}();function jD(e,t){t=t||{};for(var n={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},r=n.parser[t.strictMode?"strict":"loose"].exec(e),i={},a=14;a--;)i[n.key[a]]=r[a]||"";return i[n.q.name]={},i[n.key[12]].replace(n.q.parser,function(u,l,f){l&&(i[n.q.name][l]=f)}),i}var Cne=!!(globalThis.XDomainRequest&&!("withCredentials"in new XMLHttpRequest)),qg=null,Ine=0,$3=200,Ane=204,Pne=1223,Rne=2;function H3(){}function W3(e,t,n){t&&t.indexOf(".")===0&&(t=t.substring(1)),t&&(e[t]=n)}function GC(e){return e.toString().replace("object ","")}var Mn=function(){function e(t,n,r){if(this._dequeue=H3,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=null,this._boundOnError=null,this._boundOnProgress=null,this._boundOnTimeout=null,this._boundXhrOnError=null,this._boundXhrOnTimeout=null,this._boundXhrOnAbort=null,this._boundXhrOnLoad=null,typeof t!="string"||typeof n!="string")throw new Error("Both name and url are required for constructing a resource.");r=r||{},this._flags=0,this._setFlag(e.STATUS_FLAGS.DATA_URL,n.indexOf("data:")===0),this.name=t,this.url=n,this.extension=this._getExtension(),this.data=null,this.crossOrigin=r.crossOrigin===!0?"anonymous":r.crossOrigin,this.timeout=r.timeout||0,this.loadType=r.loadType||this._determineLoadType(),this.xhrType=r.xhrType,this.metadata=r.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=e.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=H3,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new Ss,this.onProgress=new Ss,this.onComplete=new Ss,this.onAfterMiddleware=new Ss}return e.setExtensionLoadType=function(t,n){W3(e._loadTypeMap,t,n)},e.setExtensionXhrType=function(t,n){W3(e._xhrTypeMap,t,n)},Object.defineProperty(e.prototype,"isDataUrl",{get:function(){return this._hasFlag(e.STATUS_FLAGS.DATA_URL)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isComplete",{get:function(){return this._hasFlag(e.STATUS_FLAGS.COMPLETE)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isLoading",{get:function(){return this._hasFlag(e.STATUS_FLAGS.LOADING)},enumerable:!1,configurable:!0}),e.prototype.complete=function(){this._clearEvents(),this._finish()},e.prototype.abort=function(t){if(!this.error){if(this.error=new Error(t),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=e.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},e.prototype.load=function(t){var n=this;if(!this.isLoading){if(this.isComplete){t&&setTimeout(function(){return t(n)},1);return}else t&&this.onComplete.once(t);switch(this._setFlag(e.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),(this.crossOrigin===!1||typeof this.crossOrigin!="string")&&(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case e.LOAD_TYPE.IMAGE:this.type=e.TYPE.IMAGE,this._loadElement("image");break;case e.LOAD_TYPE.AUDIO:this.type=e.TYPE.AUDIO,this._loadSourceElement("audio");break;case e.LOAD_TYPE.VIDEO:this.type=e.TYPE.VIDEO,this._loadSourceElement("video");break;case e.LOAD_TYPE.XHR:default:Cne&&this.crossOrigin?this._loadXdr():this._loadXhr();break}}},e.prototype._hasFlag=function(t){return(this._flags&t)!==0},e.prototype._setFlag=function(t,n){this._flags=n?this._flags|t:this._flags&~t},e.prototype._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},e.prototype._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(e.STATUS_FLAGS.COMPLETE,!0),this._setFlag(e.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},e.prototype._loadElement=function(t){this.metadata.loadElement?this.data=this.metadata.loadElement:t==="image"&&typeof globalThis.Image!="undefined"?this.data=new Image:this.data=document.createElement(t),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},e.prototype._loadSourceElement=function(t){if(this.metadata.loadElement?this.data=this.metadata.loadElement:t==="audio"&&typeof globalThis.Audio!="undefined"?this.data=new Audio:this.data=document.createElement(t),this.data===null){this.abort("Unsupported element: "+t);return}if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var n=this.metadata.mimeType,r=0;r<this.url.length;++r)this.data.appendChild(this._createSource(t,this.url[r],Array.isArray(n)?n[r]:n));else{var n=this.metadata.mimeType;this.data.appendChild(this._createSource(t,this.url,Array.isArray(n)?n[0]:n))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},e.prototype._loadXhr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XMLHttpRequest;this.crossOrigin==="use-credentials"&&(t.withCredentials=!0),t.open("GET",this.url,!0),t.timeout=this.timeout,this.xhrType===e.XHR_RESPONSE_TYPE.JSON||this.xhrType===e.XHR_RESPONSE_TYPE.DOCUMENT?t.responseType=e.XHR_RESPONSE_TYPE.TEXT:t.responseType=this.xhrType,t.addEventListener("error",this._boundXhrOnError,!1),t.addEventListener("timeout",this._boundXhrOnTimeout,!1),t.addEventListener("abort",this._boundXhrOnAbort,!1),t.addEventListener("progress",this._boundOnProgress,!1),t.addEventListener("load",this._boundXhrOnLoad,!1),t.send()},e.prototype._loadXdr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var t=this.xhr=new globalThis.XDomainRequest;t.timeout=this.timeout||5e3,t.onerror=this._boundXhrOnError,t.ontimeout=this._boundXhrOnTimeout,t.onprogress=this._boundOnProgress,t.onload=this._boundXhrOnLoad,t.open("GET",this.url,!0),setTimeout(function(){return t.send()},1)},e.prototype._createSource=function(t,n,r){r||(r=t+"/"+this._getExtension(n));var i=document.createElement("source");return i.src=n,i.type=r,i},e.prototype._onError=function(t){this.abort("Failed to load element using: "+t.target.nodeName)},e.prototype._onProgress=function(t){t&&t.lengthComputable&&this.onProgress.dispatch(this,t.loaded/t.total)},e.prototype._onTimeout=function(){this.abort("Load timed out.")},e.prototype._xhrOnError=function(){var t=this.xhr;this.abort(GC(t)+" Request failed. Status: "+t.status+', text: "'+t.statusText+'"')},e.prototype._xhrOnTimeout=function(){var t=this.xhr;this.abort(GC(t)+" Request timed out.")},e.prototype._xhrOnAbort=function(){var t=this.xhr;this.abort(GC(t)+" Request was aborted by the user.")},e.prototype._xhrOnLoad=function(){var t=this.xhr,n="",r=typeof t.status=="undefined"?$3:t.status;(t.responseType===""||t.responseType==="text"||typeof t.responseType=="undefined")&&(n=t.responseText),r===Ine&&(n.length>0||t.responseType===e.XHR_RESPONSE_TYPE.BUFFER)?r=$3:r===Pne&&(r=Ane);var i=r/100|0;if(i===Rne)if(this.xhrType===e.XHR_RESPONSE_TYPE.TEXT)this.data=n,this.type=e.TYPE.TEXT;else if(this.xhrType===e.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(n),this.type=e.TYPE.JSON}catch(l){this.abort("Error trying to parse loaded json: "+l);return}else if(this.xhrType===e.XHR_RESPONSE_TYPE.DOCUMENT)try{if(globalThis.DOMParser){var a=new DOMParser;this.data=a.parseFromString(n,"text/xml")}else{var u=document.createElement("div");u.innerHTML=n,this.data=u}this.type=e.TYPE.XML}catch(l){this.abort("Error trying to parse loaded xml: "+l);return}else this.data=t.response||n;else{this.abort("["+t.status+"] "+t.statusText+": "+t.responseURL);return}this.complete()},e.prototype._determineCrossOrigin=function(t,n){if(t.indexOf("data:")===0)return"";if(globalThis.origin!==globalThis.location.origin)return"anonymous";n=n||globalThis.location,qg||(qg=document.createElement("a")),qg.href=t;var r=jD(qg.href,{strictMode:!0}),i=!r.port&&n.port===""||r.port===n.port,a=r.protocol?r.protocol+":":"";return r.host!==n.hostname||!i||a!==n.protocol?"anonymous":""},e.prototype._determineXhrType=function(){return e._xhrTypeMap[this.extension]||e.XHR_RESPONSE_TYPE.TEXT},e.prototype._determineLoadType=function(){return e._loadTypeMap[this.extension]||e.LOAD_TYPE.XHR},e.prototype._getExtension=function(t){t===void 0&&(t=this.url);var n="";if(this.isDataUrl){var r=t.indexOf("/");n=t.substring(r+1,t.indexOf(";",r))}else{var i=t.indexOf("?"),a=t.indexOf("#"),u=Math.min(i>-1?i:t.length,a>-1?a:t.length);t=t.substring(0,u),n=t.substring(t.lastIndexOf(".")+1)}return n.toLowerCase()},e.prototype._getMimeFromXhrType=function(t){switch(t){case e.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case e.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case e.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case e.XHR_RESPONSE_TYPE.JSON:return"application/json";case e.XHR_RESPONSE_TYPE.DEFAULT:case e.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},e}();(function(e){(function(t){t[t.NONE=0]="NONE",t[t.DATA_URL=1]="DATA_URL",t[t.COMPLETE=2]="COMPLETE",t[t.LOADING=4]="LOADING"})(e.STATUS_FLAGS||(e.STATUS_FLAGS={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.JSON=1]="JSON",t[t.XML=2]="XML",t[t.IMAGE=3]="IMAGE",t[t.AUDIO=4]="AUDIO",t[t.VIDEO=5]="VIDEO",t[t.TEXT=6]="TEXT"}(e.TYPE||(e.TYPE={})),function(t){t[t.XHR=1]="XHR",t[t.IMAGE=2]="IMAGE",t[t.AUDIO=3]="AUDIO",t[t.VIDEO=4]="VIDEO"}(e.LOAD_TYPE||(e.LOAD_TYPE={})),function(t){t.DEFAULT="text",t.BUFFER="arraybuffer",t.BLOB="blob",t.DOCUMENT="document",t.JSON="json",t.TEXT="text"}(e.XHR_RESPONSE_TYPE||(e.XHR_RESPONSE_TYPE={})),e._loadTypeMap={gif:e.LOAD_TYPE.IMAGE,png:e.LOAD_TYPE.IMAGE,bmp:e.LOAD_TYPE.IMAGE,jpg:e.LOAD_TYPE.IMAGE,jpeg:e.LOAD_TYPE.IMAGE,tif:e.LOAD_TYPE.IMAGE,tiff:e.LOAD_TYPE.IMAGE,webp:e.LOAD_TYPE.IMAGE,tga:e.LOAD_TYPE.IMAGE,svg:e.LOAD_TYPE.IMAGE,"svg+xml":e.LOAD_TYPE.IMAGE,mp3:e.LOAD_TYPE.AUDIO,ogg:e.LOAD_TYPE.AUDIO,wav:e.LOAD_TYPE.AUDIO,mp4:e.LOAD_TYPE.VIDEO,webm:e.LOAD_TYPE.VIDEO},e._xhrTypeMap={xhtml:e.XHR_RESPONSE_TYPE.DOCUMENT,html:e.XHR_RESPONSE_TYPE.DOCUMENT,htm:e.XHR_RESPONSE_TYPE.DOCUMENT,xml:e.XHR_RESPONSE_TYPE.DOCUMENT,tmx:e.XHR_RESPONSE_TYPE.DOCUMENT,svg:e.XHR_RESPONSE_TYPE.DOCUMENT,tsx:e.XHR_RESPONSE_TYPE.DOCUMENT,gif:e.XHR_RESPONSE_TYPE.BLOB,png:e.XHR_RESPONSE_TYPE.BLOB,bmp:e.XHR_RESPONSE_TYPE.BLOB,jpg:e.XHR_RESPONSE_TYPE.BLOB,jpeg:e.XHR_RESPONSE_TYPE.BLOB,tif:e.XHR_RESPONSE_TYPE.BLOB,tiff:e.XHR_RESPONSE_TYPE.BLOB,webp:e.XHR_RESPONSE_TYPE.BLOB,tga:e.XHR_RESPONSE_TYPE.BLOB,json:e.XHR_RESPONSE_TYPE.JSON,text:e.XHR_RESPONSE_TYPE.TEXT,txt:e.XHR_RESPONSE_TYPE.TEXT,ttf:e.XHR_RESPONSE_TYPE.BUFFER,otf:e.XHR_RESPONSE_TYPE.BUFFER},e.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="})(Mn||(Mn={}));function Yl(){}function One(e){return function(){for(var n=arguments,r=[],i=0;i<arguments.length;i++)r[i]=n[i];if(e===null)throw new Error("Callback was already called.");var a=e;e=null,a.apply(this,r)}}var Nne=function(){function e(t,n){this.data=t,this.callback=n}return e}(),$C=function(){function e(t,n){var r=this;if(n===void 0&&(n=1),this.workers=0,this.saturated=Yl,this.unsaturated=Yl,this.empty=Yl,this.drain=Yl,this.error=Yl,this.started=!1,this.paused=!1,this._tasks=[],this._insert=function(i,a,u){if(u&&typeof u!="function")throw new Error("task callback must be a function");if(r.started=!0,i==null&&r.idle()){setTimeout(function(){return r.drain()},1);return}var l=new Nne(i,typeof u=="function"?u:Yl);a?r._tasks.unshift(l):r._tasks.push(l),setTimeout(r.process,1)},this.process=function(){for(;!r.paused&&r.workers<r.concurrency&&r._tasks.length;){var i=r._tasks.shift();r._tasks.length===0&&r.empty(),r.workers+=1,r.workers===r.concurrency&&r.saturated(),r._worker(i.data,One(r._next(i)))}},this._worker=t,n===0)throw new Error("Concurrency must not be zero");this.concurrency=n,this.buffer=n/4}return e.prototype._next=function(t){var n=this;return function(){for(var r=arguments,i=[],a=0;a<arguments.length;a++)i[a]=r[a];n.workers-=1,t.callback.apply(t,i),i[0]!=null&&n.error(i[0],t.data),n.workers<=n.concurrency-n.buffer&&n.unsaturated(),n.idle()&&n.drain(),n.process()}},e.prototype.push=function(t,n){this._insert(t,!1,n)},e.prototype.kill=function(){this.workers=0,this.drain=Yl,this.started=!1,this._tasks=[]},e.prototype.unshift=function(t,n){this._insert(t,!0,n)},e.prototype.length=function(){return this._tasks.length},e.prototype.running=function(){return this.workers},e.prototype.idle=function(){return this._tasks.length+this.workers===0},e.prototype.pause=function(){this.paused!==!0&&(this.paused=!0)},e.prototype.resume=function(){if(this.paused!==!1){this.paused=!1;for(var t=1;t<=this.concurrency;t++)this.process()}},e.eachSeries=function(t,n,r,i){var a=0,u=t.length;function l(f){if(f||a===u){r&&r(f);return}i?setTimeout(function(){n(t[a++],l)},1):n(t[a++],l)}l()},e.queue=function(t,n){return new e(t,n)},e}(),HC=100,Lne=/(#[\w-]+)?$/,go=function(){function e(t,n){var r=this;t===void 0&&(t=""),n===void 0&&(n=10),this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(f,h){return r._loadResource(f,h)},this.resources={},this.baseUrl=t,this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(f,h){return r._loadResource(f,h)},this._queue=$C.queue(this._boundLoadResource,n),this._queue.pause(),this.resources={},this.onProgress=new Ss,this.onError=new Ss,this.onLoad=new Ss,this.onStart=new Ss,this.onComplete=new Ss;for(var i=0;i<e._plugins.length;++i){var a=e._plugins[i],u=a.pre,l=a.use;u&&this.pre(u),l&&this.use(l)}this._protected=!1}return e.prototype._add=function(t,n,r,i){if(this.loading&&(!r||!r.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[t])throw new Error('Resource named "'+t+'" already exists.');if(n=this._prepareUrl(n),this.resources[t]=new Mn(t,n,r),typeof i=="function"&&this.resources[t].onAfterMiddleware.once(i),this.loading){for(var a=r.parentResource,u=[],l=0;l<a.children.length;++l)a.children[l].isComplete||u.push(a.children[l]);var f=a.progressChunk*(u.length+1),h=f/(u.length+2);a.children.push(this.resources[t]),a.progressChunk=h;for(var l=0;l<u.length;++l)u[l].progressChunk=h;this.resources[t].progressChunk=h}return this._queue.push(this.resources[t]),this},e.prototype.pre=function(t){return this._beforeMiddleware.push(t),this},e.prototype.use=function(t){return this._afterMiddleware.push(t),this},e.prototype.reset=function(){this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause();for(var t in this.resources){var n=this.resources[t];n._onLoadBinding&&n._onLoadBinding.detach(),n.isLoading&&n.abort("loader reset")}return this.resources={},this},e.prototype.load=function(t){if(typeof t=="function"&&this.onComplete.once(t),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var n=this._queue._tasks.length,r=HC/n,i=0;i<this._queue._tasks.length;++i)this._queue._tasks[i].data.progressChunk=r;this._onStart(),this._queue.resume()}return this},Object.defineProperty(e.prototype,"concurrency",{get:function(){return this._queue.concurrency},set:function(t){this._queue.concurrency=t},enumerable:!1,configurable:!0}),e.prototype._prepareUrl=function(t){var n=jD(t,{strictMode:!0}),r;if(n.protocol||!n.path||t.indexOf("//")===0?r=t:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&t.charAt(0)!=="/"?r=this.baseUrl+"/"+t:r=this.baseUrl+t,this.defaultQueryString){var i=Lne.exec(r)[0];r=r.slice(0,r.length-i.length),r.indexOf("?")!==-1?r+="&"+this.defaultQueryString:r+="?"+this.defaultQueryString,r+=i}return r},e.prototype._loadResource=function(t,n){var r=this;t._dequeue=n,$C.eachSeries(this._beforeMiddleware,function(i,a){i.call(r,t,function(){a(t.isComplete?{}:null)})},function(){t.isComplete?r._onLoad(t):(t._onLoadBinding=t.onComplete.once(r._onLoad,r),t.load())},!0)},e.prototype._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},e.prototype._onComplete=function(){this.progress=HC,this.loading=!1,this.onComplete.dispatch(this,this.resources)},e.prototype._onLoad=function(t){var n=this;t._onLoadBinding=null,this._resourcesParsing.push(t),t._dequeue(),$C.eachSeries(this._afterMiddleware,function(r,i){r.call(n,t,i)},function(){t.onAfterMiddleware.dispatch(t),n.progress=Math.min(HC,n.progress+t.progressChunk),n.onProgress.dispatch(n,t),t.error?n.onError.dispatch(t.error,n,t):n.onLoad.dispatch(n,t),n._resourcesParsing.splice(n._resourcesParsing.indexOf(t),1),n._queue.idle()&&n._resourcesParsing.length===0&&n._onComplete()},!0)},e.prototype.destroy=function(){this._protected||this.reset()},Object.defineProperty(e,"shared",{get:function(){var t=e._shared;return t||(t=new e,t._protected=!0,e._shared=t),t},enumerable:!1,configurable:!0}),e.registerPlugin=function(t){return e._plugins.push(t),t.add&&t.add(),e},e._plugins=[],e}();go.prototype.add=function(t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;++a)this.add(t[a]);return this}if(typeof t=="object"&&(r=t,i=n||r.callback||r.onComplete,n=r.url,t=r.name||r.key||r.url),typeof n!="string"&&(i=r,r=n,n=t),typeof n!="string")throw new Error("No url passed to add resource to loader.");return typeof r=="function"&&(i=r,r=null),this._add(t,n,r,i)};var kne=function(){function e(){}return e.init=function(t){t=Object.assign({sharedLoader:!1},t),this.loader=t.sharedLoader?go.shared:new go},e.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},e}(),Fne=function(){function e(){}return e.add=function(){Mn.setExtensionLoadType("svg",Mn.LOAD_TYPE.XHR),Mn.setExtensionXhrType("svg",Mn.XHR_RESPONSE_TYPE.TEXT)},e.use=function(t,n){if(t.data&&(t.type===Mn.TYPE.IMAGE||t.extension==="svg")){var r=t.data,i=t.url,a=t.name,u=t.metadata;Ye.fromLoader(r,i,a,u).then(function(l){t.texture=l,n()}).catch(n)}else n()},e}(),Bne="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Une(e){for(var t="",n=0;n<e.length;){for(var r=[0,0,0],i=[0,0,0,0],a=0;a<r.length;++a)n<e.length?r[a]=e.charCodeAt(n++)&255:r[a]=0;i[0]=r[0]>>2,i[1]=(r[0]&3)<<4|r[1]>>4,i[2]=(r[1]&15)<<2|r[2]>>6,i[3]=r[2]&63;var u=n-(e.length-1);switch(u){case 2:i[3]=64,i[2]=64;break;case 1:i[3]=64;break}for(var a=0;a<i.length;++a)t+=Bne.charAt(i[a])}return t}var j3=self.URL||self.webkitURL;function Dne(e,t){if(!e.data){t();return}if(e.xhr&&e.xhrType===Mn.XHR_RESPONSE_TYPE.BLOB){if(!self.Blob||typeof e.data=="string"){var n=e.xhr.getResponseHeader("content-type");if(n&&n.indexOf("image")===0){e.data=new Image,e.data.src="data:"+n+";base64,"+Une(e.xhr.responseText),e.type=Mn.TYPE.IMAGE,e.data.onload=function(){e.data.onload=null,t()};return}}else if(e.data.type.indexOf("image")===0){var r=j3.createObjectURL(e.data);e.blob=e.data,e.data=new Image,e.data.src=r,e.type=Mn.TYPE.IMAGE,e.data.onload=function(){j3.revokeObjectURL(r),e.data.onload=null,t()};return}}t()}go.registerPlugin({use:Dne});go.registerPlugin(Fne);/*!
 * @pixi/compressed-textures - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/compressed-textures is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var zt,dt;(function(e){e[e.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",e[e.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",e[e.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",e[e.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",e[e.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",e[e.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",e[e.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",e[e.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",e[e.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",e[e.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",e[e.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",e[e.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",e[e.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",e[e.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",e[e.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",e[e.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",e[e.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",e[e.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",e[e.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",e[e.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",e[e.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",e[e.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",e[e.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL"})(dt||(dt={}));var g0=(zt={},zt[dt.COMPRESSED_RGB_S3TC_DXT1_EXT]=.5,zt[dt.COMPRESSED_RGBA_S3TC_DXT1_EXT]=.5,zt[dt.COMPRESSED_RGBA_S3TC_DXT3_EXT]=1,zt[dt.COMPRESSED_RGBA_S3TC_DXT5_EXT]=1,zt[dt.COMPRESSED_SRGB_S3TC_DXT1_EXT]=.5,zt[dt.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT]=.5,zt[dt.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT]=1,zt[dt.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT]=1,zt[dt.COMPRESSED_R11_EAC]=.5,zt[dt.COMPRESSED_SIGNED_R11_EAC]=.5,zt[dt.COMPRESSED_RG11_EAC]=1,zt[dt.COMPRESSED_SIGNED_RG11_EAC]=1,zt[dt.COMPRESSED_RGB8_ETC2]=.5,zt[dt.COMPRESSED_RGBA8_ETC2_EAC]=1,zt[dt.COMPRESSED_SRGB8_ETC2]=.5,zt[dt.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC]=1,zt[dt.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,zt[dt.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,zt[dt.COMPRESSED_RGB_PVRTC_4BPPV1_IMG]=.5,zt[dt.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG]=.5,zt[dt.COMPRESSED_RGB_PVRTC_2BPPV1_IMG]=.25,zt[dt.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG]=.25,zt[dt.COMPRESSED_RGB_ETC1_WEBGL]=.5,zt[dt.COMPRESSED_RGB_ATC_WEBGL]=.5,zt[dt.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL]=1,zt[dt.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL]=1,zt);/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var WI=function(e,t){return WI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},WI(e,t)};function zD(e,t){WI(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function Mne(e,t,n,r){return new(n||(n=Promise))(function(i,a){function u(h){try{f(r.next(h))}catch(d){a(d)}}function l(h){try{f(r.throw(h))}catch(d){a(d)}}function f(h){h.done?i(h.value):new n(function(d){d(h.value)}).then(u,l)}f((r=r.apply(e,t||[])).next())})}function Gne(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,u;return u={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function l(h){return function(d){return f([h,d])}}function f(h){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(a=h[0]&2?i.return:h[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,h[1])).done)return a;switch(i=0,a&&(h=[h[0]&2,a.value]),h[0]){case 0:case 1:a=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,i=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!a||h[1]>a[0]&&h[1]<a[3])){n.label=h[1];break}if(h[0]===6&&n.label<a[1]){n.label=a[1],a=h;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(h);break}a[2]&&n.ops.pop(),n.trys.pop();continue}h=t.call(e,n)}catch(d){h=[6,d],i=0}finally{r=a=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}var $ne=function(e){zD(t,e);function t(n,r){r===void 0&&(r={width:1,height:1,autoLoad:!0});var i=this,a,u;return typeof n=="string"?(a=n,u=new Uint8Array):(a=null,u=n),i=e.call(this,u,r)||this,i.origin=a,i.buffer=u?new HI(u):null,i.origin&&r.autoLoad!==!1&&i.load(),u&&u.length&&(i.loaded=!0,i.onBlobLoaded(i.buffer.rawBinaryData)),i}return t.prototype.onBlobLoaded=function(n){},t.prototype.load=function(){return Mne(this,void 0,Promise,function(){var n,r,i;return Gne(this,function(a){switch(a.label){case 0:return[4,fetch(this.origin)];case 1:return n=a.sent(),[4,n.blob()];case 2:return r=a.sent(),[4,r.arrayBuffer()];case 3:return i=a.sent(),this.data=new Uint32Array(i),this.buffer=new HI(i),this.loaded=!0,this.onBlobLoaded(i),this.update(),[2,this]}})})},t}(Ah),jI=function(e){zD(t,e);function t(n,r){var i=e.call(this,n,r)||this;return i.format=r.format,i.levels=r.levels||1,i._width=r.width,i._height=r.height,i._extension=t._formatToExtension(i.format),(r.levelBuffers||i.buffer)&&(i._levelBuffers=r.levelBuffers||t._createLevelBuffers(n instanceof Uint8Array?n:i.buffer.uint8View,i.format,i.levels,4,4,i.width,i.height)),i}return t.prototype.upload=function(n,r,i){var a=n.gl,u=n.context.extensions[this._extension];if(!u)throw new Error(this._extension+" textures are not supported on the current machine");if(!this._levelBuffers)return!1;for(var l=0,f=this.levels;l<f;l++){var h=this._levelBuffers[l],d=h.levelID,v=h.levelWidth,_=h.levelHeight,g=h.levelBuffer;a.compressedTexImage2D(a.TEXTURE_2D,d,this.format,v,_,0,g)}return!0},t.prototype.onBlobLoaded=function(){this._levelBuffers=t._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)},t._formatToExtension=function(n){if(n>=33776&&n<=33779)return"s3tc";if(n>=37488&&n<=37497)return"etc";if(n>=35840&&n<=35843)return"pvrtc";if(n>=36196)return"etc1";if(n>=35986&&n<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")},t._createLevelBuffers=function(n,r,i,a,u,l,f){for(var h=new Array(i),d=n.byteOffset,v=l,_=f,g=v+a-1&~(a-1),x=_+u-1&~(u-1),b=g*x*g0[r],y=0;y<i;y++)h[y]={levelID:y,levelWidth:i>1?v:g,levelHeight:i>1?_:x,levelBuffer:new Uint8Array(n.buffer,d,b)},d+=b,v=v>>1||1,_=_>>1||1,g=v+a-1&~(a-1),x=_+u-1&~(u-1),b=g*x*g0[r];return h},t}($ne),Hne=function(){function e(){}return e.use=function(t,n){var r=t.data,i=this;if(t.type===Mn.TYPE.JSON&&r&&r.cacheID&&r.textures){for(var a=r.textures,u=void 0,l=void 0,f=0,h=a.length;f<h;f++){var d=a[f],v=d.src,_=d.format;if(_||(l=v),e.textureFormats[_]){u=v;break}}if(u=u||l,!u){n(new Error("Cannot load compressed-textures in "+t.url+", make sure you provide a fallback"));return}if(u===t.url){n(new Error("URL of compressed texture cannot be the same as the manifest's URL"));return}var g={crossOrigin:t.crossOrigin,metadata:t.metadata.imageMetadata,parentResource:t},x=bc.resolve(t.url.replace(i.baseUrl,""),u),b=r.cacheID;i.add(b,x,g,function(y){if(y.error){n(y.error);return}var E=y.texture,S=E===void 0?null:E,A=y.textures,L=A===void 0?{}:A;Object.assign(t,{texture:S,textures:L}),n()})}else n()},e.add=function(){var t=document.createElement("canvas"),n=t.getContext("webgl");if(!n){console.warn("WebGL not available for compressed textures. Silently failing.");return}var r={s3tc:n.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:n.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:n.getExtension("WEBGL_compressed_texture_etc"),etc1:n.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:n.getExtension("WEBGL_compressed_texture_atc"),astc:n.getExtension("WEBGL_compressed_texture_astc")};e.textureExtensions=r,e.textureFormats={};for(var i in r){var a=r[i];!a||Object.assign(e.textureFormats,Object.getPrototypeOf(a))}},e}();function XD(e,t,n){var r={textures:{},texture:null};if(!t)return r;var i=t.map(function(a){return new Ye(new At(a,Object.assign({mipmap:Fs.OFF,alphaMode:Jo.NO_PREMULTIPLIED_ALPHA},n)))});return i.forEach(function(a,u){var l=a.baseTexture,f=e+"-"+(u+1);At.addToCache(l,f),Ye.addToCache(a,f),u===0&&(At.addToCache(l,e),Ye.addToCache(a,e),r.texture=a),r.textures[f]=a}),r}var Rv,Ho;Mn.setExtensionXhrType("dds",Mn.XHR_RESPONSE_TYPE.BUFFER);var WC=4,Yg=124,Wne=32,z3=20,jne=542327876,Kg={SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},zne={SIZE:0,FLAGS:1,FOURCC:2,RGB_BITCOUNT:3,R_BIT_MASK:4,G_BIT_MASK:5,B_BIT_MASK:6,A_BIT_MASK:7},Zg={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4},jo;(function(e){e[e.DXGI_FORMAT_UNKNOWN=0]="DXGI_FORMAT_UNKNOWN",e[e.DXGI_FORMAT_R32G32B32A32_TYPELESS=1]="DXGI_FORMAT_R32G32B32A32_TYPELESS",e[e.DXGI_FORMAT_R32G32B32A32_FLOAT=2]="DXGI_FORMAT_R32G32B32A32_FLOAT",e[e.DXGI_FORMAT_R32G32B32A32_UINT=3]="DXGI_FORMAT_R32G32B32A32_UINT",e[e.DXGI_FORMAT_R32G32B32A32_SINT=4]="DXGI_FORMAT_R32G32B32A32_SINT",e[e.DXGI_FORMAT_R32G32B32_TYPELESS=5]="DXGI_FORMAT_R32G32B32_TYPELESS",e[e.DXGI_FORMAT_R32G32B32_FLOAT=6]="DXGI_FORMAT_R32G32B32_FLOAT",e[e.DXGI_FORMAT_R32G32B32_UINT=7]="DXGI_FORMAT_R32G32B32_UINT",e[e.DXGI_FORMAT_R32G32B32_SINT=8]="DXGI_FORMAT_R32G32B32_SINT",e[e.DXGI_FORMAT_R16G16B16A16_TYPELESS=9]="DXGI_FORMAT_R16G16B16A16_TYPELESS",e[e.DXGI_FORMAT_R16G16B16A16_FLOAT=10]="DXGI_FORMAT_R16G16B16A16_FLOAT",e[e.DXGI_FORMAT_R16G16B16A16_UNORM=11]="DXGI_FORMAT_R16G16B16A16_UNORM",e[e.DXGI_FORMAT_R16G16B16A16_UINT=12]="DXGI_FORMAT_R16G16B16A16_UINT",e[e.DXGI_FORMAT_R16G16B16A16_SNORM=13]="DXGI_FORMAT_R16G16B16A16_SNORM",e[e.DXGI_FORMAT_R16G16B16A16_SINT=14]="DXGI_FORMAT_R16G16B16A16_SINT",e[e.DXGI_FORMAT_R32G32_TYPELESS=15]="DXGI_FORMAT_R32G32_TYPELESS",e[e.DXGI_FORMAT_R32G32_FLOAT=16]="DXGI_FORMAT_R32G32_FLOAT",e[e.DXGI_FORMAT_R32G32_UINT=17]="DXGI_FORMAT_R32G32_UINT",e[e.DXGI_FORMAT_R32G32_SINT=18]="DXGI_FORMAT_R32G32_SINT",e[e.DXGI_FORMAT_R32G8X24_TYPELESS=19]="DXGI_FORMAT_R32G8X24_TYPELESS",e[e.DXGI_FORMAT_D32_FLOAT_S8X24_UINT=20]="DXGI_FORMAT_D32_FLOAT_S8X24_UINT",e[e.DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS=21]="DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS",e[e.DXGI_FORMAT_X32_TYPELESS_G8X24_UINT=22]="DXGI_FORMAT_X32_TYPELESS_G8X24_UINT",e[e.DXGI_FORMAT_R10G10B10A2_TYPELESS=23]="DXGI_FORMAT_R10G10B10A2_TYPELESS",e[e.DXGI_FORMAT_R10G10B10A2_UNORM=24]="DXGI_FORMAT_R10G10B10A2_UNORM",e[e.DXGI_FORMAT_R10G10B10A2_UINT=25]="DXGI_FORMAT_R10G10B10A2_UINT",e[e.DXGI_FORMAT_R11G11B10_FLOAT=26]="DXGI_FORMAT_R11G11B10_FLOAT",e[e.DXGI_FORMAT_R8G8B8A8_TYPELESS=27]="DXGI_FORMAT_R8G8B8A8_TYPELESS",e[e.DXGI_FORMAT_R8G8B8A8_UNORM=28]="DXGI_FORMAT_R8G8B8A8_UNORM",e[e.DXGI_FORMAT_R8G8B8A8_UNORM_SRGB=29]="DXGI_FORMAT_R8G8B8A8_UNORM_SRGB",e[e.DXGI_FORMAT_R8G8B8A8_UINT=30]="DXGI_FORMAT_R8G8B8A8_UINT",e[e.DXGI_FORMAT_R8G8B8A8_SNORM=31]="DXGI_FORMAT_R8G8B8A8_SNORM",e[e.DXGI_FORMAT_R8G8B8A8_SINT=32]="DXGI_FORMAT_R8G8B8A8_SINT",e[e.DXGI_FORMAT_R16G16_TYPELESS=33]="DXGI_FORMAT_R16G16_TYPELESS",e[e.DXGI_FORMAT_R16G16_FLOAT=34]="DXGI_FORMAT_R16G16_FLOAT",e[e.DXGI_FORMAT_R16G16_UNORM=35]="DXGI_FORMAT_R16G16_UNORM",e[e.DXGI_FORMAT_R16G16_UINT=36]="DXGI_FORMAT_R16G16_UINT",e[e.DXGI_FORMAT_R16G16_SNORM=37]="DXGI_FORMAT_R16G16_SNORM",e[e.DXGI_FORMAT_R16G16_SINT=38]="DXGI_FORMAT_R16G16_SINT",e[e.DXGI_FORMAT_R32_TYPELESS=39]="DXGI_FORMAT_R32_TYPELESS",e[e.DXGI_FORMAT_D32_FLOAT=40]="DXGI_FORMAT_D32_FLOAT",e[e.DXGI_FORMAT_R32_FLOAT=41]="DXGI_FORMAT_R32_FLOAT",e[e.DXGI_FORMAT_R32_UINT=42]="DXGI_FORMAT_R32_UINT",e[e.DXGI_FORMAT_R32_SINT=43]="DXGI_FORMAT_R32_SINT",e[e.DXGI_FORMAT_R24G8_TYPELESS=44]="DXGI_FORMAT_R24G8_TYPELESS",e[e.DXGI_FORMAT_D24_UNORM_S8_UINT=45]="DXGI_FORMAT_D24_UNORM_S8_UINT",e[e.DXGI_FORMAT_R24_UNORM_X8_TYPELESS=46]="DXGI_FORMAT_R24_UNORM_X8_TYPELESS",e[e.DXGI_FORMAT_X24_TYPELESS_G8_UINT=47]="DXGI_FORMAT_X24_TYPELESS_G8_UINT",e[e.DXGI_FORMAT_R8G8_TYPELESS=48]="DXGI_FORMAT_R8G8_TYPELESS",e[e.DXGI_FORMAT_R8G8_UNORM=49]="DXGI_FORMAT_R8G8_UNORM",e[e.DXGI_FORMAT_R8G8_UINT=50]="DXGI_FORMAT_R8G8_UINT",e[e.DXGI_FORMAT_R8G8_SNORM=51]="DXGI_FORMAT_R8G8_SNORM",e[e.DXGI_FORMAT_R8G8_SINT=52]="DXGI_FORMAT_R8G8_SINT",e[e.DXGI_FORMAT_R16_TYPELESS=53]="DXGI_FORMAT_R16_TYPELESS",e[e.DXGI_FORMAT_R16_FLOAT=54]="DXGI_FORMAT_R16_FLOAT",e[e.DXGI_FORMAT_D16_UNORM=55]="DXGI_FORMAT_D16_UNORM",e[e.DXGI_FORMAT_R16_UNORM=56]="DXGI_FORMAT_R16_UNORM",e[e.DXGI_FORMAT_R16_UINT=57]="DXGI_FORMAT_R16_UINT",e[e.DXGI_FORMAT_R16_SNORM=58]="DXGI_FORMAT_R16_SNORM",e[e.DXGI_FORMAT_R16_SINT=59]="DXGI_FORMAT_R16_SINT",e[e.DXGI_FORMAT_R8_TYPELESS=60]="DXGI_FORMAT_R8_TYPELESS",e[e.DXGI_FORMAT_R8_UNORM=61]="DXGI_FORMAT_R8_UNORM",e[e.DXGI_FORMAT_R8_UINT=62]="DXGI_FORMAT_R8_UINT",e[e.DXGI_FORMAT_R8_SNORM=63]="DXGI_FORMAT_R8_SNORM",e[e.DXGI_FORMAT_R8_SINT=64]="DXGI_FORMAT_R8_SINT",e[e.DXGI_FORMAT_A8_UNORM=65]="DXGI_FORMAT_A8_UNORM",e[e.DXGI_FORMAT_R1_UNORM=66]="DXGI_FORMAT_R1_UNORM",e[e.DXGI_FORMAT_R9G9B9E5_SHAREDEXP=67]="DXGI_FORMAT_R9G9B9E5_SHAREDEXP",e[e.DXGI_FORMAT_R8G8_B8G8_UNORM=68]="DXGI_FORMAT_R8G8_B8G8_UNORM",e[e.DXGI_FORMAT_G8R8_G8B8_UNORM=69]="DXGI_FORMAT_G8R8_G8B8_UNORM",e[e.DXGI_FORMAT_BC1_TYPELESS=70]="DXGI_FORMAT_BC1_TYPELESS",e[e.DXGI_FORMAT_BC1_UNORM=71]="DXGI_FORMAT_BC1_UNORM",e[e.DXGI_FORMAT_BC1_UNORM_SRGB=72]="DXGI_FORMAT_BC1_UNORM_SRGB",e[e.DXGI_FORMAT_BC2_TYPELESS=73]="DXGI_FORMAT_BC2_TYPELESS",e[e.DXGI_FORMAT_BC2_UNORM=74]="DXGI_FORMAT_BC2_UNORM",e[e.DXGI_FORMAT_BC2_UNORM_SRGB=75]="DXGI_FORMAT_BC2_UNORM_SRGB",e[e.DXGI_FORMAT_BC3_TYPELESS=76]="DXGI_FORMAT_BC3_TYPELESS",e[e.DXGI_FORMAT_BC3_UNORM=77]="DXGI_FORMAT_BC3_UNORM",e[e.DXGI_FORMAT_BC3_UNORM_SRGB=78]="DXGI_FORMAT_BC3_UNORM_SRGB",e[e.DXGI_FORMAT_BC4_TYPELESS=79]="DXGI_FORMAT_BC4_TYPELESS",e[e.DXGI_FORMAT_BC4_UNORM=80]="DXGI_FORMAT_BC4_UNORM",e[e.DXGI_FORMAT_BC4_SNORM=81]="DXGI_FORMAT_BC4_SNORM",e[e.DXGI_FORMAT_BC5_TYPELESS=82]="DXGI_FORMAT_BC5_TYPELESS",e[e.DXGI_FORMAT_BC5_UNORM=83]="DXGI_FORMAT_BC5_UNORM",e[e.DXGI_FORMAT_BC5_SNORM=84]="DXGI_FORMAT_BC5_SNORM",e[e.DXGI_FORMAT_B5G6R5_UNORM=85]="DXGI_FORMAT_B5G6R5_UNORM",e[e.DXGI_FORMAT_B5G5R5A1_UNORM=86]="DXGI_FORMAT_B5G5R5A1_UNORM",e[e.DXGI_FORMAT_B8G8R8A8_UNORM=87]="DXGI_FORMAT_B8G8R8A8_UNORM",e[e.DXGI_FORMAT_B8G8R8X8_UNORM=88]="DXGI_FORMAT_B8G8R8X8_UNORM",e[e.DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM=89]="DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM",e[e.DXGI_FORMAT_B8G8R8A8_TYPELESS=90]="DXGI_FORMAT_B8G8R8A8_TYPELESS",e[e.DXGI_FORMAT_B8G8R8A8_UNORM_SRGB=91]="DXGI_FORMAT_B8G8R8A8_UNORM_SRGB",e[e.DXGI_FORMAT_B8G8R8X8_TYPELESS=92]="DXGI_FORMAT_B8G8R8X8_TYPELESS",e[e.DXGI_FORMAT_B8G8R8X8_UNORM_SRGB=93]="DXGI_FORMAT_B8G8R8X8_UNORM_SRGB",e[e.DXGI_FORMAT_BC6H_TYPELESS=94]="DXGI_FORMAT_BC6H_TYPELESS",e[e.DXGI_FORMAT_BC6H_UF16=95]="DXGI_FORMAT_BC6H_UF16",e[e.DXGI_FORMAT_BC6H_SF16=96]="DXGI_FORMAT_BC6H_SF16",e[e.DXGI_FORMAT_BC7_TYPELESS=97]="DXGI_FORMAT_BC7_TYPELESS",e[e.DXGI_FORMAT_BC7_UNORM=98]="DXGI_FORMAT_BC7_UNORM",e[e.DXGI_FORMAT_BC7_UNORM_SRGB=99]="DXGI_FORMAT_BC7_UNORM_SRGB",e[e.DXGI_FORMAT_AYUV=100]="DXGI_FORMAT_AYUV",e[e.DXGI_FORMAT_Y410=101]="DXGI_FORMAT_Y410",e[e.DXGI_FORMAT_Y416=102]="DXGI_FORMAT_Y416",e[e.DXGI_FORMAT_NV12=103]="DXGI_FORMAT_NV12",e[e.DXGI_FORMAT_P010=104]="DXGI_FORMAT_P010",e[e.DXGI_FORMAT_P016=105]="DXGI_FORMAT_P016",e[e.DXGI_FORMAT_420_OPAQUE=106]="DXGI_FORMAT_420_OPAQUE",e[e.DXGI_FORMAT_YUY2=107]="DXGI_FORMAT_YUY2",e[e.DXGI_FORMAT_Y210=108]="DXGI_FORMAT_Y210",e[e.DXGI_FORMAT_Y216=109]="DXGI_FORMAT_Y216",e[e.DXGI_FORMAT_NV11=110]="DXGI_FORMAT_NV11",e[e.DXGI_FORMAT_AI44=111]="DXGI_FORMAT_AI44",e[e.DXGI_FORMAT_IA44=112]="DXGI_FORMAT_IA44",e[e.DXGI_FORMAT_P8=113]="DXGI_FORMAT_P8",e[e.DXGI_FORMAT_A8P8=114]="DXGI_FORMAT_A8P8",e[e.DXGI_FORMAT_B4G4R4A4_UNORM=115]="DXGI_FORMAT_B4G4R4A4_UNORM",e[e.DXGI_FORMAT_P208=116]="DXGI_FORMAT_P208",e[e.DXGI_FORMAT_V208=117]="DXGI_FORMAT_V208",e[e.DXGI_FORMAT_V408=118]="DXGI_FORMAT_V408",e[e.DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE=119]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE",e[e.DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE=120]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE",e[e.DXGI_FORMAT_FORCE_UINT=121]="DXGI_FORMAT_FORCE_UINT"})(jo||(jo={}));var zI;(function(e){e[e.DDS_DIMENSION_TEXTURE1D=2]="DDS_DIMENSION_TEXTURE1D",e[e.DDS_DIMENSION_TEXTURE2D=3]="DDS_DIMENSION_TEXTURE2D",e[e.DDS_DIMENSION_TEXTURE3D=6]="DDS_DIMENSION_TEXTURE3D"})(zI||(zI={}));var Xne=1,Vne=2,qne=4,Yne=64,Kne=512,Zne=131072,Jne=827611204,Qne=861165636,ere=894720068,tre=808540228,nre=4,rre=(Rv={},Rv[Jne]=dt.COMPRESSED_RGBA_S3TC_DXT1_EXT,Rv[Qne]=dt.COMPRESSED_RGBA_S3TC_DXT3_EXT,Rv[ere]=dt.COMPRESSED_RGBA_S3TC_DXT5_EXT,Rv),ire=(Ho={},Ho[jo.DXGI_FORMAT_BC1_TYPELESS]=dt.COMPRESSED_RGBA_S3TC_DXT1_EXT,Ho[jo.DXGI_FORMAT_BC1_UNORM]=dt.COMPRESSED_RGBA_S3TC_DXT1_EXT,Ho[jo.DXGI_FORMAT_BC2_TYPELESS]=dt.COMPRESSED_RGBA_S3TC_DXT3_EXT,Ho[jo.DXGI_FORMAT_BC2_UNORM]=dt.COMPRESSED_RGBA_S3TC_DXT3_EXT,Ho[jo.DXGI_FORMAT_BC3_TYPELESS]=dt.COMPRESSED_RGBA_S3TC_DXT5_EXT,Ho[jo.DXGI_FORMAT_BC3_UNORM]=dt.COMPRESSED_RGBA_S3TC_DXT5_EXT,Ho[jo.DXGI_FORMAT_BC1_UNORM_SRGB]=dt.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,Ho[jo.DXGI_FORMAT_BC2_UNORM_SRGB]=dt.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,Ho[jo.DXGI_FORMAT_BC3_UNORM_SRGB]=dt.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,Ho),ore=function(){function e(){}return e.use=function(t,n){if(t.extension==="dds"&&t.data)try{Object.assign(t,XD(t.name||t.url,e.parse(t.data),t.metadata))}catch(r){n(r);return}n()},e.parse=function(t){var n=new Uint32Array(t),r=n[0];if(r!==jne)throw new Error("Invalid DDS file magic word");var i=new Uint32Array(t,0,Yg/Uint32Array.BYTES_PER_ELEMENT),a=i[Kg.HEIGHT],u=i[Kg.WIDTH],l=i[Kg.MIPMAP_COUNT],f=new Uint32Array(t,Kg.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,Wne/Uint32Array.BYTES_PER_ELEMENT),h=f[Xne];if(h&qne){var d=f[zne.FOURCC];if(d!==tre){var v=rre[d],_=WC+Yg,g=new Uint8Array(t,_),x=new jI(g,{format:v,width:u,height:a,levels:l});return[x]}var b=WC+Yg,y=new Uint32Array(n.buffer,b,z3/Uint32Array.BYTES_PER_ELEMENT),E=y[Zg.DXGI_FORMAT],S=y[Zg.RESOURCE_DIMENSION],A=y[Zg.MISC_FLAG],L=y[Zg.ARRAY_SIZE],P=ire[E];if(P===void 0)throw new Error("DDSLoader cannot parse texture data with DXGI format "+E);if(A===nre)throw new Error("DDSLoader does not support cubemap textures");if(S===zI.DDS_DIMENSION_TEXTURE3D)throw new Error("DDSLoader does not supported 3D texture data");var R=new Array,D=WC+Yg+z3;if(L===1)R.push(new Uint8Array(t,D));else{for(var $=g0[P],U=0,K=u,ie=a,re=0;re<l;re++){var ve=Math.max(1,K+3&-4),Ge=Math.max(1,ie+3&-4),ae=ve*Ge*$;U+=ae,K=K>>>1,ie=ie>>>1}for(var ce=D,re=0;re<L;re++)R.push(new Uint8Array(t,ce,U)),ce+=U}return R.map(function(me){return new jI(me,{format:P,width:u,height:a,levels:l})})}throw h&Yne?new Error("DDSLoader does not support uncompressed texture data."):h&Kne?new Error("DDSLoader does not supported YUV uncompressed texture data."):h&Zne?new Error("DDSLoader does not support single-channel (lumninance) texture data!"):h&Vne?new Error("DDSLoader does not support single-channel (alpha) texture data!"):new Error("DDSLoader failed to load a texture file due to an unknown reason!")},e}(),Hs,ms,Ov;Mn.setExtensionXhrType("ktx",Mn.XHR_RESPONSE_TYPE.BUFFER);var X3=[171,75,84,88,32,49,49,187,13,10,26,10],are=67305985,Wo={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},sre=64,V3=(Hs={},Hs[Ve.UNSIGNED_BYTE]=1,Hs[Ve.UNSIGNED_SHORT]=2,Hs[Ve.INT]=4,Hs[Ve.UNSIGNED_INT]=4,Hs[Ve.FLOAT]=4,Hs[Ve.HALF_FLOAT]=8,Hs),ure=(ms={},ms[be.RGBA]=4,ms[be.RGB]=3,ms[be.RG]=2,ms[be.RED]=1,ms[be.LUMINANCE]=1,ms[be.LUMINANCE_ALPHA]=2,ms[be.ALPHA]=1,ms),lre=(Ov={},Ov[Ve.UNSIGNED_SHORT_4_4_4_4]=2,Ov[Ve.UNSIGNED_SHORT_5_5_5_1]=2,Ov[Ve.UNSIGNED_SHORT_5_6_5]=2,Ov),fre=function(){function e(){}return e.use=function(t,n){if(t.extension==="ktx"&&t.data)try{var r=t.name||t.url,i=e.parse(r,t.data),a=i.compressed,u=i.uncompressed;if(a)Object.assign(t,XD(r,a,t.metadata));else if(u){var l={};u.forEach(function(f,h){var d=new Ye(new At(f.resource,{mipmap:Fs.OFF,alphaMode:Jo.NO_PREMULTIPLIED_ALPHA,type:f.type,format:f.format})),v=r+"-"+(h+1);At.addToCache(d.baseTexture,v),Ye.addToCache(d,v),h===0&&(l[r]=d,At.addToCache(d.baseTexture,r),Ye.addToCache(d,r)),l[v]=d}),Object.assign(t,{textures:l})}}catch(f){n(f);return}n()},e.parse=function(t,n){var r=new DataView(n);if(!e.validate(t,r))return null;var i=r.getUint32(Wo.ENDIANNESS,!0)===are,a=r.getUint32(Wo.GL_TYPE,i),u=r.getUint32(Wo.GL_FORMAT,i),l=r.getUint32(Wo.GL_INTERNAL_FORMAT,i),f=r.getUint32(Wo.PIXEL_WIDTH,i),h=r.getUint32(Wo.PIXEL_HEIGHT,i)||1,d=r.getUint32(Wo.PIXEL_DEPTH,i)||1,v=r.getUint32(Wo.NUMBER_OF_ARRAY_ELEMENTS,i)||1,_=r.getUint32(Wo.NUMBER_OF_FACES,i),g=r.getUint32(Wo.NUMBER_OF_MIPMAP_LEVELS,i),x=r.getUint32(Wo.BYTES_OF_KEY_VALUE_DATA,i);if(h===0||d!==1)throw new Error("Only 2D textures are supported");if(_!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(v!==1)throw new Error("WebGL does not support array textures");var b=4,y=4,E=f+3&-4,S=h+3&-4,A=new Array(v),L=f*h;a===0&&(L=E*S);var P;if(a!==0?V3[a]?P=V3[a]*ure[u]:P=lre[a]:P=g0[l],P===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");for(var R=L*P,D=R,$=f,U=h,K=E,ie=S,re=sre+x,ve=0;ve<g;ve++){for(var Ge=r.getUint32(re,i),ae=re+4,ce=0;ce<v;ce++){var me=A[ce];me||(me=A[ce]=new Array(g)),me[ve]={levelID:ve,levelWidth:g>1||a!==0?$:K,levelHeight:g>1||a!==0?U:ie,levelBuffer:new Uint8Array(n,ae,D)},ae+=D}re+=Ge+4,re=re%4!==0?re+4-re%4:re,$=$>>1||1,U=U>>1||1,K=$+b-1&~(b-1),ie=U+y-1&~(y-1),D=K*ie*P}return a!==0?{uncompressed:A.map(function(Oe){var pt=Oe[0].levelBuffer,te=!1;return a===Ve.FLOAT?pt=new Float32Array(Oe[0].levelBuffer.buffer,Oe[0].levelBuffer.byteOffset,Oe[0].levelBuffer.byteLength/4):a===Ve.UNSIGNED_INT?(te=!0,pt=new Uint32Array(Oe[0].levelBuffer.buffer,Oe[0].levelBuffer.byteOffset,Oe[0].levelBuffer.byteLength/4)):a===Ve.INT&&(te=!0,pt=new Int32Array(Oe[0].levelBuffer.buffer,Oe[0].levelBuffer.byteOffset,Oe[0].levelBuffer.byteLength/4)),{resource:new Ah(pt,{width:Oe[0].levelWidth,height:Oe[0].levelHeight}),type:a,format:te?e.convertFormatToInteger(u):u}})}:{compressed:A.map(function(Oe){return new jI(null,{format:l,width:f,height:h,levels:g,levelBuffers:Oe})})}},e.validate=function(t,n){for(var r=0;r<X3.length;r++)if(n.getUint8(r)!==X3[r])return console.error(t+" is not a valid *.ktx file!"),!1;return!0},e.convertFormatToInteger=function(t){switch(t){case be.RGBA:return be.RGBA_INTEGER;case be.RGB:return be.RGB_INTEGER;case be.RG:return be.RG_INTEGER;case be.RED:return be.RED_INTEGER;default:return t}},e}();/*!
 * @pixi/particle-container - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/particle-container is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var XI=function(e,t){return XI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},XI(e,t)};function VD(e,t){XI(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}(function(e){VD(t,e);function t(n,r,i,a){n===void 0&&(n=1500),i===void 0&&(i=16384),a===void 0&&(a=!1);var u=e.call(this)||this,l=16384;return i>l&&(i=l),u._properties=[!1,!0,!1,!1,!1],u._maxSize=n,u._batchSize=i,u._buffers=null,u._bufferUpdateIDs=[],u._updateID=0,u.interactiveChildren=!1,u.blendMode=qe.NORMAL,u.autoResize=a,u.roundPixels=!0,u.baseTexture=null,u.setProperties(r),u._tint=0,u.tintRgb=new Float32Array(4),u.tint=16777215,u}return t.prototype.setProperties=function(n){n&&(this._properties[0]="vertices"in n||"scale"in n?!!n.vertices||!!n.scale:this._properties[0],this._properties[1]="position"in n?!!n.position:this._properties[1],this._properties[2]="rotation"in n?!!n.rotation:this._properties[2],this._properties[3]="uvs"in n?!!n.uvs:this._properties[3],this._properties[4]="tint"in n||"alpha"in n?!!n.tint||!!n.alpha:this._properties[4])},t.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(n){this._tint=n,eh(n,this.tintRgb)},enumerable:!1,configurable:!0}),t.prototype.render=function(n){var r=this;!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",function(){return r.onChildrenChange(0)})),n.batch.setObjectRenderer(n.plugins.particle),n.plugins.particle.render(this))},t.prototype.onChildrenChange=function(n){for(var r=Math.floor(n/this._batchSize);this._bufferUpdateIDs.length<r;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[r]=++this._updateID},t.prototype.dispose=function(){if(this._buffers){for(var n=0;n<this._buffers.length;++n)this._buffers[n].destroy();this._buffers=null}},t.prototype.destroy=function(n){e.prototype.destroy.call(this,n),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},t})($r);var q3=function(){function e(t,n,r){this.geometry=new lg,this.indexBuffer=null,this.size=r,this.dynamicProperties=[],this.staticProperties=[];for(var i=0;i<t.length;++i){var a=t[i];a={attributeName:a.attributeName,size:a.size,uploadFunction:a.uploadFunction,type:a.type||Ve.FLOAT,offset:a.offset},n[i]?this.dynamicProperties.push(a):this.staticProperties.push(a)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return e.prototype.initBuffers=function(){var t=this.geometry,n=0;this.indexBuffer=new cr(Mee(this.size),!0,!0),t.addIndex(this.indexBuffer),this.dynamicStride=0;for(var r=0;r<this.dynamicProperties.length;++r){var i=this.dynamicProperties[r];i.offset=n,n+=i.size,this.dynamicStride+=i.size}var a=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(a),this.dynamicDataUint32=new Uint32Array(a),this.dynamicBuffer=new cr(this.dynamicData,!1,!1);var u=0;this.staticStride=0;for(var r=0;r<this.staticProperties.length;++r){var i=this.staticProperties[r];i.offset=u,u+=i.size,this.staticStride+=i.size}var l=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(l),this.staticDataUint32=new Uint32Array(l),this.staticBuffer=new cr(this.staticData,!0,!1);for(var r=0;r<this.dynamicProperties.length;++r){var i=this.dynamicProperties[r];t.addAttribute(i.attributeName,this.dynamicBuffer,0,i.type===Ve.UNSIGNED_BYTE,i.type,this.dynamicStride*4,i.offset*4)}for(var r=0;r<this.staticProperties.length;++r){var i=this.staticProperties[r];t.addAttribute(i.attributeName,this.staticBuffer,0,i.type===Ve.UNSIGNED_BYTE,i.type,this.staticStride*4,i.offset*4)}},e.prototype.uploadDynamic=function(t,n,r){for(var i=0;i<this.dynamicProperties.length;i++){var a=this.dynamicProperties[i];a.uploadFunction(t,n,r,a.type===Ve.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,a.offset)}this.dynamicBuffer._updateID++},e.prototype.uploadStatic=function(t,n,r){for(var i=0;i<this.staticProperties.length;i++){var a=this.staticProperties[i];a.uploadFunction(t,n,r,a.type===Ve.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,a.offset)}this.staticBuffer._updateID++},e.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()},e}(),cre=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,hre=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`,dre=function(e){VD(t,e);function t(n){var r=e.call(this,n)||this;return r.shader=null,r.properties=null,r.tempMatrix=new qn,r.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:r.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:r.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:r.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:r.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:Ve.UNSIGNED_BYTE,uploadFunction:r.uploadTint,offset:0}],r.shader=lu.from(hre,cre,{}),r.state=$f.for2d(),r}return t.prototype.render=function(n){var r=n.children,i=n._maxSize,a=n._batchSize,u=this.renderer,l=r.length;if(l!==0){l>i&&!n.autoResize&&(l=i);var f=n._buffers;f||(f=n._buffers=this.generateBuffers(n));var h=r[0]._texture.baseTexture;this.state.blendMode=aD(n.blendMode,h.alphaMode),u.state.set(this.state);var d=u.gl,v=n.worldTransform.copyTo(this.tempMatrix);v.prepend(u.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=v.toArray(!0),this.shader.uniforms.uColor=Dee(n.tintRgb,n.worldAlpha,this.shader.uniforms.uColor,h.alphaMode),this.shader.uniforms.uSampler=h,this.renderer.shader.bind(this.shader);for(var _=!1,g=0,x=0;g<l;g+=a,x+=1){var b=l-g;b>a&&(b=a),x>=f.length&&f.push(this._generateOneMoreBuffer(n));var y=f[x];y.uploadDynamic(r,g,b);var E=n._bufferUpdateIDs[x]||0;_=_||y._updateID<E,_&&(y._updateID=n._updateID,y.uploadStatic(r,g,b)),u.geometry.bind(y.geometry),d.drawElements(d.TRIANGLES,b*6,d.UNSIGNED_SHORT,0)}}},t.prototype.generateBuffers=function(n){for(var r=[],i=n._maxSize,a=n._batchSize,u=n._properties,l=0;l<i;l+=a)r.push(new q3(this.properties,u,a));return r},t.prototype._generateOneMoreBuffer=function(n){var r=n._batchSize,i=n._properties;return new q3(this.properties,i,r)},t.prototype.uploadVertices=function(n,r,i,a,u,l){for(var f=0,h=0,d=0,v=0,_=0;_<i;++_){var g=n[r+_],x=g._texture,b=g.scale.x,y=g.scale.y,E=x.trim,S=x.orig;E?(h=E.x-g.anchor.x*S.width,f=h+E.width,v=E.y-g.anchor.y*S.height,d=v+E.height):(f=S.width*(1-g.anchor.x),h=S.width*-g.anchor.x,d=S.height*(1-g.anchor.y),v=S.height*-g.anchor.y),a[l]=h*b,a[l+1]=v*y,a[l+u]=f*b,a[l+u+1]=v*y,a[l+u*2]=f*b,a[l+u*2+1]=d*y,a[l+u*3]=h*b,a[l+u*3+1]=d*y,l+=u*4}},t.prototype.uploadPosition=function(n,r,i,a,u,l){for(var f=0;f<i;f++){var h=n[r+f].position;a[l]=h.x,a[l+1]=h.y,a[l+u]=h.x,a[l+u+1]=h.y,a[l+u*2]=h.x,a[l+u*2+1]=h.y,a[l+u*3]=h.x,a[l+u*3+1]=h.y,l+=u*4}},t.prototype.uploadRotation=function(n,r,i,a,u,l){for(var f=0;f<i;f++){var h=n[r+f].rotation;a[l]=h,a[l+u]=h,a[l+u*2]=h,a[l+u*3]=h,l+=u*4}},t.prototype.uploadUvs=function(n,r,i,a,u,l){for(var f=0;f<i;++f){var h=n[r+f]._texture._uvs;h?(a[l]=h.x0,a[l+1]=h.y0,a[l+u]=h.x1,a[l+u+1]=h.y1,a[l+u*2]=h.x2,a[l+u*2+1]=h.y2,a[l+u*3]=h.x3,a[l+u*3+1]=h.y3,l+=u*4):(a[l]=0,a[l+1]=0,a[l+u]=0,a[l+u+1]=0,a[l+u*2]=0,a[l+u*2+1]=0,a[l+u*3]=0,a[l+u*3+1]=0,l+=u*4)}},t.prototype.uploadTint=function(n,r,i,a,u,l){for(var f=0;f<i;++f){var h=n[r+f],d=h._texture.baseTexture.alphaMode>0,v=h.alpha,_=v<1&&d?hR(h._tintRGB,v):h._tintRGB+(v*255<<24);a[l]=_,a[l+u]=_,a[l+u*2]=_,a[l+u*3]=_,l+=u*4}},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},t}(py);/*!
 * @pixi/graphics - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/graphics is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Ks;(function(e){e.MITER="miter",e.BEVEL="bevel",e.ROUND="round"})(Ks||(Ks={}));var Zs;(function(e){e.BUTT="butt",e.ROUND="round",e.SQUARE="square"})(Zs||(Zs={}));var M_={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(e,t){if(t===void 0&&(t=20),!this.adaptive||!e||isNaN(e))return t;var n=Math.ceil(e/this.maxLength);return n<this.minSegments?n=this.minSegments:n>this.maxSegments&&(n=this.maxSegments),n}},qD=function(){function e(){this.color=16777215,this.alpha=1,this.texture=Ye.WHITE,this.matrix=null,this.visible=!1,this.reset()}return e.prototype.clone=function(){var t=new e;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t},e.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=Ye.WHITE,this.matrix=null,this.visible=!1},e.prototype.destroy=function(){this.texture=null,this.matrix=null},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var VI=function(e,t){return VI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},VI(e,t)};function xR(e,t){VI(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function Y3(e,t){var n,r;t===void 0&&(t=!1);var i=e.length;if(!(i<6)){for(var a=0,u=0,l=e[i-2],f=e[i-1];u<i;u+=2){var h=e[u],d=e[u+1];a+=(h-l)*(d+f),l=h,f=d}if(!t&&a>0||t&&a<=0)for(var v=i/2,u=v+v%2;u<i;u+=2){var _=i-u-2,g=i-u-1,x=u,b=u+1;n=[e[x],e[_]],e[_]=n[0],e[x]=n[1],r=[e[b],e[g]],e[g]=r[0],e[b]=r[1]}}}var YD={build:function(e){e.points=e.shape.points.slice()},triangulate:function(e,t){var n=e.points,r=e.holes,i=t.points,a=t.indices;if(n.length>=6){Y3(n,!1);for(var u=[],l=0;l<r.length;l++){var f=r[l];Y3(f.points,!0),u.push(n.length/2),n=n.concat(f.points)}var h=nD(n,u,2);if(!h)return;for(var d=i.length/2,l=0;l<h.length;l+=3)a.push(h[l]+d),a.push(h[l+1]+d),a.push(h[l+2]+d);for(var l=0;l<n.length;l++)i.push(n[l])}}},m0={build:function(e){var t=e.points,n,r,i,a,u,l;if(e.type===Dn.CIRC){var f=e.shape;n=f.x,r=f.y,u=l=f.radius,i=a=0}else if(e.type===Dn.ELIP){var h=e.shape;n=h.x,r=h.y,u=h.width,l=h.height,i=a=0}else{var d=e.shape,v=d.width/2,_=d.height/2;n=d.x+v,r=d.y+_,u=l=Math.max(0,Math.min(d.radius,Math.min(v,_))),i=v-u,a=_-l}var g=Math.ceil(2.3*Math.sqrt(u+l)),x=g*8+(i?4:0)+(a?4:0);if(t.length=x,x!==0){if(g===0){t.length=8,t[0]=t[6]=n+i,t[1]=t[3]=r+a,t[2]=t[4]=n-i,t[5]=t[7]=r-a;return}var b=0,y=g*4+(i?2:0)+2,E=y,S=x;{var A=i+u,L=a,P=n+A,R=n-A,D=r+L;if(t[b++]=P,t[b++]=D,t[--y]=D,t[--y]=R,a){var $=r-L;t[E++]=R,t[E++]=$,t[--S]=$,t[--S]=P}}for(var U=1;U<g;U++){var K=Math.PI/2*(U/g),A=i+Math.cos(K)*u,L=a+Math.sin(K)*l,P=n+A,R=n-A,D=r+L,$=r-L;t[b++]=P,t[b++]=D,t[--y]=D,t[--y]=R,t[E++]=R,t[E++]=$,t[--S]=$,t[--S]=P}{var A=i,L=a+l,P=n+A,R=n-A,D=r+L,$=r-L;t[b++]=P,t[b++]=D,t[--S]=$,t[--S]=P,i&&(t[b++]=R,t[b++]=D,t[--S]=$,t[--S]=R)}}},triangulate:function(e,t){var n=e.points,r=t.points,i=t.indices,a=r.length/2,u=a,l,f;if(e.type!==Dn.RREC){var h=e.shape;l=h.x,f=h.y}else{var d=e.shape;l=d.x+d.width/2,f=d.y+d.height/2}var v=e.matrix;r.push(e.matrix?v.a*l+v.c*f+v.tx:l,e.matrix?v.b*l+v.d*f+v.ty:f),a++,r.push(n[0],n[1]);for(var _=2;_<n.length;_+=2)r.push(n[_],n[_+1]),i.push(a++,u,a);i.push(u+1,u,a)}},pre={build:function(e){var t=e.shape,n=t.x,r=t.y,i=t.width,a=t.height,u=e.points;u.length=0,u.push(n,r,n+i,r,n+i,r+a,n,r+a)},triangulate:function(e,t){var n=e.points,r=t.points,i=r.length/2;r.push(n[0],n[1],n[2],n[3],n[6],n[7],n[4],n[5]),t.indices.push(i,i+1,i+2,i+1,i+2,i+3)}};function ic(e,t,n){var r=t-e;return e+r*n}function Jg(e,t,n,r,i,a,u){u===void 0&&(u=[]);for(var l=20,f=u,h=0,d=0,v=0,_=0,g=0,x=0,b=0,y=0;b<=l;++b)y=b/l,h=ic(e,n,y),d=ic(t,r,y),v=ic(n,i,y),_=ic(r,a,y),g=ic(h,v,y),x=ic(d,_,y),!(b===0&&f[f.length-2]===g&&f[f.length-1]===x)&&f.push(g,x);return f}var vre={build:function(e){if(y0.nextRoundedRectBehavior){m0.build(e);return}var t=e.shape,n=e.points,r=t.x,i=t.y,a=t.width,u=t.height,l=Math.max(0,Math.min(t.radius,Math.min(a,u)/2));n.length=0,l?(Jg(r,i+l,r,i,r+l,i,n),Jg(r+a-l,i,r+a,i,r+a,i+l,n),Jg(r+a,i+u-l,r+a,i+u,r+a-l,i+u,n),Jg(r+l,i+u,r,i+u,r,i+u-l,n)):n.push(r,i,r+a,i,r+a,i+u,r,i+u)},triangulate:function(e,t){if(y0.nextRoundedRectBehavior){m0.triangulate(e,t);return}for(var n=e.points,r=t.points,i=t.indices,a=r.length/2,u=nD(n,null,2),l=0,f=u.length;l<f;l+=3)i.push(u[l]+a),i.push(u[l+1]+a),i.push(u[l+2]+a);for(var l=0,f=n.length;l<f;l++)r.push(n[l],n[++l])}};function K3(e,t,n,r,i,a,u,l){var f=e-n*i,h=t-r*i,d=e+n*a,v=t+r*a,_,g;u?(_=r,g=-n):(_=-r,g=n);var x=f+_,b=h+g,y=d+_,E=v+g;return l.push(x,b),l.push(y,E),2}function oc(e,t,n,r,i,a,u,l){var f=n-e,h=r-t,d=Math.atan2(f,h),v=Math.atan2(i-e,a-t);l&&d<v?d+=Math.PI*2:!l&&d>v&&(v+=Math.PI*2);var _=d,g=v-d,x=Math.abs(g),b=Math.sqrt(f*f+h*h),y=(15*x*Math.sqrt(b)/Math.PI>>0)+1,E=g/y;if(_+=E,l){u.push(e,t),u.push(n,r);for(var S=1,A=_;S<y;S++,A+=E)u.push(e,t),u.push(e+Math.sin(A)*b,t+Math.cos(A)*b);u.push(e,t),u.push(i,a)}else{u.push(n,r),u.push(e,t);for(var S=1,A=_;S<y;S++,A+=E)u.push(e+Math.sin(A)*b,t+Math.cos(A)*b),u.push(e,t);u.push(i,a),u.push(e,t)}return y*2}function _re(e,t){var n=e.shape,r=e.points||n.points.slice(),i=t.closePointEps;if(r.length!==0){var a=e.lineStyle,u=new bn(r[0],r[1]),l=new bn(r[r.length-2],r[r.length-1]),f=n.type!==Dn.POLY||n.closeStroke,h=Math.abs(u.x-l.x)<i&&Math.abs(u.y-l.y)<i;if(f){r=r.slice(),h&&(r.pop(),r.pop(),l.set(r[r.length-2],r[r.length-1]));var d=(u.x+l.x)*.5,v=(l.y+u.y)*.5;r.unshift(d,v),r.push(d,v)}var _=t.points,g=r.length/2,x=r.length,b=_.length/2,y=a.width/2,E=y*y,S=a.miterLimit*a.miterLimit,A=r[0],L=r[1],P=r[2],R=r[3],D=0,$=0,U=-(L-R),K=A-P,ie=0,re=0,ve=Math.sqrt(U*U+K*K);U/=ve,K/=ve,U*=y,K*=y;var Ge=a.alignment,ae=(1-Ge)*2,ce=Ge*2;f||(a.cap===Zs.ROUND?x+=oc(A-U*(ae-ce)*.5,L-K*(ae-ce)*.5,A-U*ae,L-K*ae,A+U*ce,L+K*ce,_,!0)+2:a.cap===Zs.SQUARE&&(x+=K3(A,L,U,K,ae,ce,!0,_))),_.push(A-U*ae,L-K*ae),_.push(A+U*ce,L+K*ce);for(var me=1;me<g-1;++me){A=r[(me-1)*2],L=r[(me-1)*2+1],P=r[me*2],R=r[me*2+1],D=r[(me+1)*2],$=r[(me+1)*2+1],U=-(L-R),K=A-P,ve=Math.sqrt(U*U+K*K),U/=ve,K/=ve,U*=y,K*=y,ie=-(R-$),re=P-D,ve=Math.sqrt(ie*ie+re*re),ie/=ve,re/=ve,ie*=y,re*=y;var Oe=P-A,pt=L-R,te=P-D,Y=$-R,ue=pt*te-Y*Oe,Se=ue<0;if(Math.abs(ue)<.1){_.push(P-U*ae,R-K*ae),_.push(P+U*ce,R+K*ce);continue}var ke=(-U+A)*(-K+R)-(-U+P)*(-K+L),Be=(-ie+D)*(-re+R)-(-ie+P)*(-re+$),Qe=(Oe*Be-te*ke)/ue,It=(Y*ke-pt*Be)/ue,mt=(Qe-P)*(Qe-P)+(It-R)*(It-R),ot=P+(Qe-P)*ae,Yt=R+(It-R)*ae,ft=P-(Qe-P)*ce,yt=R-(It-R)*ce,nt=Math.min(Oe*Oe+pt*pt,te*te+Y*Y),ut=Se?ae:ce,vt=nt+ut*ut*E,ht=mt<=vt;ht?a.join===Ks.BEVEL||mt/E>S?(Se?(_.push(ot,Yt),_.push(P+U*ce,R+K*ce),_.push(ot,Yt),_.push(P+ie*ce,R+re*ce)):(_.push(P-U*ae,R-K*ae),_.push(ft,yt),_.push(P-ie*ae,R-re*ae),_.push(ft,yt)),x+=2):a.join===Ks.ROUND?Se?(_.push(ot,Yt),_.push(P+U*ce,R+K*ce),x+=oc(P,R,P+U*ce,R+K*ce,P+ie*ce,R+re*ce,_,!0)+4,_.push(ot,Yt),_.push(P+ie*ce,R+re*ce)):(_.push(P-U*ae,R-K*ae),_.push(ft,yt),x+=oc(P,R,P-U*ae,R-K*ae,P-ie*ae,R-re*ae,_,!1)+4,_.push(P-ie*ae,R-re*ae),_.push(ft,yt)):(_.push(ot,Yt),_.push(ft,yt)):(_.push(P-U*ae,R-K*ae),_.push(P+U*ce,R+K*ce),a.join===Ks.BEVEL||mt/E>S||(a.join===Ks.ROUND?Se?x+=oc(P,R,P+U*ce,R+K*ce,P+ie*ce,R+re*ce,_,!0)+2:x+=oc(P,R,P-U*ae,R-K*ae,P-ie*ae,R-re*ae,_,!1)+2:(Se?(_.push(ft,yt),_.push(ft,yt)):(_.push(ot,Yt),_.push(ot,Yt)),x+=2)),_.push(P-ie*ae,R-re*ae),_.push(P+ie*ce,R+re*ce),x+=2)}A=r[(g-2)*2],L=r[(g-2)*2+1],P=r[(g-1)*2],R=r[(g-1)*2+1],U=-(L-R),K=A-P,ve=Math.sqrt(U*U+K*K),U/=ve,K/=ve,U*=y,K*=y,_.push(P-U*ae,R-K*ae),_.push(P+U*ce,R+K*ce),f||(a.cap===Zs.ROUND?x+=oc(P-U*(ae-ce)*.5,R-K*(ae-ce)*.5,P-U*ae,R-K*ae,P+U*ce,R+K*ce,_,!1)+2:a.cap===Zs.SQUARE&&(x+=K3(P,R,U,K,ae,ce,!1,_)));for(var Pt=t.indices,wr=M_.epsilon*M_.epsilon,me=b;me<x+b-2;++me)A=_[me*2],L=_[me*2+1],P=_[(me+1)*2],R=_[(me+1)*2+1],D=_[(me+2)*2],$=_[(me+2)*2+1],!(Math.abs(A*(R-$)+P*($-L)+D*(L-R))<wr)&&Pt.push(me,me+1,me+2)}}function gre(e,t){var n=0,r=e.shape,i=e.points||r.points,a=r.type!==Dn.POLY||r.closeStroke;if(i.length!==0){var u=t.points,l=t.indices,f=i.length/2,h=u.length/2,d=h;for(u.push(i[0],i[1]),n=1;n<f;n++)u.push(i[n*2],i[n*2+1]),l.push(d,d+1),d++;a&&l.push(d,h)}}function Z3(e,t){e.lineStyle.native?gre(e,t):_re(e,t)}var J3=function(){function e(){}return e.curveTo=function(t,n,r,i,a,u){var l=u[u.length-2],f=u[u.length-1],h=f-n,d=l-t,v=i-n,_=r-t,g=Math.abs(h*_-d*v);if(g<1e-8||a===0)return(u[u.length-2]!==t||u[u.length-1]!==n)&&u.push(t,n),null;var x=h*h+d*d,b=v*v+_*_,y=h*v+d*_,E=a*Math.sqrt(x)/g,S=a*Math.sqrt(b)/g,A=E*y/x,L=S*y/b,P=E*_+S*d,R=E*v+S*h,D=d*(S+A),$=h*(S+A),U=_*(E+L),K=v*(E+L),ie=Math.atan2($-R,D-P),re=Math.atan2(K-R,U-P);return{cx:P+t,cy:R+n,radius:a,startAngle:ie,endAngle:re,anticlockwise:d*v>_*h}},e.arc=function(t,n,r,i,a,u,l,f,h){for(var d=l-u,v=M_._segmentsCount(Math.abs(d)*a,Math.ceil(Math.abs(d)/v0)*40),_=d/(v*2),g=_*2,x=Math.cos(_),b=Math.sin(_),y=v-1,E=y%1/y,S=0;S<=y;++S){var A=S+E*S,L=_+u+g*A,P=Math.cos(L),R=-Math.sin(L);h.push((x*P+b*R)*a+r,(x*-R+b*P)*a+i)}},e}(),mre=function(){function e(){}return e.curveLength=function(t,n,r,i,a,u,l,f){for(var h=10,d=0,v=0,_=0,g=0,x=0,b=0,y=0,E=0,S=0,A=0,L=0,P=t,R=n,D=1;D<=h;++D)v=D/h,_=v*v,g=_*v,x=1-v,b=x*x,y=b*x,E=y*t+3*b*v*r+3*x*_*a+g*l,S=y*n+3*b*v*i+3*x*_*u+g*f,A=P-E,L=R-S,P=E,R=S,d+=Math.sqrt(A*A+L*L);return d},e.curveTo=function(t,n,r,i,a,u,l){var f=l[l.length-2],h=l[l.length-1];l.length-=2;var d=M_._segmentsCount(e.curveLength(f,h,t,n,r,i,a,u)),v=0,_=0,g=0,x=0,b=0;l.push(f,h);for(var y=1,E=0;y<=d;++y)E=y/d,v=1-E,_=v*v,g=_*v,x=E*E,b=x*E,l.push(g*f+3*_*E*t+3*v*x*r+b*a,g*h+3*_*E*n+3*v*x*i+b*u)},e}(),yre=function(){function e(){}return e.curveLength=function(t,n,r,i,a,u){var l=t-2*r+a,f=n-2*i+u,h=2*r-2*t,d=2*i-2*n,v=4*(l*l+f*f),_=4*(l*h+f*d),g=h*h+d*d,x=2*Math.sqrt(v+_+g),b=Math.sqrt(v),y=2*v*b,E=2*Math.sqrt(g),S=_/b;return(y*x+b*_*(x-E)+(4*g*v-_*_)*Math.log((2*b+S+x)/(S+E)))/(4*y)},e.curveTo=function(t,n,r,i,a){for(var u=a[a.length-2],l=a[a.length-1],f=M_._segmentsCount(e.curveLength(u,l,t,n,r,i)),h=0,d=0,v=1;v<=f;++v){var _=v/f;h=u+(t-u)*_,d=l+(n-l)*_,a.push(h+(t+(r-t)*_-h)*_,d+(n+(i-n)*_-d)*_)}},e}(),xre=function(){function e(){this.reset()}return e.prototype.begin=function(t,n,r){this.reset(),this.style=t,this.start=n,this.attribStart=r},e.prototype.end=function(t,n){this.attribSize=n-this.attribStart,this.size=t-this.start},e.prototype.reset=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},e}(),Kl,jC=(Kl={},Kl[Dn.POLY]=YD,Kl[Dn.CIRC]=m0,Kl[Dn.ELIP]=m0,Kl[Dn.RECT]=pre,Kl[Dn.RREC]=vre,Kl),Q3=[],Qg=[],ek=function(){function e(t,n,r,i){n===void 0&&(n=null),r===void 0&&(r=null),i===void 0&&(i=null),this.points=[],this.holes=[],this.shape=t,this.lineStyle=r,this.fillStyle=n,this.matrix=i,this.type=t.type}return e.prototype.clone=function(){return new e(this.shape,this.fillStyle,this.lineStyle,this.matrix)},e.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null},e}(),ac=new bn,bre=new D_,wre=function(e){xR(t,e);function t(){var n=e.call(this)||this;return n.closePointEps=1e-4,n.boundsPadding=0,n.uvsFloat32=null,n.indicesUint16=null,n.batchable=!1,n.points=[],n.colors=[],n.uvs=[],n.indices=[],n.textureIds=[],n.graphicsData=[],n.drawCalls=[],n.batchDirty=-1,n.batches=[],n.dirty=0,n.cacheDirty=-1,n.clearDirty=0,n.shapeIndex=0,n._bounds=new D_,n.boundsDirty=-1,n}return Object.defineProperty(t.prototype,"bounds",{get:function(){return this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},enumerable:!1,configurable:!0}),t.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var n=0;n<this.drawCalls.length;n++)this.drawCalls[n].texArray.clear(),Qg.push(this.drawCalls[n]);this.drawCalls.length=0;for(var n=0;n<this.batches.length;n++){var r=this.batches[n];r.reset(),Q3.push(r)}this.batches.length=0},t.prototype.clear=function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},t.prototype.drawShape=function(n,r,i,a){r===void 0&&(r=null),i===void 0&&(i=null),a===void 0&&(a=null);var u=new ek(n,r,i,a);return this.graphicsData.push(u),this.dirty++,this},t.prototype.drawHole=function(n,r){if(r===void 0&&(r=null),!this.graphicsData.length)return null;var i=new ek(n,null,null,r),a=this.graphicsData[this.graphicsData.length-1];return i.lineStyle=a.lineStyle,a.holes.push(i),this.dirty++,this},t.prototype.destroy=function(){e.prototype.destroy.call(this);for(var n=0;n<this.graphicsData.length;++n)this.graphicsData[n].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},t.prototype.containsPoint=function(n){for(var r=this.graphicsData,i=0;i<r.length;++i){var a=r[i];if(!!a.fillStyle.visible&&a.shape&&(a.matrix?a.matrix.applyInverse(n,ac):ac.copyFrom(n),a.shape.contains(ac.x,ac.y))){var u=!1;if(a.holes)for(var l=0;l<a.holes.length;l++){var f=a.holes[l];if(f.shape.contains(ac.x,ac.y)){u=!0;break}}if(!u)return!0}}return!1},t.prototype.updateBatches=function(n){if(!this.graphicsData.length){this.batchable=!0;return}if(!!this.validateBatching()){this.cacheDirty=this.dirty;var r=this.uvs,i=this.graphicsData,a=null,u=null;this.batches.length>0&&(a=this.batches[this.batches.length-1],u=a.style);for(var l=this.shapeIndex;l<i.length;l++){this.shapeIndex++;var f=i[l],h=f.fillStyle,d=f.lineStyle,v=jC[f.type];v.build(f),f.matrix&&this.transformPoints(f.points,f.matrix),(h.visible||d.visible)&&this.processHoles(f.holes);for(var _=0;_<2;_++){var g=_===0?h:d;if(!!g.visible){var x=g.texture.baseTexture,b=this.indices.length,y=this.points.length/2;x.wrapMode=Os.REPEAT,_===0?this.processFill(f):this.processLine(f);var E=this.points.length/2-y;E!==0&&(a&&!this._compareStyles(u,g)&&(a.end(b,y),a=null),a||(a=Q3.pop()||new xre,a.begin(g,b,y),this.batches.push(a),u=g),this.addUvs(this.points,r,g.texture,y,E,g.matrix))}}}var S=this.indices.length,A=this.points.length/2;if(a&&a.end(S,A),this.batches.length===0){this.batchable=!0;return}if(this.indicesUint16&&this.indices.length===this.indicesUint16.length)this.indicesUint16.set(this.indices);else{var L=A>65535&&n;this.indicesUint16=L?new Uint32Array(this.indices):new Uint16Array(this.indices)}this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}},t.prototype._compareStyles=function(n,r){return!(!n||!r||n.texture.baseTexture!==r.texture.baseTexture||n.color+n.alpha!==r.color+r.alpha||!!n.native!=!!r.native)},t.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var n=0,r=this.graphicsData.length;n<r;n++){var i=this.graphicsData[n],a=i.fillStyle,u=i.lineStyle;if(a&&!a.texture.baseTexture.valid||u&&!u.texture.baseTexture.valid)return!1}return!0},t.prototype.packBatches=function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var n=this.batches,r=0,i=n.length;r<i;r++)for(var a=n[r],u=0;u<a.size;u++){var l=a.start+u;this.indicesUint16[l]=this.indicesUint16[l]-a.attribStart}},t.prototype.isBatchable=function(){if(this.points.length>65535*2)return!1;for(var n=this.batches,r=0;r<n.length;r++)if(n[r].style.native)return!1;return this.points.length<t.BATCHABLE_SIZE*2},t.prototype.buildDrawCalls=function(){for(var n=++At._globalBatch,r=0;r<this.drawCalls.length;r++)this.drawCalls[r].texArray.clear(),Qg.push(this.drawCalls[r]);this.drawCalls.length=0;var i=this.colors,a=this.textureIds,u=Qg.pop();u||(u=new GI,u.texArray=new $I),u.texArray.count=0,u.start=0,u.size=0,u.type=Yo.TRIANGLES;var l=0,f=null,h=0,d=!1,v=Yo.TRIANGLES,_=0;this.drawCalls.push(u);for(var r=0;r<this.batches.length;r++){var g=this.batches[r],x=8,b=g.style,y=b.texture.baseTexture;d!==!!b.native&&(d=!!b.native,v=d?Yo.LINES:Yo.TRIANGLES,f=null,l=x,n++),f!==y&&(f=y,y._batchEnabled!==n&&(l===x&&(n++,l=0,u.size>0&&(u=Qg.pop(),u||(u=new GI,u.texArray=new $I),this.drawCalls.push(u)),u.start=_,u.size=0,u.texArray.count=0,u.type=v),y.touched=1,y._batchEnabled=n,y._batchLocation=l,y.wrapMode=Os.REPEAT,u.texArray.elements[u.texArray.count++]=y,l++)),u.size+=g.size,_+=g.size,h=y._batchLocation,this.addColors(i,b.color,b.alpha,g.attribSize,g.attribStart),this.addTextureIds(a,h,g.attribSize,g.attribStart)}At._globalBatch=n,this.packAttributes()},t.prototype.packAttributes=function(){for(var n=this.points,r=this.uvs,i=this.colors,a=this.textureIds,u=new ArrayBuffer(n.length*3*4),l=new Float32Array(u),f=new Uint32Array(u),h=0,d=0;d<n.length/2;d++)l[h++]=n[d*2],l[h++]=n[d*2+1],l[h++]=r[d*2],l[h++]=r[d*2+1],f[h++]=i[d],l[h++]=a[d];this._buffer.update(u),this._indexBuffer.update(this.indicesUint16)},t.prototype.processFill=function(n){if(n.holes.length)YD.triangulate(n,this);else{var r=jC[n.type];r.triangulate(n,this)}},t.prototype.processLine=function(n){Z3(n,this);for(var r=0;r<n.holes.length;r++)Z3(n.holes[r],this)},t.prototype.processHoles=function(n){for(var r=0;r<n.length;r++){var i=n[r],a=jC[i.type];a.build(i),i.matrix&&this.transformPoints(i.points,i.matrix)}},t.prototype.calculateBounds=function(){var n=this._bounds,r=bre,i=qn.IDENTITY;this._bounds.clear(),r.clear();for(var a=0;a<this.graphicsData.length;a++){var u=this.graphicsData[a],l=u.shape,f=u.type,h=u.lineStyle,d=u.matrix||qn.IDENTITY,v=0;if(h&&h.visible&&(v=h.width*Math.max(0,h.alignment)),i!==d&&(r.isEmpty()||(n.addBoundsMatrix(r,i),r.clear()),i=d),f===Dn.RECT||f===Dn.RREC){var _=l;r.addFramePad(_.x,_.y,_.x+_.width,_.y+_.height,v,v)}else if(f===Dn.CIRC){var g=l;r.addFramePad(g.x,g.y,g.x,g.y,g.radius+v,g.radius+v)}else if(f===Dn.ELIP){var x=l;r.addFramePad(x.x,x.y,x.x,x.y,x.width+v,x.height+v)}else{var b=l;n.addVerticesMatrix(i,b.points,0,b.points.length,v,v)}}r.isEmpty()||n.addBoundsMatrix(r,i),n.pad(this.boundsPadding,this.boundsPadding)},t.prototype.transformPoints=function(n,r){for(var i=0;i<n.length/2;i++){var a=n[i*2],u=n[i*2+1];n[i*2]=r.a*a+r.c*u+r.tx,n[i*2+1]=r.b*a+r.d*u+r.ty}},t.prototype.addColors=function(n,r,i,a,u){u===void 0&&(u=0);var l=(r>>16)+(r&65280)+((r&255)<<16),f=hR(l,i);n.length=Math.max(n.length,u+a);for(var h=0;h<a;h++)n[u+h]=f},t.prototype.addTextureIds=function(n,r,i,a){a===void 0&&(a=0),n.length=Math.max(n.length,a+i);for(var u=0;u<i;u++)n[a+u]=r},t.prototype.addUvs=function(n,r,i,a,u,l){l===void 0&&(l=null);for(var f=0,h=r.length,d=i.frame;f<u;){var v=n[(a+f)*2],_=n[(a+f)*2+1];if(l){var g=l.a*v+l.c*_+l.tx;_=l.b*v+l.d*_+l.ty,v=g}f++,r.push(v/d.width,_/d.height)}var x=i.baseTexture;(d.width<x.width||d.height<x.height)&&this.adjustUvs(r,i,h,u)},t.prototype.adjustUvs=function(n,r,i,a){for(var u=r.baseTexture,l=1e-6,f=i+a*2,h=r.frame,d=h.width/u.width,v=h.height/u.height,_=h.x/h.width,g=h.y/h.height,x=Math.floor(n[i]+l),b=Math.floor(n[i+1]+l),y=i+2;y<f;y+=2)x=Math.min(x,Math.floor(n[y]+l)),b=Math.min(b,Math.floor(n[y+1]+l));_-=x,g-=b;for(var y=i;y<f;y+=2)n[y]=(n[y]+_)*d,n[y+1]=(n[y+1]+g)*v},t.BATCHABLE_SIZE=100,t}(WD),Tre=function(e){xR(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.width=0,n.alignment=.5,n.native=!1,n.cap=Zs.BUTT,n.join=Ks.MITER,n.miterLimit=10,n}return t.prototype.clone=function(){var n=new t;return n.color=this.color,n.alpha=this.alpha,n.texture=this.texture,n.matrix=this.matrix,n.visible=this.visible,n.width=this.width,n.alignment=this.alignment,n.native=this.native,n.cap=this.cap,n.join=this.join,n.miterLimit=this.miterLimit,n},t.prototype.reset=function(){e.prototype.reset.call(this),this.color=0,this.alignment=.5,this.width=0,this.native=!1},t}(qD),Ere=new Float32Array(3),zC={},y0=function(e){xR(t,e);function t(n){n===void 0&&(n=null);var r=e.call(this)||this;return r.shader=null,r.pluginName="batch",r.currentPath=null,r.batches=[],r.batchTint=-1,r.batchDirty=-1,r.vertexData=null,r._fillStyle=new qD,r._lineStyle=new Tre,r._matrix=null,r._holeMode=!1,r.state=$f.for2d(),r._geometry=n||new wre,r._geometry.refCount++,r._transformID=-1,r.tint=16777215,r.blendMode=qe.NORMAL,r}return Object.defineProperty(t.prototype,"geometry",{get:function(){return this._geometry},enumerable:!1,configurable:!0}),t.prototype.clone=function(){return this.finishPoly(),new t(this._geometry)},Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(n){this.state.blendMode=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(n){this._tint=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"line",{get:function(){return this._lineStyle},enumerable:!1,configurable:!0}),t.prototype.lineStyle=function(n,r,i,a,u){return n===void 0&&(n=null),r===void 0&&(r=0),i===void 0&&(i=1),a===void 0&&(a=.5),u===void 0&&(u=!1),typeof n=="number"&&(n={width:n,color:r,alpha:i,alignment:a,native:u}),this.lineTextureStyle(n)},t.prototype.lineTextureStyle=function(n){n=Object.assign({width:0,texture:Ye.WHITE,color:n&&n.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:Zs.BUTT,join:Ks.MITER,miterLimit:10},n),this.currentPath&&this.startPoly();var r=n.width>0&&n.alpha>0;return r?(n.matrix&&(n.matrix=n.matrix.clone(),n.matrix.invert()),Object.assign(this._lineStyle,{visible:r},n)):this._lineStyle.reset(),this},t.prototype.startPoly=function(){if(this.currentPath){var n=this.currentPath.points,r=this.currentPath.points.length;r>2&&(this.drawShape(this.currentPath),this.currentPath=new Cm,this.currentPath.closeStroke=!1,this.currentPath.points.push(n[r-2],n[r-1]))}else this.currentPath=new Cm,this.currentPath.closeStroke=!1},t.prototype.finishPoly=function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},t.prototype.moveTo=function(n,r){return this.startPoly(),this.currentPath.points[0]=n,this.currentPath.points[1]=r,this},t.prototype.lineTo=function(n,r){this.currentPath||this.moveTo(0,0);var i=this.currentPath.points,a=i[i.length-2],u=i[i.length-1];return(a!==n||u!==r)&&i.push(n,r),this},t.prototype._initCurve=function(n,r){n===void 0&&(n=0),r===void 0&&(r=0),this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[n,r]):this.moveTo(n,r)},t.prototype.quadraticCurveTo=function(n,r,i,a){this._initCurve();var u=this.currentPath.points;return u.length===0&&this.moveTo(0,0),yre.curveTo(n,r,i,a,u),this},t.prototype.bezierCurveTo=function(n,r,i,a,u,l){return this._initCurve(),mre.curveTo(n,r,i,a,u,l,this.currentPath.points),this},t.prototype.arcTo=function(n,r,i,a,u){this._initCurve(n,r);var l=this.currentPath.points,f=J3.curveTo(n,r,i,a,u,l);if(f){var h=f.cx,d=f.cy,v=f.radius,_=f.startAngle,g=f.endAngle,x=f.anticlockwise;this.arc(h,d,v,_,g,x)}return this},t.prototype.arc=function(n,r,i,a,u,l){if(l===void 0&&(l=!1),a===u)return this;!l&&u<=a?u+=v0:l&&a<=u&&(a+=v0);var f=u-a;if(f===0)return this;var h=n+Math.cos(a)*i,d=r+Math.sin(a)*i,v=this._geometry.closePointEps,_=this.currentPath?this.currentPath.points:null;if(_){var g=Math.abs(_[_.length-2]-h),x=Math.abs(_[_.length-1]-d);g<v&&x<v||_.push(h,d)}else this.moveTo(h,d),_=this.currentPath.points;return J3.arc(h,d,n,r,i,a,u,l,_),this},t.prototype.beginFill=function(n,r){return n===void 0&&(n=0),r===void 0&&(r=1),this.beginTextureFill({texture:Ye.WHITE,color:n,alpha:r})},t.prototype.beginTextureFill=function(n){n=Object.assign({texture:Ye.WHITE,color:16777215,alpha:1,matrix:null},n),this.currentPath&&this.startPoly();var r=n.alpha>0;return r?(n.matrix&&(n.matrix=n.matrix.clone(),n.matrix.invert()),Object.assign(this._fillStyle,{visible:r},n)):this._fillStyle.reset(),this},t.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},t.prototype.drawRect=function(n,r,i,a){return this.drawShape(new Lt(n,r,i,a))},t.prototype.drawRoundedRect=function(n,r,i,a,u){return this.drawShape(new Vee(n,r,i,a,u))},t.prototype.drawCircle=function(n,r,i){return this.drawShape(new zee(n,r,i))},t.prototype.drawEllipse=function(n,r,i,a){return this.drawShape(new Xee(n,r,i,a))},t.prototype.drawPolygon=function(){for(var n=arguments,r=[],i=0;i<arguments.length;i++)r[i]=n[i];var a,u=!0,l=r[0];l.points?(u=l.closeStroke,a=l.points):Array.isArray(r[0])?a=r[0]:a=r;var f=new Cm(a);return f.closeStroke=u,this.drawShape(f),this},t.prototype.drawShape=function(n){return this._holeMode?this._geometry.drawHole(n,this._matrix):this._geometry.drawShape(n,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},t.prototype.clear=function(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this},t.prototype.isFastRect=function(){var n=this._geometry.graphicsData;return n.length===1&&n[0].shape.type===Dn.RECT&&!n[0].matrix&&!n[0].holes.length&&!(n[0].lineStyle.visible&&n[0].lineStyle.width)},t.prototype._render=function(n){this.finishPoly();var r=this._geometry,i=n.context.supports.uint32Indices;r.updateBatches(i),r.batchable?(this.batchDirty!==r.batchDirty&&this._populateBatches(),this._renderBatched(n)):(n.batch.flush(),this._renderDirect(n))},t.prototype._populateBatches=function(){var n=this._geometry,r=this.blendMode,i=n.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=n.batchDirty,this.batches.length=i,this.vertexData=new Float32Array(n.points);for(var a=0;a<i;a++){var u=n.batches[a],l=u.style.color,f=new Float32Array(this.vertexData.buffer,u.attribStart*4*2,u.attribSize*2),h=new Float32Array(n.uvsFloat32.buffer,u.attribStart*4*2,u.attribSize*2),d=new Uint16Array(n.indicesUint16.buffer,u.start*2,u.size),v={vertexData:f,blendMode:r,indices:d,uvs:h,_batchRGB:eh(l),_tintRGB:l,_texture:u.style.texture,alpha:u.style.alpha,worldAlpha:1};this.batches[a]=v}},t.prototype._renderBatched=function(n){if(!!this.batches.length){n.batch.setObjectRenderer(n.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var r=0,i=this.batches.length;r<i;r++){var a=this.batches[r];a.worldAlpha=this.worldAlpha*a.alpha,n.plugins[this.pluginName].render(a)}}},t.prototype._renderDirect=function(n){var r=this._resolveDirectShader(n),i=this._geometry,a=this.tint,u=this.worldAlpha,l=r.uniforms,f=i.drawCalls;l.translationMatrix=this.transform.worldTransform,l.tint[0]=(a>>16&255)/255*u,l.tint[1]=(a>>8&255)/255*u,l.tint[2]=(a&255)/255*u,l.tint[3]=u,n.shader.bind(r),n.geometry.bind(i,r),n.state.set(this.state);for(var h=0,d=f.length;h<d;h++)this._renderDrawCallDirect(n,i.drawCalls[h])},t.prototype._renderDrawCallDirect=function(n,r){for(var i=r.texArray,a=r.type,u=r.size,l=r.start,f=i.count,h=0;h<f;h++)n.texture.bind(i.elements[h],h);n.geometry.draw(a,u,l)},t.prototype._resolveDirectShader=function(n){var r=this.shader,i=this.pluginName;if(!r){if(!zC[i]){for(var a=n.plugins.batch.MAX_TEXTURES,u=new Int32Array(a),l=0;l<a;l++)u[l]=l;var f={tint:new Float32Array([1,1,1,1]),translationMatrix:new qn,default:yf.from({uSamplers:u},!0)},h=n.plugins[i]._shader.program;zC[i]=new lu(h,f)}r=zC[i]}return r},t.prototype._calculateBounds=function(){this.finishPoly();var n=this._geometry;if(!!n.graphicsData.length){var r=n.bounds,i=r.minX,a=r.minY,u=r.maxX,l=r.maxY;this._bounds.addFrame(this.transform,i,a,u,l)}},t.prototype.containsPoint=function(n){return this.worldTransform.applyInverse(n,t._TEMP_POINT),this._geometry.containsPoint(t._TEMP_POINT)},t.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var n=eh(this.tint,Ere),r=0;r<this.batches.length;r++){var i=this.batches[r],a=i._batchRGB,u=n[0]*a[0]*255,l=n[1]*a[1]*255,f=n[2]*a[2]*255,h=(u<<16)+(l<<8)+(f|0);i._tintRGB=(h>>16)+(h&65280)+((h&255)<<16)}}},t.prototype.calculateVertices=function(){var n=this.transform._worldID;if(this._transformID!==n){this._transformID=n;for(var r=this.transform.worldTransform,i=r.a,a=r.b,u=r.c,l=r.d,f=r.tx,h=r.ty,d=this._geometry.points,v=this.vertexData,_=0,g=0;g<d.length;g+=2){var x=d[g],b=d[g+1];v[_++]=i*x+u*b+f,v[_++]=l*b+a*x+h}}},t.prototype.closePath=function(){var n=this.currentPath;return n&&(n.closeStroke=!0,this.finishPoly()),this},t.prototype.setMatrix=function(n){return this._matrix=n,this},t.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},t.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},t.prototype.destroy=function(n){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,e.prototype.destroy.call(this,n)},t.nextRoundedRectBehavior=!1,t._TEMP_POINT=new bn,t}($r);/*!
 * @pixi/sprite - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/sprite is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var qI=function(e,t){return qI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},qI(e,t)};function Sre(e,t){qI(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Nv=new bn,Cre=new Uint16Array([0,1,2,0,2,3]),Ds=function(e){Sre(t,e);function t(n){var r=e.call(this)||this;return r._anchor=new Tc(r._onAnchorUpdate,r,n?n.defaultAnchor.x:0,n?n.defaultAnchor.y:0),r._texture=null,r._width=0,r._height=0,r._tint=null,r._tintRGB=null,r.tint=16777215,r.blendMode=qe.NORMAL,r._cachedTint=16777215,r.uvs=null,r.texture=n||Ye.EMPTY,r.vertexData=new Float32Array(8),r.vertexTrimmedData=null,r._transformID=-1,r._textureID=-1,r._transformTrimmedID=-1,r._textureTrimmedID=-1,r.indices=Cre,r.pluginName="batch",r.isSprite=!0,r._roundPixels=ze.ROUND_PIXELS,r}return t.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=wc(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=wc(this.scale.y)*this._height/this._texture.orig.height)},t.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},t.prototype.calculateVertices=function(){var n=this._texture;if(!(this._transformID===this.transform._worldID&&this._textureID===n._updateID)){this._textureID!==n._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=n._updateID;var r=this.transform.worldTransform,i=r.a,a=r.b,u=r.c,l=r.d,f=r.tx,h=r.ty,d=this.vertexData,v=n.trim,_=n.orig,g=this._anchor,x=0,b=0,y=0,E=0;if(v?(b=v.x-g._x*_.width,x=b+v.width,E=v.y-g._y*_.height,y=E+v.height):(b=-g._x*_.width,x=b+_.width,E=-g._y*_.height,y=E+_.height),d[0]=i*b+u*E+f,d[1]=l*E+a*b+h,d[2]=i*x+u*E+f,d[3]=l*E+a*x+h,d[4]=i*x+u*y+f,d[5]=l*y+a*x+h,d[6]=i*b+u*y+f,d[7]=l*y+a*b+h,this._roundPixels)for(var S=ze.RESOLUTION,A=0;A<d.length;++A)d[A]=Math.round((d[A]*S|0)/S)}},t.prototype.calculateTrimmedVertices=function(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var n=this._texture,r=this.vertexTrimmedData,i=n.orig,a=this._anchor,u=this.transform.worldTransform,l=u.a,f=u.b,h=u.c,d=u.d,v=u.tx,_=u.ty,g=-a._x*i.width,x=g+i.width,b=-a._y*i.height,y=b+i.height;r[0]=l*g+h*b+v,r[1]=d*b+f*g+_,r[2]=l*x+h*b+v,r[3]=d*b+f*x+_,r[4]=l*x+h*y+v,r[5]=d*y+f*x+_,r[6]=l*g+h*y+v,r[7]=d*y+f*g+_},t.prototype._render=function(n){this.calculateVertices(),n.batch.setObjectRenderer(n.plugins[this.pluginName]),n.plugins[this.pluginName].render(this)},t.prototype._calculateBounds=function(){var n=this._texture.trim,r=this._texture.orig;!n||n.width===r.width&&n.height===r.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},t.prototype.getLocalBounds=function(n){return this.children.length===0?(this._localBounds||(this._localBounds=new D_),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),n||(this._localBoundsRect||(this._localBoundsRect=new Lt),n=this._localBoundsRect),this._localBounds.getRectangle(n)):e.prototype.getLocalBounds.call(this,n)},t.prototype.containsPoint=function(n){this.worldTransform.applyInverse(n,Nv);var r=this._texture.orig.width,i=this._texture.orig.height,a=-r*this.anchor.x,u=0;return Nv.x>=a&&Nv.x<a+r&&(u=-i*this.anchor.y,Nv.y>=u&&Nv.y<u+i)},t.prototype.destroy=function(n){e.prototype.destroy.call(this,n),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null;var r=typeof n=="boolean"?n:n&&n.texture;if(r){var i=typeof n=="boolean"?n:n&&n.baseTexture;this._texture.destroy(!!i)}this._texture=null},t.from=function(n,r){var i=n instanceof Ye?n:Ye.from(n,r);return new t(i)},Object.defineProperty(t.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(n){this._roundPixels!==n&&(this._transformID=-1),this._roundPixels=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(n){var r=wc(this.scale.x)||1;this.scale.x=r*n/this._texture.orig.width,this._width=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(n){var r=wc(this.scale.y)||1;this.scale.y=r*n/this._texture.orig.height,this._height=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"anchor",{get:function(){return this._anchor},set:function(n){this._anchor.copyFrom(n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(n){this._tint=n,this._tintRGB=(n>>16)+(n&65280)+((n&255)<<16)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"texture",{get:function(){return this._texture},set:function(n){this._texture!==n&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=n||Ye.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,n&&(n.baseTexture.valid?this._onTextureUpdate():n.once("update",this._onTextureUpdate,this)))},enumerable:!1,configurable:!0}),t}($r);/*!
 * @pixi/text - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/text is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var YI=function(e,t){return YI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},YI(e,t)};function Ire(e,t){YI(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var G_;(function(e){e[e.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",e[e.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL"})(G_||(G_={}));var XC={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:G_.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},Are=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],nh=function(){function e(t){this.styleID=0,this.reset(),qC(this,t,t)}return e.prototype.clone=function(){var t={};return qC(t,this,XC),new e(t)},e.prototype.reset=function(){qC(this,XC,XC)},Object.defineProperty(e.prototype,"align",{get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"breakWords",{get:function(){return this._breakWords},set:function(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadowAlpha",{get:function(){return this._dropShadowAlpha},set:function(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadowAngle",{get:function(){return this._dropShadowAngle},set:function(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadowBlur",{get:function(){return this._dropShadowBlur},set:function(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadowColor",{get:function(){return this._dropShadowColor},set:function(t){var n=VC(t);this._dropShadowColor!==n&&(this._dropShadowColor=n,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadowDistance",{get:function(){return this._dropShadowDistance},set:function(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fill",{get:function(){return this._fill},set:function(t){var n=VC(t);this._fill!==n&&(this._fill=n,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fillGradientType",{get:function(){return this._fillGradientType},set:function(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fillGradientStops",{get:function(){return this._fillGradientStops},set:function(t){Pre(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontVariant",{get:function(){return this._fontVariant},set:function(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"leading",{get:function(){return this._leading},set:function(t){this._leading!==t&&(this._leading=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"miterLimit",{get:function(){return this._miterLimit},set:function(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"padding",{get:function(){return this._padding},set:function(t){this._padding!==t&&(this._padding=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"stroke",{get:function(){return this._stroke},set:function(t){var n=VC(t);this._stroke!==n&&(this._stroke=n,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"strokeThickness",{get:function(){return this._strokeThickness},set:function(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"trim",{get:function(){return this._trim},set:function(t){this._trim!==t&&(this._trim=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"whiteSpace",{get:function(){return this._whiteSpace},set:function(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wordWrapWidth",{get:function(){return this._wordWrapWidth},set:function(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)},enumerable:!1,configurable:!0}),e.prototype.toFontString=function(){var t=typeof this.fontSize=="number"?this.fontSize+"px":this.fontSize,n=this.fontFamily;Array.isArray(this.fontFamily)||(n=this.fontFamily.split(","));for(var r=n.length-1;r>=0;r--){var i=n[r].trim();!/([\"\'])[^\'\"]+\1/.test(i)&&Are.indexOf(i)<0&&(i='"'+i+'"'),n[r]=i}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+t+" "+n.join(",")},e}();function tk(e){return typeof e=="number"?rD(e):(typeof e=="string"&&e.indexOf("0x")===0&&(e=e.replace("0x","#")),e)}function VC(e){if(Array.isArray(e)){for(var t=0;t<e.length;++t)e[t]=tk(e[t]);return e}else return tk(e)}function Pre(e,t){if(!Array.isArray(e)||!Array.isArray(t)||e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}function qC(e,t,n){for(var r in n)Array.isArray(t[r])?e[r]=t[r].slice():e[r]=t[r]}var xo=function(){function e(t,n,r,i,a,u,l,f,h){this.text=t,this.style=n,this.width=r,this.height=i,this.lines=a,this.lineWidths=u,this.lineHeight=l,this.maxLineWidth=f,this.fontProperties=h}return e.measureText=function(t,n,r,i){i===void 0&&(i=e._canvas),r=r==null?n.wordWrap:r;var a=n.toFontString(),u=e.measureFont(a);u.fontSize===0&&(u.fontSize=n.fontSize,u.ascent=n.fontSize);var l=i.getContext("2d");l.font=a;for(var f=r?e.wordWrap(t,n,i):t,h=f.split(/(?:\r\n|\r|\n)/),d=new Array(h.length),v=0,_=0;_<h.length;_++){var g=l.measureText(h[_]).width+(h[_].length-1)*n.letterSpacing;d[_]=g,v=Math.max(v,g)}var x=v+n.strokeThickness;n.dropShadow&&(x+=n.dropShadowDistance);var b=n.lineHeight||u.fontSize+n.strokeThickness,y=Math.max(b,u.fontSize+n.strokeThickness)+(h.length-1)*(b+n.leading);return n.dropShadow&&(y+=n.dropShadowDistance),new e(t,n,x,y,h,d,b+n.leading,v,u)},e.wordWrap=function(t,n,r){r===void 0&&(r=e._canvas);for(var i=r.getContext("2d"),a=0,u="",l="",f=Object.create(null),h=n.letterSpacing,d=n.whiteSpace,v=e.collapseSpaces(d),_=e.collapseNewlines(d),g=!v,x=n.wordWrapWidth+h,b=e.tokenize(t),y=0;y<b.length;y++){var E=b[y];if(e.isNewline(E)){if(!_){l+=e.addLine(u),g=!v,u="",a=0;continue}E=" "}if(v){var S=e.isBreakingSpace(E),A=e.isBreakingSpace(u[u.length-1]);if(S&&A)continue}var L=e.getFromCache(E,h,f,i);if(L>x)if(u!==""&&(l+=e.addLine(u),u="",a=0),e.canBreakWords(E,n.breakWords))for(var P=e.wordWrapSplit(E),R=0;R<P.length;R++){for(var D=P[R],$=1;P[R+$];){var U=P[R+$],K=D[D.length-1];if(!e.canBreakChars(K,U,E,R,n.breakWords))D+=U;else break;$++}R+=D.length-1;var ie=e.getFromCache(D,h,f,i);ie+a>x&&(l+=e.addLine(u),g=!1,u="",a=0),u+=D,a+=ie}else{u.length>0&&(l+=e.addLine(u),u="",a=0);var re=y===b.length-1;l+=e.addLine(E,!re),g=!1,u="",a=0}else L+a>x&&(g=!1,l+=e.addLine(u),u="",a=0),(u.length>0||!e.isBreakingSpace(E)||g)&&(u+=E,a+=L)}return l+=e.addLine(u,!1),l},e.addLine=function(t,n){return n===void 0&&(n=!0),t=e.trimRight(t),t=n?t+`
`:t,t},e.getFromCache=function(t,n,r,i){var a=r[t];if(typeof a!="number"){var u=t.length*n;a=i.measureText(t).width+u,r[t]=a}return a},e.collapseSpaces=function(t){return t==="normal"||t==="pre-line"},e.collapseNewlines=function(t){return t==="normal"},e.trimRight=function(t){if(typeof t!="string")return"";for(var n=t.length-1;n>=0;n--){var r=t[n];if(!e.isBreakingSpace(r))break;t=t.slice(0,-1)}return t},e.isNewline=function(t){return typeof t!="string"?!1:e._newlines.indexOf(t.charCodeAt(0))>=0},e.isBreakingSpace=function(t,n){return typeof t!="string"?!1:e._breakingSpaces.indexOf(t.charCodeAt(0))>=0},e.tokenize=function(t){var n=[],r="";if(typeof t!="string")return n;for(var i=0;i<t.length;i++){var a=t[i],u=t[i+1];if(e.isBreakingSpace(a,u)||e.isNewline(a)){r!==""&&(n.push(r),r=""),n.push(a);continue}r+=a}return r!==""&&n.push(r),n},e.canBreakWords=function(t,n){return n},e.canBreakChars=function(t,n,r,i,a){return!0},e.wordWrapSplit=function(t){return t.split("")},e.measureFont=function(t){if(e._fonts[t])return e._fonts[t];var n={ascent:0,descent:0,fontSize:0},r=e._canvas,i=e._context;i.font=t;var a=e.METRICS_STRING+e.BASELINE_SYMBOL,u=Math.ceil(i.measureText(a).width),l=Math.ceil(i.measureText(e.BASELINE_SYMBOL).width),f=Math.ceil(e.HEIGHT_MULTIPLIER*l);l=l*e.BASELINE_MULTIPLIER|0,r.width=u,r.height=f,i.fillStyle="#f00",i.fillRect(0,0,u,f),i.font=t,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(a,0,l);var h=i.getImageData(0,0,u,f).data,d=h.length,v=u*4,_=0,g=0,x=!1;for(_=0;_<l;++_){for(var b=0;b<v;b+=4)if(h[g+b]!==255){x=!0;break}if(!x)g+=v;else break}for(n.ascent=l-_,g=d-v,x=!1,_=f;_>l;--_){for(var b=0;b<v;b+=4)if(h[g+b]!==255){x=!0;break}if(!x)g-=v;else break}return n.descent=_-l,n.fontSize=n.ascent+n.descent,e._fonts[t]=n,n},e.clearMetrics=function(t){t===void 0&&(t=""),t?delete e._fonts[t]:e._fonts={}},e}(),x0=function(){try{var e=new OffscreenCanvas(0,0),t=e.getContext("2d");return t&&t.measureText?e:document.createElement("canvas")}catch{return document.createElement("canvas")}}();x0.width=x0.height=10;xo._canvas=x0;xo._context=x0.getContext("2d");xo._fonts={};xo.METRICS_STRING="|\xC9q\xC5";xo.BASELINE_SYMBOL="M";xo.BASELINE_MULTIPLIER=1.4;xo.HEIGHT_MULTIPLIER=2;xo._newlines=[10,13];xo._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var Rre={texture:!0,children:!1,baseTexture:!0},KD=function(e){Ire(t,e);function t(n,r,i){var a=this,u=!1;i||(i=document.createElement("canvas"),u=!0),i.width=3,i.height=3;var l=Ye.from(i);return l.orig=new Lt,l.trim=new Lt,a=e.call(this,l)||this,a._ownCanvas=u,a.canvas=i,a.context=a.canvas.getContext("2d"),a._resolution=ze.RESOLUTION,a._autoResolution=!0,a._text=null,a._style=null,a._styleListener=null,a._font="",a.text=n,a.style=r,a.localStyleID=-1,a}return t.prototype.updateText=function(n){var r=this._style;if(this.localStyleID!==r.styleID&&(this.dirty=!0,this.localStyleID=r.styleID),!(!this.dirty&&n)){this._font=this._style.toFontString();var i=this.context,a=xo.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),u=a.width,l=a.height,f=a.lines,h=a.lineHeight,d=a.lineWidths,v=a.maxLineWidth,_=a.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,u)+r.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,l)+r.padding*2)*this._resolution),i.scale(this._resolution,this._resolution),i.clearRect(0,0,this.canvas.width,this.canvas.height),i.font=this._font,i.lineWidth=r.strokeThickness,i.textBaseline=r.textBaseline,i.lineJoin=r.lineJoin,i.miterLimit=r.miterLimit;for(var g,x,b=r.dropShadow?2:1,y=0;y<b;++y){var E=r.dropShadow&&y===0,S=E?Math.ceil(Math.max(1,l)+r.padding*2):0,A=S*this._resolution;if(E){i.fillStyle="black",i.strokeStyle="black";var L=r.dropShadowColor,P=eh(typeof L=="number"?L:iD(L)),R=r.dropShadowBlur*this._resolution,D=r.dropShadowDistance*this._resolution;i.shadowColor="rgba("+P[0]*255+","+P[1]*255+","+P[2]*255+","+r.dropShadowAlpha+")",i.shadowBlur=R,i.shadowOffsetX=Math.cos(r.dropShadowAngle)*D,i.shadowOffsetY=Math.sin(r.dropShadowAngle)*D+A}else i.fillStyle=this._generateFillStyle(r,f,a),i.strokeStyle=r.stroke,i.shadowColor="black",i.shadowBlur=0,i.shadowOffsetX=0,i.shadowOffsetY=0;var $=(h-_.fontSize)/2;(!t.nextLineHeightBehavior||h-_.fontSize<0)&&($=0);for(var U=0;U<f.length;U++)g=r.strokeThickness/2,x=r.strokeThickness/2+U*h+_.ascent+$,r.align==="right"?g+=v-d[U]:r.align==="center"&&(g+=(v-d[U])/2),r.stroke&&r.strokeThickness&&this.drawLetterSpacing(f[U],g+r.padding,x+r.padding-S,!0),r.fill&&this.drawLetterSpacing(f[U],g+r.padding,x+r.padding-S)}this.updateTexture()}},t.prototype.drawLetterSpacing=function(n,r,i,a){a===void 0&&(a=!1);var u=this._style,l=u.letterSpacing,f=t.experimentalLetterSpacing&&("letterSpacing"in CanvasRenderingContext2D.prototype||"textLetterSpacing"in CanvasRenderingContext2D.prototype);if(l===0||f){f&&(this.context.letterSpacing=l,this.context.textLetterSpacing=l),a?this.context.strokeText(n,r,i):this.context.fillText(n,r,i);return}for(var h=r,d=Array.from?Array.from(n):n.split(""),v=this.context.measureText(n).width,_=0,g=0;g<d.length;++g){var x=d[g];a?this.context.strokeText(x,h,i):this.context.fillText(x,h,i);for(var b="",y=g+1;y<d.length;++y)b+=d[y];_=this.context.measureText(b).width,h+=v-_+l,v=_}},t.prototype.updateTexture=function(){var n=this.canvas;if(this._style.trim){var r=$ee(n);r.data&&(n.width=r.width,n.height=r.height,this.context.putImageData(r.data,0,0))}var i=this._texture,a=this._style,u=a.trim?0:a.padding,l=i.baseTexture;i.trim.width=i._frame.width=n.width/this._resolution,i.trim.height=i._frame.height=n.height/this._resolution,i.trim.x=-u,i.trim.y=-u,i.orig.width=i._frame.width-u*2,i.orig.height=i._frame.height-u*2,this._onTextureUpdate(),l.setRealSize(n.width,n.height,this._resolution),i.updateUvs(),this._recursivePostUpdateTransform(),this.dirty=!1},t.prototype._render=function(n){this._autoResolution&&this._resolution!==n.resolution&&(this._resolution=n.resolution,this.dirty=!0),this.updateText(!0),e.prototype._render.call(this,n)},t.prototype.getLocalBounds=function(n){return this.updateText(!0),e.prototype.getLocalBounds.call(this,n)},t.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},t.prototype._generateFillStyle=function(n,r,i){var a=n.fill;if(Array.isArray(a)){if(a.length===1)return a[0]}else return a;var u,l=n.dropShadow?n.dropShadowDistance:0,f=n.padding||0,h=this.canvas.width/this._resolution-l-f*2,d=this.canvas.height/this._resolution-l-f*2,v=a.slice(),_=n.fillGradientStops.slice();if(!_.length)for(var g=v.length+1,x=1;x<g;++x)_.push(x/g);if(v.unshift(a[0]),_.unshift(0),v.push(a[a.length-1]),_.push(1),n.fillGradientType===G_.LINEAR_VERTICAL){u=this.context.createLinearGradient(h/2,f,h/2,d+f);for(var b=i.fontProperties.fontSize+n.strokeThickness,x=0;x<r.length;x++){var y=i.lineHeight*(x-1)+b,E=i.lineHeight*x,S=E;x>0&&y>E&&(S=(E+y)/2);var A=E+b,L=i.lineHeight*(x+1),P=A;x+1<r.length&&L<A&&(P=(A+L)/2);for(var R=(P-S)/d,D=0;D<v.length;D++){var $=0;typeof _[D]=="number"?$=_[D]:$=D/v.length;var U=Math.min(1,Math.max(0,S/d+$*R));U=Number(U.toFixed(5)),u.addColorStop(U,v[D])}}}else{u=this.context.createLinearGradient(f,d/2,h+f,d/2);for(var K=v.length+1,ie=1,x=0;x<v.length;x++){var re=void 0;typeof _[x]=="number"?re=_[x]:re=ie/K,u.addColorStop(re,v[x]),ie++}}return u},t.prototype.destroy=function(n){typeof n=="boolean"&&(n={children:n}),n=Object.assign({},Rre,n),e.prototype.destroy.call(this,n),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null},Object.defineProperty(t.prototype,"width",{get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(n){this.updateText(!0);var r=wc(this.scale.x)||1;this.scale.x=r*n/this._texture.orig.width,this._width=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(n){this.updateText(!0);var r=wc(this.scale.y)||1;this.scale.y=r*n/this._texture.orig.height,this._height=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"style",{get:function(){return this._style},set:function(n){n=n||{},n instanceof nh?this._style=n:this._style=new nh(n),this.localStyleID=-1,this.dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(n){n=String(n==null?"":n),this._text!==n&&(this._text=n,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resolution",{get:function(){return this._resolution},set:function(n){this._autoResolution=!1,this._resolution!==n&&(this._resolution=n,this.dirty=!0)},enumerable:!1,configurable:!0}),t.nextLineHeightBehavior=!1,t.experimentalLetterSpacing=!1,t}(Ds);/*!
 * @pixi/prepare - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/prepare is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */ze.UPLOADS_PER_FRAME=4;/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var KI=function(e,t){return KI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},KI(e,t)};function Ore(e,t){KI(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Nre=function(){function e(t){this.maxItemsPerFrame=t,this.itemsLeft=0}return e.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},e.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},e}();function Lre(e,t){var n=!1;if(e&&e._textures&&e._textures.length){for(var r=0;r<e._textures.length;r++)if(e._textures[r]instanceof Ye){var i=e._textures[r].baseTexture;t.indexOf(i)===-1&&(t.push(i),n=!0)}}return n}function kre(e,t){if(e.baseTexture instanceof At){var n=e.baseTexture;return t.indexOf(n)===-1&&t.push(n),!0}return!1}function Fre(e,t){if(e._texture&&e._texture instanceof Ye){var n=e._texture.baseTexture;return t.indexOf(n)===-1&&t.push(n),!0}return!1}function Bre(e,t){return t instanceof KD?(t.updateText(!0),!0):!1}function Ure(e,t){if(t instanceof nh){var n=t.toFontString();return xo.measureFont(n),!0}return!1}function Dre(e,t){if(e instanceof KD){t.indexOf(e.style)===-1&&t.push(e.style),t.indexOf(e)===-1&&t.push(e);var n=e._texture.baseTexture;return t.indexOf(n)===-1&&t.push(n),!0}return!1}function Mre(e,t){return e instanceof nh?(t.indexOf(e)===-1&&t.push(e),!0):!1}var Gre=function(){function e(t){var n=this;this.limiter=new Nre(ze.UPLOADS_PER_FRAME),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){!n.queue||n.prepareItems()},this.registerFindHook(Dre),this.registerFindHook(Mre),this.registerFindHook(Lre),this.registerFindHook(kre),this.registerFindHook(Fre),this.registerUploadHook(Bre),this.registerUploadHook(Ure)}return e.prototype.upload=function(t,n){typeof t=="function"&&(n=t,t=null),t&&this.add(t),this.queue.length?(n&&this.completes.push(n),this.ticking||(this.ticking=!0,Mr.system.addOnce(this.tick,this,Bs.UTILITY))):n&&n()},e.prototype.tick=function(){setTimeout(this.delayedTick,0)},e.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var t=this.queue[0],n=!1;if(t&&!t._destroyed){for(var r=0,i=this.uploadHooks.length;r<i;r++)if(this.uploadHooks[r](this.uploadHookHelper,t)){this.queue.shift(),n=!0;break}}n||this.queue.shift()}if(this.queue.length)Mr.system.addOnce(this.tick,this,Bs.UTILITY);else{this.ticking=!1;var a=this.completes.slice(0);this.completes.length=0;for(var r=0,i=a.length;r<i;r++)a[r]()}},e.prototype.registerFindHook=function(t){return t&&this.addHooks.push(t),this},e.prototype.registerUploadHook=function(t){return t&&this.uploadHooks.push(t),this},e.prototype.add=function(t){for(var n=0,r=this.addHooks.length;n<r&&!this.addHooks[n](t,this.queue);n++);if(t instanceof $r)for(var n=t.children.length-1;n>=0;n--)this.add(t.children[n]);return this},e.prototype.destroy=function(){this.ticking&&Mr.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},e}();function ZD(e,t){return t instanceof At?(t._glTextures[e.CONTEXT_UID]||e.texture.bind(t),!0):!1}function $re(e,t){if(!(t instanceof y0))return!1;var n=t.geometry;t.finishPoly(),n.updateBatches();for(var r=n.batches,i=0;i<r.length;i++){var a=r[i].style.texture;a&&ZD(e,a.baseTexture)}return n.batchable||e.geometry.bind(n,t._resolveDirectShader(e)),!0}function Hre(e,t){return e instanceof y0?(t.push(e),!0):!1}var Wre=function(e){Ore(t,e);function t(n){var r=e.call(this,n)||this;return r.uploadHookHelper=r.renderer,r.registerFindHook(Hre),r.registerUploadHook(ZD),r.registerUploadHook($re),r}return t}(Gre);/*!
 * @pixi/spritesheet - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/spritesheet is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var jre=function(){function e(t,n,r){r===void 0&&(r=null),this._texture=t instanceof Ye?t:null,this.baseTexture=t instanceof At?t:this._texture.baseTexture,this.textures={},this.animations={},this.data=n;var i=this.baseTexture.resource;this.resolution=this._updateResolution(r||(i?i.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return e.prototype._updateResolution=function(t){t===void 0&&(t=null);var n=this.data.meta.scale,r=p0(t,null);return r===null&&(r=n!==void 0?parseFloat(n):1),r!==1&&this.baseTexture.setResolution(r),r},e.prototype.parse=function(t){this._batchIndex=0,this._callback=t,this._frameKeys.length<=e.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},e.prototype._processFrames=function(t){for(var n=t,r=e.BATCH_SIZE;n-t<r&&n<this._frameKeys.length;){var i=this._frameKeys[n],a=this._frames[i],u=a.frame;if(u){var l=null,f=null,h=a.trimmed!==!1&&a.sourceSize?a.sourceSize:a.frame,d=new Lt(0,0,Math.floor(h.w)/this.resolution,Math.floor(h.h)/this.resolution);a.rotated?l=new Lt(Math.floor(u.x)/this.resolution,Math.floor(u.y)/this.resolution,Math.floor(u.h)/this.resolution,Math.floor(u.w)/this.resolution):l=new Lt(Math.floor(u.x)/this.resolution,Math.floor(u.y)/this.resolution,Math.floor(u.w)/this.resolution,Math.floor(u.h)/this.resolution),a.trimmed!==!1&&a.spriteSourceSize&&(f=new Lt(Math.floor(a.spriteSourceSize.x)/this.resolution,Math.floor(a.spriteSourceSize.y)/this.resolution,Math.floor(u.w)/this.resolution,Math.floor(u.h)/this.resolution)),this.textures[i]=new Ye(this.baseTexture,l,d,f,a.rotated?2:0,a.anchor),Ye.addToCache(this.textures[i],i)}n++}},e.prototype._processAnimations=function(){var t=this.data.animations||{};for(var n in t){this.animations[n]=[];for(var r=0;r<t[n].length;r++){var i=t[n][r];this.animations[n].push(this.textures[i])}}},e.prototype._parseComplete=function(){var t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)},e.prototype._nextBatch=function(){var t=this;this._processFrames(this._batchIndex*e.BATCH_SIZE),this._batchIndex++,setTimeout(function(){t._batchIndex*e.BATCH_SIZE<t._frameKeys.length?t._nextBatch():(t._processAnimations(),t._parseComplete())},0)},e.prototype.destroy=function(t){var n;t===void 0&&(t=!1);for(var r in this.textures)this.textures[r].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&((n=this._texture)===null||n===void 0||n.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null},e.BATCH_SIZE=1e3,e}(),zre=function(){function e(){}return e.use=function(t,n){var r,i,a=this,u=t.name+"_image";if(!t.data||t.type!==Mn.TYPE.JSON||!t.data.frames||a.resources[u]){n();return}var l=(i=(r=t.data)===null||r===void 0?void 0:r.meta)===null||i===void 0?void 0:i.related_multi_packs;if(Array.isArray(l))for(var f=function(x){if(typeof x!="string")return"continue";var b=x.replace(".json",""),y=bc.resolve(t.url.replace(a.baseUrl,""),x);if(a.resources[b]||Object.values(a.resources).some(function(S){return bc.format(bc.parse(S.url))===y}))return"continue";var E={crossOrigin:t.crossOrigin,loadType:Mn.LOAD_TYPE.XHR,xhrType:Mn.XHR_RESPONSE_TYPE.JSON,parentResource:t,metadata:t.metadata};a.add(b,y,E)},h=0,d=l;h<d.length;h++){var v=d[h];f(v)}var _={crossOrigin:t.crossOrigin,metadata:t.metadata.imageMetadata,parentResource:t},g=e.getResourcePath(t,a.baseUrl);a.add(u,g,_,function(b){if(b.error){n(b.error);return}var y=new jre(b.texture,t.data,t.url);y.parse(function(){t.spritesheet=y,t.textures=y.textures,n()})})},e.getResourcePath=function(t,n){return t.isDataUrl?t.data.meta.image:bc.resolve(t.url.replace(n,""),t.data.meta.image)},e}();/*!
 * @pixi/sprite-tiling - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/sprite-tiling is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var ZI=function(e,t){return ZI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},ZI(e,t)};function JD(e,t){ZI(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Lv=new bn;(function(e){JD(t,e);function t(n,r,i){r===void 0&&(r=100),i===void 0&&(i=100);var a=e.call(this,n)||this;return a.tileTransform=new fD,a._width=r,a._height=i,a.uvMatrix=a.texture.uvMatrix||new mR(n),a.pluginName="tilingSprite",a.uvRespectAnchor=!1,a}return Object.defineProperty(t.prototype,"clampMargin",{get:function(){return this.uvMatrix.clampMargin},set:function(n){this.uvMatrix.clampMargin=n,this.uvMatrix.update(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tileScale",{get:function(){return this.tileTransform.scale},set:function(n){this.tileTransform.scale.copyFrom(n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tilePosition",{get:function(){return this.tileTransform.position},set:function(n){this.tileTransform.position.copyFrom(n)},enumerable:!1,configurable:!0}),t.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},t.prototype._render=function(n){var r=this._texture;!r||!r.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),n.batch.setObjectRenderer(n.plugins[this.pluginName]),n.plugins[this.pluginName].render(this))},t.prototype._calculateBounds=function(){var n=this._width*-this._anchor._x,r=this._height*-this._anchor._y,i=this._width*(1-this._anchor._x),a=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,n,r,i,a)},t.prototype.getLocalBounds=function(n){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),n||(this._localBoundsRect||(this._localBoundsRect=new Lt),n=this._localBoundsRect),this._bounds.getRectangle(n)):e.prototype.getLocalBounds.call(this,n)},t.prototype.containsPoint=function(n){this.worldTransform.applyInverse(n,Lv);var r=this._width,i=this._height,a=-r*this.anchor._x;if(Lv.x>=a&&Lv.x<a+r){var u=-i*this.anchor._y;if(Lv.y>=u&&Lv.y<u+i)return!0}return!1},t.prototype.destroy=function(n){e.prototype.destroy.call(this,n),this.tileTransform=null,this.uvMatrix=null},t.from=function(n,r){var i=n instanceof Ye?n:Ye.from(n,r);return new t(i,r.width,r.height)},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(n){this._width=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(n){this._height=n},enumerable:!1,configurable:!0}),t})(Ds);var Xre=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`,nk=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,Vre=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,qre=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,Yre=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,em=new qn,Kre=function(e){JD(t,e);function t(n){var r=e.call(this,n)||this;return n.runners.contextChange.add(r),r.quad=new xD,r.state=$f.for2d(),r}return t.prototype.contextChange=function(){var n=this.renderer,r={globals:n.globalUniforms};this.simpleShader=lu.from(nk,Xre,r),this.shader=n.context.webGLVersion>1?lu.from(qre,Yre,r):lu.from(nk,Vre,r)},t.prototype.render=function(n){var r=this.renderer,i=this.quad,a=i.vertices;a[0]=a[6]=n._width*-n.anchor.x,a[1]=a[3]=n._height*-n.anchor.y,a[2]=a[4]=n._width*(1-n.anchor.x),a[5]=a[7]=n._height*(1-n.anchor.y);var u=n.uvRespectAnchor?n.anchor.x:0,l=n.uvRespectAnchor?n.anchor.y:0;a=i.uvs,a[0]=a[6]=-u,a[1]=a[3]=-l,a[2]=a[4]=1-u,a[5]=a[7]=1-l,i.invalidate();var f=n._texture,h=f.baseTexture,d=n.tileTransform.localTransform,v=n.uvMatrix,_=h.isPowerOfTwo&&f.frame.width===h.width&&f.frame.height===h.height;_&&(h._glTextures[r.CONTEXT_UID]?_=h.wrapMode!==Os.CLAMP:h.wrapMode===Os.CLAMP&&(h.wrapMode=Os.REPEAT));var g=_?this.simpleShader:this.shader,x=f.width,b=f.height,y=n._width,E=n._height;em.set(d.a*x/y,d.b*x/E,d.c*b/y,d.d*b/E,d.tx/y,d.ty/E),em.invert(),_?em.prepend(v.mapCoord):(g.uniforms.uMapCoord=v.mapCoord.toArray(!0),g.uniforms.uClampFrame=v.uClampFrame,g.uniforms.uClampOffset=v.uClampOffset),g.uniforms.uTransform=em.toArray(!0),g.uniforms.uColor=sD(n.tint,n.worldAlpha,g.uniforms.uColor,h.alphaMode),g.uniforms.translationMatrix=n.transform.worldTransform.toArray(!0),g.uniforms.uSampler=f,r.shader.bind(g),r.geometry.bind(i),this.state.blendMode=aD(n.blendMode,h.alphaMode),r.state.set(this.state),r.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},t}(py);/*!
 * @pixi/mesh - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/mesh is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var JI=function(e,t){return JI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},JI(e,t)};function bR(e,t){JI(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Zre=function(){function e(t,n){this.uvBuffer=t,this.uvMatrix=n,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}return e.prototype.update=function(t){if(!(!t&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var n=this.uvBuffer.data;(!this.data||this.data.length!==n.length)&&(this.data=new Float32Array(n.length)),this.uvMatrix.multiplyUvs(n,this.data),this._updateID++}},e}(),YC=new bn,rk=new Cm,$_=function(e){bR(t,e);function t(n,r,i,a){a===void 0&&(a=Yo.TRIANGLES);var u=e.call(this)||this;return u.geometry=n,u.shader=r,u.state=i||$f.for2d(),u.drawMode=a,u.start=0,u.size=0,u.uvs=null,u.indices=null,u.vertexData=new Float32Array(1),u.vertexDirty=-1,u._transformID=-1,u._roundPixels=ze.ROUND_PIXELS,u.batchUvs=null,u}return Object.defineProperty(t.prototype,"geometry",{get:function(){return this._geometry},set:function(n){this._geometry!==n&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=n,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uvBuffer",{get:function(){return this.geometry.buffers[1]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"verticesBuffer",{get:function(){return this.geometry.buffers[0]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"material",{get:function(){return this.shader},set:function(n){this.shader=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(n){this.state.blendMode=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(n){this._roundPixels!==n&&(this._transformID=-1),this._roundPixels=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return"tint"in this.shader?this.shader.tint:null},set:function(n){this.shader.tint=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"texture",{get:function(){return"texture"in this.shader?this.shader.texture:null},set:function(n){this.shader.texture=n},enumerable:!1,configurable:!0}),t.prototype._render=function(n){var r=this.geometry.buffers[0].data,i=this.shader;i.batchable&&this.drawMode===Yo.TRIANGLES&&r.length<t.BATCHABLE_SIZE*2?this._renderToBatch(n):this._renderDefault(n)},t.prototype._renderDefault=function(n){var r=this.shader;r.alpha=this.worldAlpha,r.update&&r.update(),n.batch.flush(),r.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),n.shader.bind(r),n.state.set(this.state),n.geometry.bind(this.geometry,r),n.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},t.prototype._renderToBatch=function(n){var r=this.geometry,i=this.shader;i.uvMatrix&&(i.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=r.indexBuffer.data,this._tintRGB=i._tintRGB,this._texture=i.texture;var a=this.material.pluginName;n.batch.setObjectRenderer(n.plugins[a]),n.plugins[a].render(this)},t.prototype.calculateVertices=function(){var n=this.geometry,r=n.buffers[0],i=r.data,a=r._updateID;if(!(a===this.vertexDirty&&this._transformID===this.transform._worldID)){this._transformID=this.transform._worldID,this.vertexData.length!==i.length&&(this.vertexData=new Float32Array(i.length));for(var u=this.transform.worldTransform,l=u.a,f=u.b,h=u.c,d=u.d,v=u.tx,_=u.ty,g=this.vertexData,x=0;x<g.length/2;x++){var b=i[x*2],y=i[x*2+1];g[x*2]=l*b+h*y+v,g[x*2+1]=f*b+d*y+_}if(this._roundPixels)for(var E=ze.RESOLUTION,x=0;x<g.length;++x)g[x]=Math.round((g[x]*E|0)/E);this.vertexDirty=a}},t.prototype.calculateUvs=function(){var n=this.geometry.buffers[1],r=this.shader;r.uvMatrix.isSimple?this.uvs=n.data:(this.batchUvs||(this.batchUvs=new Zre(n,r.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},t.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},t.prototype.containsPoint=function(n){if(!this.getBounds().contains(n.x,n.y))return!1;this.worldTransform.applyInverse(n,YC);for(var r=this.geometry.getBuffer("aVertexPosition").data,i=rk.points,a=this.geometry.getIndex().data,u=a.length,l=this.drawMode===4?3:1,f=0;f+2<u;f+=l){var h=a[f]*2,d=a[f+1]*2,v=a[f+2]*2;if(i[0]=r[h],i[1]=r[h+1],i[2]=r[d],i[3]=r[d+1],i[4]=r[v],i[5]=r[v+1],rk.contains(YC.x,YC.y))return!0}return!1},t.prototype.destroy=function(n){e.prototype.destroy.call(this,n),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},t.BATCHABLE_SIZE=100,t}($r),Jre=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,Qre=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`,H_=function(e){bR(t,e);function t(n,r){var i=this,a={uSampler:n,alpha:1,uTextureMatrix:qn.IDENTITY,uColor:new Float32Array([1,1,1,1])};return r=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},r),r.uniforms&&Object.assign(a,r.uniforms),i=e.call(this,r.program||fg.from(Qre,Jre),a)||this,i._colorDirty=!1,i.uvMatrix=new mR(n),i.batchable=r.program===void 0,i.pluginName=r.pluginName,i.tint=r.tint,i.alpha=r.alpha,i}return Object.defineProperty(t.prototype,"texture",{get:function(){return this.uniforms.uSampler},set:function(n){this.uniforms.uSampler!==n&&(this.uniforms.uSampler=n,this.uvMatrix.texture=n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"alpha",{get:function(){return this._alpha},set:function(n){n!==this._alpha&&(this._alpha=n,this._colorDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(n){n!==this._tint&&(this._tint=n,this._tintRGB=(n>>16)+(n&65280)+((n&255)<<16),this._colorDirty=!0)},enumerable:!1,configurable:!0}),t.prototype.update=function(){if(this._colorDirty){this._colorDirty=!1;var n=this.texture.baseTexture;sD(this._tint,this._alpha,this.uniforms.uColor,n.alphaMode)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},t}(lu),_y=function(e){bR(t,e);function t(n,r,i){var a=e.call(this)||this,u=new cr(n),l=new cr(r,!0),f=new cr(i,!0,!0);return a.addAttribute("aVertexPosition",u,2,!1,Ve.FLOAT).addAttribute("aTextureCoord",l,2,!1,Ve.FLOAT).addIndex(f),a._updateId=-1,a}return Object.defineProperty(t.prototype,"vertexDirtyId",{get:function(){return this.buffers[0]._updateID},enumerable:!1,configurable:!0}),t}(lg);/*!
 * @pixi/text-bitmap - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/text-bitmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var QI=function(e,t){return QI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},QI(e,t)};function eie(e,t){QI(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var b0=function(){function e(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}return e}(),tie=function(){function e(){}return e.test=function(t){return typeof t=="string"&&t.indexOf("info face=")===0},e.parse=function(t){var n=t.match(/^[a-z]+\s+.+$/gm),r={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(var i in n){var a=n[i].match(/^[a-z]+/gm)[0],u=n[i].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),l={};for(var f in u){var h=u[f].split("="),d=h[0],v=h[1].replace(/"/gm,""),_=parseFloat(v),g=isNaN(_)?v:_;l[d]=g}r[a].push(l)}var x=new b0;return r.info.forEach(function(b){return x.info.push({face:b.face,size:parseInt(b.size,10)})}),r.common.forEach(function(b){return x.common.push({lineHeight:parseInt(b.lineHeight,10)})}),r.page.forEach(function(b){return x.page.push({id:parseInt(b.id,10),file:b.file})}),r.char.forEach(function(b){return x.char.push({id:parseInt(b.id,10),page:parseInt(b.page,10),x:parseInt(b.x,10),y:parseInt(b.y,10),width:parseInt(b.width,10),height:parseInt(b.height,10),xoffset:parseInt(b.xoffset,10),yoffset:parseInt(b.yoffset,10),xadvance:parseInt(b.xadvance,10)})}),r.kerning.forEach(function(b){return x.kerning.push({first:parseInt(b.first,10),second:parseInt(b.second,10),amount:parseInt(b.amount,10)})}),r.distanceField.forEach(function(b){return x.distanceField.push({distanceRange:parseInt(b.distanceRange,10),fieldType:b.fieldType})}),x},e}(),eA=function(){function e(){}return e.test=function(t){return t instanceof XMLDocument&&t.getElementsByTagName("page").length&&t.getElementsByTagName("info")[0].getAttribute("face")!==null},e.parse=function(t){for(var n=new b0,r=t.getElementsByTagName("info"),i=t.getElementsByTagName("common"),a=t.getElementsByTagName("page"),u=t.getElementsByTagName("char"),l=t.getElementsByTagName("kerning"),f=t.getElementsByTagName("distanceField"),h=0;h<r.length;h++)n.info.push({face:r[h].getAttribute("face"),size:parseInt(r[h].getAttribute("size"),10)});for(var h=0;h<i.length;h++)n.common.push({lineHeight:parseInt(i[h].getAttribute("lineHeight"),10)});for(var h=0;h<a.length;h++)n.page.push({id:parseInt(a[h].getAttribute("id"),10)||0,file:a[h].getAttribute("file")});for(var h=0;h<u.length;h++){var d=u[h];n.char.push({id:parseInt(d.getAttribute("id"),10),page:parseInt(d.getAttribute("page"),10)||0,x:parseInt(d.getAttribute("x"),10),y:parseInt(d.getAttribute("y"),10),width:parseInt(d.getAttribute("width"),10),height:parseInt(d.getAttribute("height"),10),xoffset:parseInt(d.getAttribute("xoffset"),10),yoffset:parseInt(d.getAttribute("yoffset"),10),xadvance:parseInt(d.getAttribute("xadvance"),10)})}for(var h=0;h<l.length;h++)n.kerning.push({first:parseInt(l[h].getAttribute("first"),10),second:parseInt(l[h].getAttribute("second"),10),amount:parseInt(l[h].getAttribute("amount"),10)});for(var h=0;h<f.length;h++)n.distanceField.push({fieldType:f[h].getAttribute("fieldType"),distanceRange:parseInt(f[h].getAttribute("distanceRange"),10)});return n},e}(),nie=function(){function e(){}return e.test=function(t){if(typeof t=="string"&&t.indexOf("<font>")>-1){var n=new globalThis.DOMParser().parseFromString(t,"text/xml");return eA.test(n)}return!1},e.parse=function(t){var n=new globalThis.DOMParser().parseFromString(t,"text/xml");return eA.parse(n)},e}(),KC=[tie,eA,nie];function QD(e){for(var t=0;t<KC.length;t++)if(KC[t].test(e))return KC[t];return null}function rie(e,t,n,r,i,a){var u=n.fill;if(Array.isArray(u)){if(u.length===1)return u[0]}else return u;var l,f=n.dropShadow?n.dropShadowDistance:0,h=n.padding||0,d=e.width/r-f-h*2,v=e.height/r-f-h*2,_=u.slice(),g=n.fillGradientStops.slice();if(!g.length)for(var x=_.length+1,b=1;b<x;++b)g.push(b/x);if(_.unshift(u[0]),g.unshift(0),_.push(u[u.length-1]),g.push(1),n.fillGradientType===G_.LINEAR_VERTICAL){l=t.createLinearGradient(d/2,h,d/2,v+h);for(var y=0,E=a.fontProperties.fontSize+n.strokeThickness,S=E/v,b=0;b<i.length;b++)for(var A=a.lineHeight*b,L=0;L<_.length;L++){var P=0;typeof g[L]=="number"?P=g[L]:P=L/_.length;var R=A/v+P*S,D=Math.max(y,R);D=Math.min(D,1),l.addColorStop(D,_[L]),y=D}}else{l=t.createLinearGradient(h,v/2,d+h,v/2);for(var $=_.length+1,U=1,b=0;b<_.length;b++){var K=void 0;typeof g[b]=="number"?K=g[b]:K=U/$,l.addColorStop(K,_[b]),U++}}return l}function iie(e,t,n,r,i,a,u){var l=n.text,f=n.fontProperties;t.translate(r,i),t.scale(a,a);var h=u.strokeThickness/2,d=-(u.strokeThickness/2);if(t.font=u.toFontString(),t.lineWidth=u.strokeThickness,t.textBaseline=u.textBaseline,t.lineJoin=u.lineJoin,t.miterLimit=u.miterLimit,t.fillStyle=rie(e,t,u,a,[l],n),t.strokeStyle=u.stroke,u.dropShadow){var v=u.dropShadowColor,_=eh(typeof v=="number"?v:iD(v)),g=u.dropShadowBlur*a,x=u.dropShadowDistance*a;t.shadowColor="rgba("+_[0]*255+","+_[1]*255+","+_[2]*255+","+u.dropShadowAlpha+")",t.shadowBlur=g,t.shadowOffsetX=Math.cos(u.dropShadowAngle)*x,t.shadowOffsetY=Math.sin(u.dropShadowAngle)*x}else t.shadowColor="black",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0;u.stroke&&u.strokeThickness&&t.strokeText(l,h,d+n.lineHeight-f.descent),u.fill&&t.fillText(l,h,d+n.lineHeight-f.descent),t.setTransform(1,0,0,1,0,0),t.fillStyle="rgba(0, 0, 0, 0)"}function eM(e){return Array.from?Array.from(e):e.split("")}function oie(e){typeof e=="string"&&(e=[e]);for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];if(Array.isArray(i)){if(i.length!==2)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got "+i.length+".");var a=i[0].charCodeAt(0),u=i[1].charCodeAt(0);if(u<a)throw new Error("[BitmapFont]: Invalid character range.");for(var l=a,f=u;l<=f;l++)t.push(String.fromCharCode(l))}else t.push.apply(t,eM(i))}if(t.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return t}function Im(e){return e.codePointAt?e.codePointAt(0):e.charCodeAt(0)}var fc=function(){function e(t,n,r){var i,a,u=t.info[0],l=t.common[0],f=t.page[0],h=t.distanceField[0],d=p0(f.file),v={};this._ownsTextures=r,this.font=u.face,this.size=u.size,this.lineHeight=l.lineHeight/d,this.chars={},this.pageTextures=v;for(var _=0;_<t.page.length;_++){var g=t.page[_],x=g.id,b=g.file;v[x]=n instanceof Array?n[_]:n[b],(h==null?void 0:h.fieldType)&&h.fieldType!=="none"&&(v[x].baseTexture.alphaMode=Jo.NO_PREMULTIPLIED_ALPHA)}for(var _=0;_<t.char.length;_++){var y=t.char[_],x=y.id,E=y.page,S=t.char[_],A=S.x,L=S.y,P=S.width,R=S.height,D=S.xoffset,$=S.yoffset,U=S.xadvance;A/=d,L/=d,P/=d,R/=d,D/=d,$/=d,U/=d;var K=new Lt(A+v[E].frame.x/d,L+v[E].frame.y/d,P,R);this.chars[x]={xOffset:D,yOffset:$,xAdvance:U,kerning:{},texture:new Ye(v[E].baseTexture,K),page:E}}for(var _=0;_<t.kerning.length;_++){var ie=t.kerning[_],re=ie.first,ve=ie.second,Ge=ie.amount;re/=d,ve/=d,Ge/=d,this.chars[ve]&&(this.chars[ve].kerning[re]=Ge)}this.distanceFieldRange=h==null?void 0:h.distanceRange,this.distanceFieldType=(a=(i=h==null?void 0:h.fieldType)===null||i===void 0?void 0:i.toLowerCase())!==null&&a!==void 0?a:"none"}return e.prototype.destroy=function(){for(var t in this.chars)this.chars[t].texture.destroy(),this.chars[t].texture=null;for(var t in this.pageTextures)this._ownsTextures&&this.pageTextures[t].destroy(!0),this.pageTextures[t]=null;this.chars=null,this.pageTextures=null},e.install=function(t,n,r){var i;if(t instanceof b0)i=t;else{var a=QD(t);if(!a)throw new Error("Unrecognized data format for font.");i=a.parse(t)}n instanceof Ye&&(n=[n]);var u=new e(i,n,r);return e.available[u.font]=u,u},e.uninstall=function(t){var n=e.available[t];if(!n)throw new Error("No font found named '"+t+"'");n.destroy(),delete e.available[t]},e.from=function(t,n,r){if(!t)throw new Error("[BitmapFont] Property `name` is required.");var i=Object.assign({},e.defaultOptions,r),a=i.chars,u=i.padding,l=i.resolution,f=i.textureWidth,h=i.textureHeight,d=oie(a),v=n instanceof nh?n:new nh(n),_=f,g=new b0;g.info[0]={face:v.fontFamily,size:v.fontSize},g.common[0]={lineHeight:v.fontSize};for(var x=0,b=0,y,E,S,A=0,L=[],P=0;P<d.length;P++){y||(y=document.createElement("canvas"),y.width=f,y.height=h,E=y.getContext("2d"),S=new At(y,{resolution:l}),L.push(new Ye(S)),g.page.push({id:L.length-1,file:""}));var R=xo.measureText(d[P],v,!1,y),D=R.width,$=Math.ceil(R.height),U=Math.ceil((v.fontStyle==="italic"?2:1)*D);if(b>=h-$*l){if(b===0)throw new Error("[BitmapFont] textureHeight "+h+"px is "+("too small for "+v.fontSize+"px fonts"));--P,y=null,E=null,S=null,b=0,x=0,A=0;continue}if(A=Math.max($+R.fontProperties.descent,A),U*l+x>=_){--P,b+=A*l,b=Math.ceil(b),x=0,A=0;continue}iie(y,E,R,x,b,l,v);var K=Im(R.text);g.char.push({id:K,page:L.length-1,x:x/l,y:b/l,width:U,height:$,xoffset:0,yoffset:0,xadvance:Math.ceil(D-(v.dropShadow?v.dropShadowDistance:0)-(v.stroke?v.strokeThickness:0))}),x+=(U+2*u)*l,x=Math.ceil(x)}for(var P=0,ie=d.length;P<ie;P++)for(var re=d[P],ve=0;ve<ie;ve++){var Ge=d[ve],ae=E.measureText(re).width,ce=E.measureText(Ge).width,me=E.measureText(re+Ge).width,Oe=me-(ae+ce);Oe&&g.kerning.push({first:Im(re),second:Im(Ge),amount:Oe})}var pt=new e(g,L,!0);return e.available[t]!==void 0&&e.uninstall(t),e.available[t]=pt,pt},e.ALPHA=[["a","z"],["A","Z"]," "],e.NUMERIC=[["0","9"]],e.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],e.ASCII=[[" ","~"]],e.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:e.ALPHANUMERIC},e.available={},e}(),aie=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, uColor.a * alpha);\r
\r
}\r
`,sie=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`,uie=[],lie=[],ik=[];(function(e){eie(t,e);function t(n,r){r===void 0&&(r={});var i=e.call(this)||this;i._tint=16777215;var a=Object.assign({},t.styleDefaults,r),u=a.align,l=a.tint,f=a.maxWidth,h=a.letterSpacing,d=a.fontName,v=a.fontSize;if(!fc.available[d])throw new Error('Missing BitmapFont "'+d+'"');return i._activePagesMeshData=[],i._textWidth=0,i._textHeight=0,i._align=u,i._tint=l,i._fontName=d,i._fontSize=v||fc.available[d].size,i._text=n,i._maxWidth=f,i._maxLineHeight=0,i._letterSpacing=h,i._anchor=new Tc(function(){i.dirty=!0},i,0,0),i._roundPixels=ze.ROUND_PIXELS,i.dirty=!0,i._textureCache={},i}return t.prototype.updateText=function(){for(var n,r=fc.available[this._fontName],i=this._fontSize/r.size,a=new bn,u=[],l=[],f=[],h=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",d=eM(h),v=this._maxWidth*r.size/this._fontSize,_=r.distanceFieldType==="none"?uie:lie,g=null,x=0,b=0,y=0,E=-1,S=0,A=0,L=0,P=0,R=0;R<d.length;R++){var D=d[R],$=Im(D);if(/(?:\s)/.test(D)&&(E=R,S=x,P++),D==="\r"||D===`
`){l.push(x),f.push(-1),b=Math.max(b,x),++y,++A,a.x=0,a.y+=r.lineHeight,g=null,P=0;continue}var U=r.chars[$];if(!!U){g&&U.kerning[g]&&(a.x+=U.kerning[g]);var K=ik.pop()||{texture:Ye.EMPTY,line:0,charCode:0,prevSpaces:0,position:new bn};K.texture=U.texture,K.line=y,K.charCode=$,K.position.x=a.x+U.xOffset+this._letterSpacing/2,K.position.y=a.y+U.yOffset,K.prevSpaces=P,u.push(K),x=K.position.x+Math.max(U.xAdvance,U.texture.orig.width),a.x+=U.xAdvance+this._letterSpacing,L=Math.max(L,U.yOffset+U.texture.height),g=$,E!==-1&&v>0&&a.x>v&&(++A,Gc(u,1+E-A,1+R-E),R=E,E=-1,l.push(S),f.push(u.length>0?u[u.length-1].prevSpaces:0),b=Math.max(b,S),y++,a.x=0,a.y+=r.lineHeight,g=null,P=0)}}var ie=d[d.length-1];ie!=="\r"&&ie!==`
`&&(/(?:\s)/.test(ie)&&(x=S),l.push(x),b=Math.max(b,x),f.push(-1));for(var re=[],R=0;R<=y;R++){var ve=0;this._align==="right"?ve=b-l[R]:this._align==="center"?ve=(b-l[R])/2:this._align==="justify"&&(ve=f[R]<0?0:(b-l[R])/f[R]),re.push(ve)}for(var Ge=u.length,ae={},ce=[],me=this._activePagesMeshData,R=0;R<me.length;R++)_.push(me[R]);for(var R=0;R<Ge;R++){var Oe=u[R].texture,pt=Oe.baseTexture.uid;if(!ae[pt]){var te=_.pop();if(!te){var Y=new _y,ue=void 0,Se=void 0;r.distanceFieldType==="none"?(ue=new H_(Ye.EMPTY),Se=qe.NORMAL):(ue=new H_(Ye.EMPTY,{program:fg.from(sie,aie),uniforms:{uFWidth:0}}),Se=qe.NORMAL_NPM);var ke=new $_(Y,ue);ke.blendMode=Se,te={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:ke,vertices:null,uvs:null,indices:null}}te.index=0,te.indexCount=0,te.vertexCount=0,te.uvsCount=0,te.total=0;var Be=this._textureCache;Be[pt]=Be[pt]||new Ye(Oe.baseTexture),te.mesh.texture=Be[pt],te.mesh.tint=this._tint,ce.push(te),ae[pt]=te}ae[pt].total++}for(var R=0;R<me.length;R++)ce.indexOf(me[R])===-1&&this.removeChild(me[R].mesh);for(var R=0;R<ce.length;R++)ce[R].mesh.parent!==this&&this.addChild(ce[R].mesh);this._activePagesMeshData=ce;for(var R in ae){var te=ae[R],Qe=te.total;if(!(((n=te.indices)===null||n===void 0?void 0:n.length)>6*Qe)||te.vertices.length<$_.BATCHABLE_SIZE*2)te.vertices=new Float32Array(4*2*Qe),te.uvs=new Float32Array(4*2*Qe),te.indices=new Uint16Array(6*Qe);else for(var It=te.total,mt=te.vertices,ot=It*4*2;ot<mt.length;ot++)mt[ot]=0;te.mesh.size=6*Qe}for(var R=0;R<Ge;R++){var D=u[R],Yt=D.position.x+re[D.line]*(this._align==="justify"?D.prevSpaces:1);this._roundPixels&&(Yt=Math.round(Yt));var ft=Yt*i,yt=D.position.y*i,Oe=D.texture,nt=ae[Oe.baseTexture.uid],ut=Oe.frame,vt=Oe._uvs,ht=nt.index++;nt.indices[ht*6+0]=0+ht*4,nt.indices[ht*6+1]=1+ht*4,nt.indices[ht*6+2]=2+ht*4,nt.indices[ht*6+3]=0+ht*4,nt.indices[ht*6+4]=2+ht*4,nt.indices[ht*6+5]=3+ht*4,nt.vertices[ht*8+0]=ft,nt.vertices[ht*8+1]=yt,nt.vertices[ht*8+2]=ft+ut.width*i,nt.vertices[ht*8+3]=yt,nt.vertices[ht*8+4]=ft+ut.width*i,nt.vertices[ht*8+5]=yt+ut.height*i,nt.vertices[ht*8+6]=ft,nt.vertices[ht*8+7]=yt+ut.height*i,nt.uvs[ht*8+0]=vt.x0,nt.uvs[ht*8+1]=vt.y0,nt.uvs[ht*8+2]=vt.x1,nt.uvs[ht*8+3]=vt.y1,nt.uvs[ht*8+4]=vt.x2,nt.uvs[ht*8+5]=vt.y2,nt.uvs[ht*8+6]=vt.x3,nt.uvs[ht*8+7]=vt.y3}this._textWidth=b*i,this._textHeight=(a.y+r.lineHeight)*i;for(var R in ae){var te=ae[R];if(this.anchor.x!==0||this.anchor.y!==0)for(var Pt=0,wr=this._textWidth*this.anchor.x,io=this._textHeight*this.anchor.y,pr=0;pr<te.total;pr++)te.vertices[Pt++]-=wr,te.vertices[Pt++]-=io,te.vertices[Pt++]-=wr,te.vertices[Pt++]-=io,te.vertices[Pt++]-=wr,te.vertices[Pt++]-=io,te.vertices[Pt++]-=wr,te.vertices[Pt++]-=io;this._maxLineHeight=L*i;var Dt=te.mesh.geometry.getBuffer("aVertexPosition"),Tr=te.mesh.geometry.getBuffer("aTextureCoord"),ni=te.mesh.geometry.getIndex();Dt.data=te.vertices,Tr.data=te.uvs,ni.data=te.indices,Dt.update(),Tr.update(),ni.update()}for(var R=0;R<u.length;R++)ik.push(u[R])},t.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},t.prototype._render=function(n){var r=fc.available[this._fontName],i=r.distanceFieldRange,a=r.distanceFieldType,u=r.size;if(a!=="none")for(var l=this.worldTransform,f=l.a,h=l.b,d=l.c,v=l.d,_=Math.sqrt(f*f+h*h),g=Math.sqrt(d*d+v*v),x=(Math.abs(_)+Math.abs(g))/2,b=this._fontSize/u,y=0,E=this._activePagesMeshData;y<E.length;y++){var S=E[y];S.mesh.shader.uniforms.uFWidth=x*i*b*n.resolution}e.prototype._render.call(this,n)},t.prototype.getLocalBounds=function(){return this.validate(),e.prototype.getLocalBounds.call(this)},t.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(n){if(this._tint!==n){this._tint=n;for(var r=0;r<this._activePagesMeshData.length;r++)this._activePagesMeshData[r].mesh.tint=n}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"align",{get:function(){return this._align},set:function(n){this._align!==n&&(this._align=n,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontName",{get:function(){return this._fontName},set:function(n){if(!fc.available[n])throw new Error('Missing BitmapFont "'+n+'"');this._fontName!==n&&(this._fontName=n,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this._fontSize},set:function(n){this._fontSize!==n&&(this._fontSize=n,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"anchor",{get:function(){return this._anchor},set:function(n){typeof n=="number"?this._anchor.set(n):this._anchor.copyFrom(n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(n){n=String(n==null?"":n),this._text!==n&&(this._text=n,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(n){this._maxWidth!==n&&(this._maxWidth=n,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxLineHeight",{get:function(){return this.validate(),this._maxLineHeight},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textWidth",{get:function(){return this.validate(),this._textWidth},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(n){this._letterSpacing!==n&&(this._letterSpacing=n,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(n){n!==this._roundPixels&&(this._roundPixels=n,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textHeight",{get:function(){return this.validate(),this._textHeight},enumerable:!1,configurable:!0}),t.prototype.destroy=function(n){var r=this._textureCache;for(var i in r){var a=r[i];a.destroy(),delete r[i]}this._textureCache=null,e.prototype.destroy.call(this,n)},t.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0},t})($r);var fie=function(){function e(){}return e.add=function(){Mn.setExtensionXhrType("fnt",Mn.XHR_RESPONSE_TYPE.TEXT)},e.use=function(t,n){var r=QD(t.data);if(!r){n();return}for(var i=e.getBaseUrl(this,t),a=r.parse(t.data),u={},l=function(b){u[b.metadata.pageFile]=b.texture,Object.keys(u).length===a.page.length&&(t.bitmapFont=fc.install(a,u,!0),n())},f=0;f<a.page.length;++f){var h=a.page[f].file,d=i+h,v=!1;for(var _ in this.resources){var g=this.resources[_];if(g.url===d){g.metadata.pageFile=h,g.texture?l(g):g.onAfterMiddleware.add(l),v=!0;break}}if(!v){var x={crossOrigin:t.crossOrigin,loadType:Mn.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:h},t.metadata.imageMetadata),parentResource:t};this.add(d,x,l)}}},e.getBaseUrl=function(t,n){var r=n.isDataUrl?"":e.dirname(n.url);return n.isDataUrl&&(r==="."&&(r=""),t.baseUrl&&r&&t.baseUrl.charAt(t.baseUrl.length-1)==="/"&&(r+="/")),r=r.replace(t.baseUrl,""),r&&r.charAt(r.length-1)!=="/"&&(r+="/"),r},e.dirname=function(t){var n=t.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");return n===t?".":n===""?"/":n},e}();/*!
 * @pixi/filter-alpha - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/filter-alpha is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var tA=function(e,t){return tA=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},tA(e,t)};function cie(e,t){tA(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var hie=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`,die=function(e){cie(t,e);function t(n){n===void 0&&(n=1);var r=e.call(this,vne,hie,{uAlpha:1})||this;return r.alpha=n,r}return Object.defineProperty(t.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(n){this.uniforms.uAlpha=n},enumerable:!1,configurable:!0}),t}(Au);/*!
 * @pixi/filter-blur - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/filter-blur is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var nA=function(e,t){return nA=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},nA(e,t)};function tM(e,t){nA(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var pie=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function vie(e,t){var n=Math.ceil(e/2),r=pie,i="",a;t?a="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":a="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(var u=0;u<e;u++){var l=a.replace("%index%",u.toString());l=l.replace("%sampleIndex%",u-(n-1)+".0"),i+=l,i+=`
`}return r=r.replace("%blur%",i),r=r.replace("%size%",e.toString()),r}var _ie={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},gie=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function mie(e){for(var t=_ie[e],n=t.length,r=gie,i="",a="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;",u,l=0;l<e;l++){var f=a.replace("%index%",l.toString());u=l,l>=n&&(u=e-l-1),f=f.replace("%value%",t[u].toString()),i+=f,i+=`
`}return r=r.replace("%blur%",i),r=r.replace("%size%",e.toString()),r}/*!
 * @pixi/constants - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var ok;(function(e){e[e.WEBGL_LEGACY=0]="WEBGL_LEGACY",e[e.WEBGL=1]="WEBGL",e[e.WEBGL2=2]="WEBGL2"})(ok||(ok={}));var ak;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.WEBGL=1]="WEBGL",e[e.CANVAS=2]="CANVAS"})(ak||(ak={}));var sk;(function(e){e[e.COLOR=16384]="COLOR",e[e.DEPTH=256]="DEPTH",e[e.STENCIL=1024]="STENCIL"})(sk||(sk={}));var uk;(function(e){e[e.NORMAL=0]="NORMAL",e[e.ADD=1]="ADD",e[e.MULTIPLY=2]="MULTIPLY",e[e.SCREEN=3]="SCREEN",e[e.OVERLAY=4]="OVERLAY",e[e.DARKEN=5]="DARKEN",e[e.LIGHTEN=6]="LIGHTEN",e[e.COLOR_DODGE=7]="COLOR_DODGE",e[e.COLOR_BURN=8]="COLOR_BURN",e[e.HARD_LIGHT=9]="HARD_LIGHT",e[e.SOFT_LIGHT=10]="SOFT_LIGHT",e[e.DIFFERENCE=11]="DIFFERENCE",e[e.EXCLUSION=12]="EXCLUSION",e[e.HUE=13]="HUE",e[e.SATURATION=14]="SATURATION",e[e.COLOR=15]="COLOR",e[e.LUMINOSITY=16]="LUMINOSITY",e[e.NORMAL_NPM=17]="NORMAL_NPM",e[e.ADD_NPM=18]="ADD_NPM",e[e.SCREEN_NPM=19]="SCREEN_NPM",e[e.NONE=20]="NONE",e[e.SRC_OVER=0]="SRC_OVER",e[e.SRC_IN=21]="SRC_IN",e[e.SRC_OUT=22]="SRC_OUT",e[e.SRC_ATOP=23]="SRC_ATOP",e[e.DST_OVER=24]="DST_OVER",e[e.DST_IN=25]="DST_IN",e[e.DST_OUT=26]="DST_OUT",e[e.DST_ATOP=27]="DST_ATOP",e[e.ERASE=26]="ERASE",e[e.SUBTRACT=28]="SUBTRACT",e[e.XOR=29]="XOR"})(uk||(uk={}));var lk;(function(e){e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(lk||(lk={}));var fk;(function(e){e[e.RGBA=6408]="RGBA",e[e.RGB=6407]="RGB",e[e.RG=33319]="RG",e[e.RED=6403]="RED",e[e.RGBA_INTEGER=36249]="RGBA_INTEGER",e[e.RGB_INTEGER=36248]="RGB_INTEGER",e[e.RG_INTEGER=33320]="RG_INTEGER",e[e.RED_INTEGER=36244]="RED_INTEGER",e[e.ALPHA=6406]="ALPHA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(fk||(fk={}));var ck;(function(e){e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(ck||(ck={}));var hk;(function(e){e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",e[e.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",e[e.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",e[e.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",e[e.BYTE=5120]="BYTE",e[e.SHORT=5122]="SHORT",e[e.INT=5124]="INT",e[e.FLOAT=5126]="FLOAT",e[e.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",e[e.HALF_FLOAT=36193]="HALF_FLOAT"})(hk||(hk={}));var dk;(function(e){e[e.FLOAT=0]="FLOAT",e[e.INT=1]="INT",e[e.UINT=2]="UINT"})(dk||(dk={}));var pk;(function(e){e[e.NEAREST=0]="NEAREST",e[e.LINEAR=1]="LINEAR"})(pk||(pk={}));var vk;(function(e){e[e.CLAMP=33071]="CLAMP",e[e.REPEAT=10497]="REPEAT",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(vk||(vk={}));var _k;(function(e){e[e.OFF=0]="OFF",e[e.POW2=1]="POW2",e[e.ON=2]="ON",e[e.ON_MANUAL=3]="ON_MANUAL"})(_k||(_k={}));var gk;(function(e){e[e.NPM=0]="NPM",e[e.UNPACK=1]="UNPACK",e[e.PMA=2]="PMA",e[e.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",e[e.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",e[e.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",e[e.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(gk||(gk={}));var W_;(function(e){e[e.NO=0]="NO",e[e.YES=1]="YES",e[e.AUTO=2]="AUTO",e[e.BLEND=0]="BLEND",e[e.CLEAR=1]="CLEAR",e[e.BLIT=2]="BLIT"})(W_||(W_={}));var mk;(function(e){e[e.AUTO=0]="AUTO",e[e.MANUAL=1]="MANUAL"})(mk||(mk={}));var yk;(function(e){e.LOW="lowp",e.MEDIUM="mediump",e.HIGH="highp"})(yk||(yk={}));var xk;(function(e){e[e.NONE=0]="NONE",e[e.SCISSOR=1]="SCISSOR",e[e.STENCIL=2]="STENCIL",e[e.SPRITE=3]="SPRITE"})(xk||(xk={}));var bk;(function(e){e[e.NONE=0]="NONE",e[e.LOW=2]="LOW",e[e.MEDIUM=4]="MEDIUM",e[e.HIGH=8]="HIGH"})(bk||(bk={}));var wk;(function(e){e[e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",e[e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",e[e.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(wk||(wk={}));var rA=function(e){tM(t,e);function t(n,r,i,a,u){r===void 0&&(r=8),i===void 0&&(i=4),a===void 0&&(a=ze.FILTER_RESOLUTION),u===void 0&&(u=5);var l=this,f=vie(u,n),h=mie(u);return l=e.call(this,f,h)||this,l.horizontal=n,l.resolution=a,l._quality=0,l.quality=i,l.blur=r,l}return t.prototype.apply=function(n,r,i,a){if(i?this.horizontal?this.uniforms.strength=1/i.width*(i.width/r.width):this.uniforms.strength=1/i.height*(i.height/r.height):this.horizontal?this.uniforms.strength=1/n.renderer.width*(n.renderer.width/r.width):this.uniforms.strength=1/n.renderer.height*(n.renderer.height/r.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)n.applyFilter(this,r,i,a);else{var u=n.getFilterTexture(),l=n.renderer,f=r,h=u;this.state.blend=!1,n.applyFilter(this,f,h,W_.CLEAR);for(var d=1;d<this.passes-1;d++){n.bindAndClear(f,W_.BLIT),this.uniforms.uSampler=h;var v=h;h=f,f=v,l.shader.bind(this),l.geometry.draw(5)}this.state.blend=!0,n.applyFilter(this,h,i,a),n.returnFilterTexture(u)}},Object.defineProperty(t.prototype,"blur",{get:function(){return this.strength},set:function(n){this.padding=1+Math.abs(n)*2,this.strength=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"quality",{get:function(){return this._quality},set:function(n){this._quality=n,this.passes=n},enumerable:!1,configurable:!0}),t}(Au),yie=function(e){tM(t,e);function t(n,r,i,a){n===void 0&&(n=8),r===void 0&&(r=4),i===void 0&&(i=ze.FILTER_RESOLUTION),a===void 0&&(a=5);var u=e.call(this)||this;return u.blurXFilter=new rA(!0,n,r,i,a),u.blurYFilter=new rA(!1,n,r,i,a),u.resolution=i,u.quality=r,u.blur=n,u.repeatEdgePixels=!1,u}return t.prototype.apply=function(n,r,i,a){var u=Math.abs(this.blurXFilter.strength),l=Math.abs(this.blurYFilter.strength);if(u&&l){var f=n.getFilterTexture();this.blurXFilter.apply(n,r,f,W_.CLEAR),this.blurYFilter.apply(n,f,i,a),n.returnFilterTexture(f)}else l?this.blurYFilter.apply(n,r,i,a):this.blurXFilter.apply(n,r,i,a)},t.prototype.updatePadding=function(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2},Object.defineProperty(t.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(n){this.blurXFilter.blur=this.blurYFilter.blur=n,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"quality",{get:function(){return this.blurXFilter.quality},set:function(n){this.blurXFilter.quality=this.blurYFilter.quality=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(n){this.blurXFilter.blur=n,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(n){this.blurYFilter.blur=n,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.blurYFilter.blendMode},set:function(n){this.blurYFilter.blendMode=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"repeatEdgePixels",{get:function(){return this._repeatEdgePixels},set:function(n){this._repeatEdgePixels=n,this.updatePadding()},enumerable:!1,configurable:!0}),t}(Au);/*!
 * @pixi/filter-color-matrix - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/filter-color-matrix is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var iA=function(e,t){return iA=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},iA(e,t)};function xie(e,t){iA(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var bie=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`,oA=function(e){xie(t,e);function t(){var n=this,r={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};return n=e.call(this,HD,bie,r)||this,n.alpha=1,n}return t.prototype._loadMatrix=function(n,r){r===void 0&&(r=!1);var i=n;r&&(this._multiply(i,this.uniforms.m,n),i=this._colorMatrix(i)),this.uniforms.m=i},t.prototype._multiply=function(n,r,i){return n[0]=r[0]*i[0]+r[1]*i[5]+r[2]*i[10]+r[3]*i[15],n[1]=r[0]*i[1]+r[1]*i[6]+r[2]*i[11]+r[3]*i[16],n[2]=r[0]*i[2]+r[1]*i[7]+r[2]*i[12]+r[3]*i[17],n[3]=r[0]*i[3]+r[1]*i[8]+r[2]*i[13]+r[3]*i[18],n[4]=r[0]*i[4]+r[1]*i[9]+r[2]*i[14]+r[3]*i[19]+r[4],n[5]=r[5]*i[0]+r[6]*i[5]+r[7]*i[10]+r[8]*i[15],n[6]=r[5]*i[1]+r[6]*i[6]+r[7]*i[11]+r[8]*i[16],n[7]=r[5]*i[2]+r[6]*i[7]+r[7]*i[12]+r[8]*i[17],n[8]=r[5]*i[3]+r[6]*i[8]+r[7]*i[13]+r[8]*i[18],n[9]=r[5]*i[4]+r[6]*i[9]+r[7]*i[14]+r[8]*i[19]+r[9],n[10]=r[10]*i[0]+r[11]*i[5]+r[12]*i[10]+r[13]*i[15],n[11]=r[10]*i[1]+r[11]*i[6]+r[12]*i[11]+r[13]*i[16],n[12]=r[10]*i[2]+r[11]*i[7]+r[12]*i[12]+r[13]*i[17],n[13]=r[10]*i[3]+r[11]*i[8]+r[12]*i[13]+r[13]*i[18],n[14]=r[10]*i[4]+r[11]*i[9]+r[12]*i[14]+r[13]*i[19]+r[14],n[15]=r[15]*i[0]+r[16]*i[5]+r[17]*i[10]+r[18]*i[15],n[16]=r[15]*i[1]+r[16]*i[6]+r[17]*i[11]+r[18]*i[16],n[17]=r[15]*i[2]+r[16]*i[7]+r[17]*i[12]+r[18]*i[17],n[18]=r[15]*i[3]+r[16]*i[8]+r[17]*i[13]+r[18]*i[18],n[19]=r[15]*i[4]+r[16]*i[9]+r[17]*i[14]+r[18]*i[19]+r[19],n},t.prototype._colorMatrix=function(n){var r=new Float32Array(n);return r[4]/=255,r[9]/=255,r[14]/=255,r[19]/=255,r},t.prototype.brightness=function(n,r){var i=[n,0,0,0,0,0,n,0,0,0,0,0,n,0,0,0,0,0,1,0];this._loadMatrix(i,r)},t.prototype.tint=function(n,r){var i=n>>16&255,a=n>>8&255,u=n&255,l=[i/255,0,0,0,0,0,a/255,0,0,0,0,0,u/255,0,0,0,0,0,1,0];this._loadMatrix(l,r)},t.prototype.greyscale=function(n,r){var i=[n,n,n,0,0,n,n,n,0,0,n,n,n,0,0,0,0,0,1,0];this._loadMatrix(i,r)},t.prototype.blackAndWhite=function(n){var r=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(r,n)},t.prototype.hue=function(n,r){n=(n||0)/180*Math.PI;var i=Math.cos(n),a=Math.sin(n),u=Math.sqrt,l=1/3,f=u(l),h=i+(1-i)*l,d=l*(1-i)-f*a,v=l*(1-i)+f*a,_=l*(1-i)+f*a,g=i+l*(1-i),x=l*(1-i)-f*a,b=l*(1-i)-f*a,y=l*(1-i)+f*a,E=i+l*(1-i),S=[h,d,v,0,0,_,g,x,0,0,b,y,E,0,0,0,0,0,1,0];this._loadMatrix(S,r)},t.prototype.contrast=function(n,r){var i=(n||0)+1,a=-.5*(i-1),u=[i,0,0,0,a,0,i,0,0,a,0,0,i,0,a,0,0,0,1,0];this._loadMatrix(u,r)},t.prototype.saturate=function(n,r){n===void 0&&(n=0);var i=n*2/3+1,a=(i-1)*-.5,u=[i,a,a,0,0,a,i,a,0,0,a,a,i,0,0,0,0,0,1,0];this._loadMatrix(u,r)},t.prototype.desaturate=function(){this.saturate(-1)},t.prototype.negative=function(n){var r=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(r,n)},t.prototype.sepia=function(n){var r=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(r,n)},t.prototype.technicolor=function(n){var r=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(r,n)},t.prototype.polaroid=function(n){var r=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(r,n)},t.prototype.toBGR=function(n){var r=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(r,n)},t.prototype.kodachrome=function(n){var r=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(r,n)},t.prototype.browni=function(n){var r=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(r,n)},t.prototype.vintage=function(n){var r=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(r,n)},t.prototype.colorTone=function(n,r,i,a,u){n=n||.2,r=r||.15,i=i||16770432,a=a||3375104;var l=(i>>16&255)/255,f=(i>>8&255)/255,h=(i&255)/255,d=(a>>16&255)/255,v=(a>>8&255)/255,_=(a&255)/255,g=[.3,.59,.11,0,0,l,f,h,n,0,d,v,_,r,0,l-d,f-v,h-_,0,0];this._loadMatrix(g,u)},t.prototype.night=function(n,r){n=n||.1;var i=[n*-2,-n,0,0,0,-n,0,n,0,0,0,n,n*2,0,0,0,0,0,1,0];this._loadMatrix(i,r)},t.prototype.predator=function(n,r){var i=[11.224130630493164*n,-4.794486999511719*n,-2.8746118545532227*n,0*n,.40342438220977783*n,-3.6330697536468506*n,9.193157196044922*n,-2.951810836791992*n,0*n,-1.316135048866272*n,-3.2184197902679443*n,-4.2375030517578125*n,7.476448059082031*n,0*n,.8044459223747253*n,0,0,0,1,0];this._loadMatrix(i,r)},t.prototype.lsd=function(n){var r=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(r,n)},t.prototype.reset=function(){var n=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(n,!1)},Object.defineProperty(t.prototype,"matrix",{get:function(){return this.uniforms.m},set:function(n){this.uniforms.m=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(n){this.uniforms.uAlpha=n},enumerable:!1,configurable:!0}),t}(Au);oA.prototype.grayscale=oA.prototype.greyscale;/*!
 * @pixi/filter-displacement - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/filter-displacement is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var aA=function(e,t){return aA=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},aA(e,t)};function wie(e,t){aA(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Tie=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,Eie=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`,Sie=function(e){wie(t,e);function t(n,r){var i=this,a=new qn;return n.renderable=!1,i=e.call(this,Eie,Tie,{mapSampler:n._texture,filterMatrix:a,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])})||this,i.maskSprite=n,i.maskMatrix=a,r==null&&(r=20),i.scale=new bn(r,r),i}return t.prototype.apply=function(n,r,i,a){this.uniforms.filterMatrix=n.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var u=this.maskSprite.worldTransform,l=Math.sqrt(u.a*u.a+u.b*u.b),f=Math.sqrt(u.c*u.c+u.d*u.d);l!==0&&f!==0&&(this.uniforms.rotation[0]=u.a/l,this.uniforms.rotation[1]=u.b/l,this.uniforms.rotation[2]=u.c/f,this.uniforms.rotation[3]=u.d/f),n.applyFilter(this,r,i,a)},Object.defineProperty(t.prototype,"map",{get:function(){return this.uniforms.mapSampler},set:function(n){this.uniforms.mapSampler=n},enumerable:!1,configurable:!0}),t}(Au);/*!
 * @pixi/filter-fxaa - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/filter-fxaa is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var sA=function(e,t){return sA=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},sA(e,t)};function Cie(e,t){sA(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Iie=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`,Aie=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`,Pie=function(e){Cie(t,e);function t(){return e.call(this,Iie,Aie)||this}return t}(Au);/*!
 * @pixi/filter-noise - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/filter-noise is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var uA=function(e,t){return uA=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},uA(e,t)};function Rie(e,t){uA(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Oie=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`,Nie=function(e){Rie(t,e);function t(n,r){n===void 0&&(n=.5),r===void 0&&(r=Math.random());var i=e.call(this,HD,Oie,{uNoise:0,uSeed:0})||this;return i.noise=n,i.seed=r,i}return Object.defineProperty(t.prototype,"noise",{get:function(){return this.uniforms.uNoise},set:function(n){this.uniforms.uNoise=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"seed",{get:function(){return this.uniforms.uSeed},set:function(n){this.uniforms.uSeed=n},enumerable:!1,configurable:!0}),t}(Au);/*!
 * @pixi/mixin-cache-as-bitmap - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/mixin-cache-as-bitmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*!
 * @pixi/constants - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Tk;(function(e){e[e.WEBGL_LEGACY=0]="WEBGL_LEGACY",e[e.WEBGL=1]="WEBGL",e[e.WEBGL2=2]="WEBGL2"})(Tk||(Tk={}));var Ek;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.WEBGL=1]="WEBGL",e[e.CANVAS=2]="CANVAS"})(Ek||(Ek={}));var Sk;(function(e){e[e.COLOR=16384]="COLOR",e[e.DEPTH=256]="DEPTH",e[e.STENCIL=1024]="STENCIL"})(Sk||(Sk={}));var Ck;(function(e){e[e.NORMAL=0]="NORMAL",e[e.ADD=1]="ADD",e[e.MULTIPLY=2]="MULTIPLY",e[e.SCREEN=3]="SCREEN",e[e.OVERLAY=4]="OVERLAY",e[e.DARKEN=5]="DARKEN",e[e.LIGHTEN=6]="LIGHTEN",e[e.COLOR_DODGE=7]="COLOR_DODGE",e[e.COLOR_BURN=8]="COLOR_BURN",e[e.HARD_LIGHT=9]="HARD_LIGHT",e[e.SOFT_LIGHT=10]="SOFT_LIGHT",e[e.DIFFERENCE=11]="DIFFERENCE",e[e.EXCLUSION=12]="EXCLUSION",e[e.HUE=13]="HUE",e[e.SATURATION=14]="SATURATION",e[e.COLOR=15]="COLOR",e[e.LUMINOSITY=16]="LUMINOSITY",e[e.NORMAL_NPM=17]="NORMAL_NPM",e[e.ADD_NPM=18]="ADD_NPM",e[e.SCREEN_NPM=19]="SCREEN_NPM",e[e.NONE=20]="NONE",e[e.SRC_OVER=0]="SRC_OVER",e[e.SRC_IN=21]="SRC_IN",e[e.SRC_OUT=22]="SRC_OUT",e[e.SRC_ATOP=23]="SRC_ATOP",e[e.DST_OVER=24]="DST_OVER",e[e.DST_IN=25]="DST_IN",e[e.DST_OUT=26]="DST_OUT",e[e.DST_ATOP=27]="DST_ATOP",e[e.ERASE=26]="ERASE",e[e.SUBTRACT=28]="SUBTRACT",e[e.XOR=29]="XOR"})(Ck||(Ck={}));var Ik;(function(e){e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(Ik||(Ik={}));var Ak;(function(e){e[e.RGBA=6408]="RGBA",e[e.RGB=6407]="RGB",e[e.RG=33319]="RG",e[e.RED=6403]="RED",e[e.RGBA_INTEGER=36249]="RGBA_INTEGER",e[e.RGB_INTEGER=36248]="RGB_INTEGER",e[e.RG_INTEGER=33320]="RG_INTEGER",e[e.RED_INTEGER=36244]="RED_INTEGER",e[e.ALPHA=6406]="ALPHA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(Ak||(Ak={}));var Pk;(function(e){e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(Pk||(Pk={}));var Rk;(function(e){e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",e[e.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",e[e.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",e[e.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",e[e.BYTE=5120]="BYTE",e[e.SHORT=5122]="SHORT",e[e.INT=5124]="INT",e[e.FLOAT=5126]="FLOAT",e[e.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",e[e.HALF_FLOAT=36193]="HALF_FLOAT"})(Rk||(Rk={}));var Ok;(function(e){e[e.FLOAT=0]="FLOAT",e[e.INT=1]="INT",e[e.UINT=2]="UINT"})(Ok||(Ok={}));var Nk;(function(e){e[e.NEAREST=0]="NEAREST",e[e.LINEAR=1]="LINEAR"})(Nk||(Nk={}));var Lk;(function(e){e[e.CLAMP=33071]="CLAMP",e[e.REPEAT=10497]="REPEAT",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(Lk||(Lk={}));var kk;(function(e){e[e.OFF=0]="OFF",e[e.POW2=1]="POW2",e[e.ON=2]="ON",e[e.ON_MANUAL=3]="ON_MANUAL"})(kk||(kk={}));var Fk;(function(e){e[e.NPM=0]="NPM",e[e.UNPACK=1]="UNPACK",e[e.PMA=2]="PMA",e[e.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",e[e.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",e[e.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",e[e.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(Fk||(Fk={}));var Bk;(function(e){e[e.NO=0]="NO",e[e.YES=1]="YES",e[e.AUTO=2]="AUTO",e[e.BLEND=0]="BLEND",e[e.CLEAR=1]="CLEAR",e[e.BLIT=2]="BLIT"})(Bk||(Bk={}));var Uk;(function(e){e[e.AUTO=0]="AUTO",e[e.MANUAL=1]="MANUAL"})(Uk||(Uk={}));var Dk;(function(e){e.LOW="lowp",e.MEDIUM="mediump",e.HIGH="highp"})(Dk||(Dk={}));var Mk;(function(e){e[e.NONE=0]="NONE",e[e.SCISSOR=1]="SCISSOR",e[e.STENCIL=2]="STENCIL",e[e.SPRITE=3]="SPRITE"})(Mk||(Mk={}));var lA;(function(e){e[e.NONE=0]="NONE",e[e.LOW=2]="LOW",e[e.MEDIUM=4]="MEDIUM",e[e.HIGH=8]="HIGH"})(lA||(lA={}));var Gk;(function(e){e[e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",e[e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",e[e.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(Gk||(Gk={}));var nM=new qn;Yn.prototype._cacheAsBitmap=!1;Yn.prototype._cacheData=null;Yn.prototype._cacheAsBitmapResolution=null;Yn.prototype._cacheAsBitmapMultisample=lA.NONE;var Lie=function(){function e(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}return e}();Object.defineProperties(Yn.prototype,{cacheAsBitmapResolution:{get:function(){return this._cacheAsBitmapResolution},set:function(e){e!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=e,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get:function(){return this._cacheAsBitmapMultisample},set:function(e){e!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=e,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(e){if(this._cacheAsBitmap!==e){this._cacheAsBitmap=e;var t;e?(this._cacheData||(this._cacheData=new Lie),t=this._cacheData,t.originalRender=this.render,t.originalRenderCanvas=this.renderCanvas,t.originalUpdateTransform=this.updateTransform,t.originalCalculateBounds=this.calculateBounds,t.originalGetLocalBounds=this.getLocalBounds,t.originalDestroy=this.destroy,t.originalContainsPoint=this.containsPoint,t.originalMask=this._mask,t.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(t=this._cacheData,t.sprite&&this._destroyCachedDisplayObject(),this.render=t.originalRender,this.renderCanvas=t.originalRenderCanvas,this.calculateBounds=t.originalCalculateBounds,this.getLocalBounds=t.originalGetLocalBounds,this.destroy=t.originalDestroy,this.updateTransform=t.originalUpdateTransform,this.containsPoint=t.originalContainsPoint,this._mask=t.originalMask,this.filterArea=t.originalFilterArea)}}}});Yn.prototype._renderCached=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(t))};Yn.prototype._initCachedDisplayObject=function(t){var n;if(!(this._cacheData&&this._cacheData.sprite)){var r=this.alpha;this.alpha=1,t.batch.flush();var i=this.getLocalBounds(null,!0).clone();if(this.filters&&this.filters.length){var a=this.filters[0].padding;i.pad(a)}i.ceil(ze.RESOLUTION);var u=t.renderTexture.current,l=t.renderTexture.sourceFrame.clone(),f=t.renderTexture.destinationFrame.clone(),h=t.projection.transform,d=Lf.create({width:i.width,height:i.height,resolution:this.cacheAsBitmapResolution||t.resolution,multisample:(n=this.cacheAsBitmapMultisample)!==null&&n!==void 0?n:t.multisample}),v="cacheAsBitmap_"+Of();this._cacheData.textureCacheId=v,At.addToCache(d.baseTexture,v),Ye.addToCache(d,v);var _=this.transform.localTransform.copyTo(nM).invert().translate(-i.x,-i.y);this.render=this._cacheData.originalRender,t.render(this,{renderTexture:d,clear:!0,transform:_,skipUpdateTransform:!1}),t.framebuffer.blit(),t.projection.transform=h,t.renderTexture.bind(u,l,f),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=r;var g=new Ds(d);g.transform.worldTransform=this.transform.worldTransform,g.anchor.x=-(i.x/i.width),g.anchor.y=-(i.y/i.height),g.alpha=r,g._bounds=this._bounds,this._cacheData.sprite=g,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=g.containsPoint.bind(g)}};Yn.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(t))};Yn.prototype._initCachedDisplayObjectCanvas=function(t){if(!(this._cacheData&&this._cacheData.sprite)){var n=this.getLocalBounds(null,!0),r=this.alpha;this.alpha=1;var i=t.context,a=t._projTransform;n.ceil(ze.RESOLUTION);var u=Lf.create({width:n.width,height:n.height}),l="cacheAsBitmap_"+Of();this._cacheData.textureCacheId=l,At.addToCache(u.baseTexture,l),Ye.addToCache(u,l);var f=nM;this.transform.localTransform.copyTo(f),f.invert(),f.tx-=n.x,f.ty-=n.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,{renderTexture:u,clear:!0,transform:f,skipUpdateTransform:!1}),t.context=i,t._projTransform=a,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=r;var h=new Ds(u);h.transform.worldTransform=this.transform.worldTransform,h.anchor.x=-(n.x/n.width),h.anchor.y=-(n.y/n.height),h.alpha=r,h._bounds=this._bounds,this._cacheData.sprite=h,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=h.containsPoint.bind(h)}};Yn.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};Yn.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};Yn.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,At.removeFromCache(this._cacheData.textureCacheId),Ye.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};Yn.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)};/*!
 * @pixi/mixin-get-child-by-name - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/mixin-get-child-by-name is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Yn.prototype.name=null;$r.prototype.getChildByName=function(t,n){for(var r=0,i=this.children.length;r<i;r++)if(this.children[r].name===t)return this.children[r];if(n)for(var r=0,i=this.children.length;r<i;r++){var a=this.children[r];if(!!a.getChildByName){var u=this.children[r].getChildByName(t,!0);if(u)return u}}return null};/*!
 * @pixi/mixin-get-global-position - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/mixin-get-global-position is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Yn.prototype.getGlobalPosition=function(t,n){return t===void 0&&(t=new bn),n===void 0&&(n=!1),this.parent?this.parent.toGlobal(this.position,t,n):(t.x=this.position.x,t.y=this.position.y),t};/*!
 * @pixi/mesh-extras - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/mesh-extras is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var fA=function(e,t){return fA=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},fA(e,t)};function Ph(e,t){fA(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var kie=function(e){Ph(t,e);function t(n,r,i,a){n===void 0&&(n=100),r===void 0&&(r=100),i===void 0&&(i=10),a===void 0&&(a=10);var u=e.call(this)||this;return u.segWidth=i,u.segHeight=a,u.width=n,u.height=r,u.build(),u}return t.prototype.build=function(){for(var n=this.segWidth*this.segHeight,r=[],i=[],a=[],u=this.segWidth-1,l=this.segHeight-1,f=this.width/u,h=this.height/l,d=0;d<n;d++){var v=d%this.segWidth,_=d/this.segWidth|0;r.push(v*f,_*h),i.push(v/u,_/l)}for(var g=u*l,d=0;d<g;d++){var x=d%u,b=d/u|0,y=b*this.segWidth+x,E=b*this.segWidth+x+1,S=(b+1)*this.segWidth+x,A=(b+1)*this.segWidth+x+1;a.push(y,E,S,E,A,S)}this.buffers[0].data=new Float32Array(r),this.buffers[1].data=new Float32Array(i),this.indexBuffer.data=new Uint16Array(a),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},t}(_y),Fie=function(e){Ph(t,e);function t(n,r,i){n===void 0&&(n=200),i===void 0&&(i=0);var a=e.call(this,new Float32Array(r.length*4),new Float32Array(r.length*4),new Uint16Array((r.length-1)*6))||this;return a.points=r,a._width=n,a.textureScale=i,a.build(),a}return Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),t.prototype.build=function(){var n=this.points;if(!!n){var r=this.getBuffer("aVertexPosition"),i=this.getBuffer("aTextureCoord"),a=this.getIndex();if(!(n.length<1)){r.data.length/4!==n.length&&(r.data=new Float32Array(n.length*4),i.data=new Float32Array(n.length*4),a.data=new Uint16Array((n.length-1)*6));var u=i.data,l=a.data;u[0]=0,u[1]=0,u[2]=0,u[3]=1;for(var f=0,h=n[0],d=this._width*this.textureScale,v=n.length,_=0;_<v;_++){var g=_*4;if(this.textureScale>0){var x=h.x-n[_].x,b=h.y-n[_].y,y=Math.sqrt(x*x+b*b);h=n[_],f+=y/d}else f=_/(v-1);u[g]=f,u[g+1]=0,u[g+2]=f,u[g+3]=1}for(var E=0,_=0;_<v-1;_++){var g=_*2;l[E++]=g,l[E++]=g+1,l[E++]=g+2,l[E++]=g+2,l[E++]=g+1,l[E++]=g+3}i.update(),a.update(),this.updateVertices()}}},t.prototype.updateVertices=function(){var n=this.points;if(!(n.length<1)){for(var r=n[0],i,a=0,u=0,l=this.buffers[0].data,f=n.length,h=0;h<f;h++){var d=n[h],v=h*4;h<n.length-1?i=n[h+1]:i=d,u=-(i.x-r.x),a=i.y-r.y;var _=Math.sqrt(a*a+u*u),g=this.textureScale>0?this.textureScale*this._width/2:this._width/2;a/=_,u/=_,a*=g,u*=g,l[v]=d.x+a,l[v+1]=d.y+u,l[v+2]=d.x-a,l[v+3]=d.y-u,r=d}this.buffers[0].update()}},t.prototype.update=function(){this.textureScale>0?this.build():this.updateVertices()},t}(_y);(function(e){Ph(t,e);function t(n,r,i){i===void 0&&(i=0);var a=this,u=new Fie(n.height,r,i),l=new H_(n);return i>0&&(n.baseTexture.wrapMode=Os.REPEAT),a=e.call(this,u,l)||this,a.autoUpdate=!0,a}return t.prototype._render=function(n){var r=this.geometry;(this.autoUpdate||r._width!==this.shader.texture.height)&&(r._width=this.shader.texture.height,r.update()),e.prototype._render.call(this,n)},t})($_);var Bie=function(e){Ph(t,e);function t(n,r,i){var a=this,u=new kie(n.width,n.height,r,i),l=new H_(Ye.WHITE);return a=e.call(this,u,l)||this,a.texture=n,a.autoResize=!0,a}return t.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID;var n=this.geometry,r=this.shader.texture,i=r.width,a=r.height;this.autoResize&&(n.width!==i||n.height!==a)&&(n.width=this.shader.texture.width,n.height=this.shader.texture.height,n.build())},Object.defineProperty(t.prototype,"texture",{get:function(){return this.shader.texture},set:function(n){this.shader.texture!==n&&(this.shader.texture=n,this._textureID=-1,n.baseTexture.valid?this.textureUpdated():n.once("update",this.textureUpdated,this))},enumerable:!1,configurable:!0}),t.prototype._render=function(n){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),e.prototype._render.call(this,n)},t.prototype.destroy=function(n){this.shader.texture.off("update",this.textureUpdated,this),e.prototype.destroy.call(this,n)},t}($_);(function(e){Ph(t,e);function t(n,r,i,a,u){n===void 0&&(n=Ye.EMPTY);var l=this,f=new _y(r,i,a);f.getBuffer("aVertexPosition").static=!1;var h=new H_(n);return l=e.call(this,f,h,null,u)||this,l.autoUpdate=!0,l}return Object.defineProperty(t.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(n){this.geometry.getBuffer("aVertexPosition").data=n},enumerable:!1,configurable:!0}),t.prototype._render=function(n){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),e.prototype._render.call(this,n)},t})($_);var tm=10;(function(e){Ph(t,e);function t(n,r,i,a,u){r===void 0&&(r=tm),i===void 0&&(i=tm),a===void 0&&(a=tm),u===void 0&&(u=tm);var l=e.call(this,Ye.WHITE,4,4)||this;return l._origWidth=n.orig.width,l._origHeight=n.orig.height,l._width=l._origWidth,l._height=l._origHeight,l._leftWidth=r,l._rightWidth=a,l._topHeight=i,l._bottomHeight=u,l.texture=n,l}return t.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},Object.defineProperty(t.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(n){this.geometry.getBuffer("aVertexPosition").data=n},enumerable:!1,configurable:!0}),t.prototype.updateHorizontalVertices=function(){var n=this.vertices,r=this._getMinScale();n[9]=n[11]=n[13]=n[15]=this._topHeight*r,n[17]=n[19]=n[21]=n[23]=this._height-this._bottomHeight*r,n[25]=n[27]=n[29]=n[31]=this._height},t.prototype.updateVerticalVertices=function(){var n=this.vertices,r=this._getMinScale();n[2]=n[10]=n[18]=n[26]=this._leftWidth*r,n[4]=n[12]=n[20]=n[28]=this._width-this._rightWidth*r,n[6]=n[14]=n[22]=n[30]=this._width},t.prototype._getMinScale=function(){var n=this._leftWidth+this._rightWidth,r=this._width>n?1:this._width/n,i=this._topHeight+this._bottomHeight,a=this._height>i?1:this._height/i,u=Math.min(r,a);return u},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(n){this._width=n,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(n){this._height=n,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leftWidth",{get:function(){return this._leftWidth},set:function(n){this._leftWidth=n,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rightWidth",{get:function(){return this._rightWidth},set:function(n){this._rightWidth=n,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"topHeight",{get:function(){return this._topHeight},set:function(n){this._topHeight=n,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottomHeight",{get:function(){return this._bottomHeight},set:function(n){this._bottomHeight=n,this._refresh()},enumerable:!1,configurable:!0}),t.prototype._refresh=function(){var n=this.texture,r=this.geometry.buffers[1].data;this._origWidth=n.orig.width,this._origHeight=n.orig.height;var i=1/this._origWidth,a=1/this._origHeight;r[0]=r[8]=r[16]=r[24]=0,r[1]=r[3]=r[5]=r[7]=0,r[6]=r[14]=r[22]=r[30]=1,r[25]=r[27]=r[29]=r[31]=1,r[2]=r[10]=r[18]=r[26]=i*this._leftWidth,r[4]=r[12]=r[20]=r[28]=1-i*this._rightWidth,r[9]=r[11]=r[13]=r[15]=a*this._topHeight,r[17]=r[19]=r[21]=r[23]=1-a*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()},t})(Bie);/*!
 * @pixi/sprite-animated - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/sprite-animated is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var cA=function(e,t){return cA=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},cA(e,t)};function Uie(e,t){cA(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}(function(e){Uie(t,e);function t(n,r){r===void 0&&(r=!0);var i=e.call(this,n[0]instanceof Ye?n[0]:n[0].texture)||this;return i._textures=null,i._durations=null,i._autoUpdate=r,i._isConnectedToTicker=!1,i.animationSpeed=1,i.loop=!0,i.updateAnchor=!1,i.onComplete=null,i.onFrameChange=null,i.onLoop=null,i._currentTime=0,i._playing=!1,i._previousFrame=null,i.textures=n,i}return t.prototype.stop=function(){!this._playing||(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(Mr.shared.remove(this.update,this),this._isConnectedToTicker=!1))},t.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(Mr.shared.add(this.update,this,Bs.HIGH),this._isConnectedToTicker=!0))},t.prototype.gotoAndStop=function(n){this.stop();var r=this.currentFrame;this._currentTime=n,r!==this.currentFrame&&this.updateTexture()},t.prototype.gotoAndPlay=function(n){var r=this.currentFrame;this._currentTime=n,r!==this.currentFrame&&this.updateTexture(),this.play()},t.prototype.update=function(n){if(!!this._playing){var r=this.animationSpeed*n,i=this.currentFrame;if(this._durations!==null){var a=this._currentTime%1*this._durations[this.currentFrame];for(a+=r/60*1e3;a<0;)this._currentTime--,a+=this._durations[this.currentFrame];var u=Math.sign(this.animationSpeed*n);for(this._currentTime=Math.floor(this._currentTime);a>=this._durations[this.currentFrame];)a-=this._durations[this.currentFrame]*u,this._currentTime+=u;this._currentTime+=a/this._durations[this.currentFrame]}else this._currentTime+=r;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):i!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<i?this.onLoop():this.animationSpeed<0&&this.currentFrame>i&&this.onLoop()),this.updateTexture())}},t.prototype.updateTexture=function(){var n=this.currentFrame;this._previousFrame!==n&&(this._previousFrame=n,this._texture=this._textures[n],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))},t.prototype.destroy=function(n){this.stop(),e.prototype.destroy.call(this,n),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},t.fromFrames=function(n){for(var r=[],i=0;i<n.length;++i)r.push(Ye.from(n[i]));return new t(r)},t.fromImages=function(n){for(var r=[],i=0;i<n.length;++i)r.push(Ye.from(n[i]));return new t(r)},Object.defineProperty(t.prototype,"totalFrames",{get:function(){return this._textures.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textures",{get:function(){return this._textures},set:function(n){if(n[0]instanceof Ye)this._textures=n,this._durations=null;else{this._textures=[],this._durations=[];for(var r=0;r<n.length;r++)this._textures.push(n[r].texture),this._durations.push(n[r].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentFrame",{get:function(){var n=Math.floor(this._currentTime)%this._textures.length;return n<0&&(n+=this._textures.length),n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(n){n!==this._autoUpdate&&(this._autoUpdate=n,!this._autoUpdate&&this._isConnectedToTicker?(Mr.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(Mr.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),t})(Ds);/*!
 * pixi.js - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * pixi.js is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Pu.registerPlugin("accessibility",rte);Pu.registerPlugin("extract",Sne);Pu.registerPlugin("interaction",lte);Pu.registerPlugin("particle",dre);Pu.registerPlugin("prepare",Wre);Pu.registerPlugin("batch",yne);Pu.registerPlugin("tilingSprite",Kre);go.registerPlugin(fie);go.registerPlugin(Hne);go.registerPlugin(ore);go.registerPlugin(fre);go.registerPlugin(zre);vy.registerPlugin(ite);vy.registerPlugin(kne);var $k={AlphaFilter:die,BlurFilter:yie,BlurFilterPass:rA,ColorMatrixFilter:oA,DisplacementFilter:Sie,FXAAFilter:Pie,NoiseFilter:Nie};let nm;const Die=new Uint8Array(16);function Mie(){if(!nm&&(nm=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!nm))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return nm(Die)}const Lr=[];for(let e=0;e<256;++e)Lr.push((e+256).toString(16).slice(1));function Gie(e,t=0){return(Lr[e[t+0]]+Lr[e[t+1]]+Lr[e[t+2]]+Lr[e[t+3]]+"-"+Lr[e[t+4]]+Lr[e[t+5]]+"-"+Lr[e[t+6]]+Lr[e[t+7]]+"-"+Lr[e[t+8]]+Lr[e[t+9]]+"-"+Lr[e[t+10]]+Lr[e[t+11]]+Lr[e[t+12]]+Lr[e[t+13]]+Lr[e[t+14]]+Lr[e[t+15]]).toLowerCase()}const $ie=typeof crypto!="undefined"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var Hk={randomUUID:$ie};function rm(e,t,n){if(Hk.randomUUID&&!t&&!e)return Hk.randomUUID();e=e||{};const r=e.random||(e.rng||Mie)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(let i=0;i<16;++i)t[n+i]=r[i];return t}return Gie(r)}class Hie{constructor(){zr(this,"currentApp",null);zr(this,"effectsContainer");zr(this,"figureContainer");zr(this,"figureObjects",[]);zr(this,"backgroundContainer");zr(this,"backgroundObjects",[]);zr(this,"frameDuration",16.67);zr(this,"stageAnimations",[]);zr(this,"lockTransformTarget",[]);zr(this,"stageWidth",2560);zr(this,"stageHeight",1440);const t=new vy({backgroundAlpha:0,preserveDrawingBuffer:!0});window.PIXIapp=this;const n=document.getElementById("pixiContianer");n&&(n.innerHTML="",n.appendChild(t.view)),t.renderer.view.style.position="absolute",t.renderer.view.style.display="block",t.renderer.view.id="pixiCanvas",t.renderer.autoResize=!0;const r=document.getElementById("root");r&&t.renderer.resize(r.clientWidth,r.clientHeight),t.renderer.view.style.zIndex="5",t.stage.sortableChildren=!0,this.effectsContainer=new $r,this.effectsContainer.zIndex=3,this.figureContainer=new $r,this.figureContainer.zIndex=2,this.backgroundContainer=new $r,this.backgroundContainer.zIndex=0,t.stage.addChild(this.effectsContainer,this.figureContainer,this.backgroundContainer),this.currentApp=t,setTimeout(()=>{ZC==null||ZC(120).then(i=>{this.frameDuration=1e3/i,Me.info("\u5F53\u524D\u5E27\u7387",i)})},1e3)}getAllLockedObject(){return this.lockTransformTarget}registerAnimation(t,n,r="default"){var i;this.stageAnimations.push({uuid:rm(),animationObject:t,key:n,targetKey:r,type:"common"}),this.lockStageObject(r),t.setStartState(),(i=this.currentApp)==null||i.ticker.add(t.tickerFunc)}registerPresetAnimation(t,n,r="default",i){var u;const a=i.find(l=>l.target===r);if(a){const l=this.getStageObjByKey(r);if(l){const f=l.pixiContainer;Object.assign(f,a.transform)}return}this.stageAnimations.push({uuid:rm(),animationObject:t,key:n,targetKey:r,type:"preset"}),this.lockStageObject(r),t.setStartState(),(u=this.currentApp)==null||u.ticker.add(t.tickerFunc)}stopPresetAnimationOnTarget(t){const n=this.stageAnimations.find(r=>r.targetKey===t&&r.type==="preset");n&&this.removeAnimation(n.key)}removeAnimation(t){var r,i;const n=this.stageAnimations.findIndex(a=>a.key===t);if(n>=0){const a=this.stageAnimations[n];(r=this.currentApp)==null||r.ticker.remove(a.animationObject.tickerFunc),a.animationObject.setEndState(),this.unlockStageObject((i=a.targetKey)!=null?i:"default"),this.stageAnimations.splice(n,1)}}removeAnimationWithSetEffects(t,n=!1){var i,a;const r=this.stageAnimations.findIndex(u=>u.key===t);if(r>=0){const u=this.stageAnimations[r];if((i=this.currentApp)==null||i.ticker.remove(u.animationObject.tickerFunc),u.animationObject.setEndState(),this.unlockStageObject((a=u.targetKey)!=null?a:"default"),u.targetKey){const l=this.getStageObjByKey(u.targetKey);if(l){const f={alpha:l.pixiContainer.alpha,scale:{x:l.pixiContainer.scale.x,y:l.pixiContainer.scale.y},pivot:{x:l.pixiContainer.pivot.x,y:l.pixiContainer.pivot.y},position:{x:l.pixiContainer.x,y:l.pixiContainer.y},rotation:l.pixiContainer.rotation,blur:l.pixiContainer.blur},h=Ee.getState().stage.effects,d=ig.cloneDeep(h);let v={target:u.targetKey,transform:f};const _=d.findIndex(g=>g.target===u.targetKey);_>=0?(v=d[_],v.transform=f,d[_]=v):d.push(v),rM(d,n)}}this.stageAnimations.splice(r,1)}}addBg(t,n){var d;const r=new go;let i=new $r;const a=new $k.BlurFilter;for(const v of(d=i==null?void 0:i.filters)!=null?d:[])v.destroy();i.filters=[a],i=new Proxy(i,Wk),a.blur=0,this.backgroundObjects.findIndex(v=>v.key===t)>=0&&this.removeStageObjectByKey(t),this.backgroundContainer.addChild(i),this.backgroundObjects.push({uuid:rm(),key:t,pixiContainer:i,sourceUrl:n});const f=()=>{const v=r.resources[n].texture;if(v&&i){const _=v.width,g=v.height,x=this.stageWidth/_,b=this.stageHeight/g,y=Math.max(x,b),E=new Ds(v);E.scale.x=y,E.scale.y=y,E.anchor.set(.5),E.position.x=this.stageWidth/2,E.position.y=this.stageHeight/2,i.addChild(E)}};Object.keys(r.resources).includes(n)?f():(r3(),r.add(n).load(f))}addFigure(t,n,r="center"){var v;const i=new go;let a=new $r;const u=new $k.BlurFilter;for(const _ of(v=a==null?void 0:a.filters)!=null?v:[])_.destroy();a.filters=[u],a=new Proxy(a,Wk),u.blur=0,this.figureObjects.findIndex(_=>_.key===t)>=0&&this.removeStageObjectByKey(t),this.figureContainer.addChild(a),this.figureObjects.push({uuid:rm(),key:t,pixiContainer:a,sourceUrl:n});const h=()=>{const _=i.resources[n].texture;if(_&&a){const g=_.width,x=_.height,b=this.stageWidth/g,y=this.stageHeight/x,E=Math.min(b,y),S=new Ds(_);S.scale.x=E,S.scale.y=E,S.anchor.set(.5),S.position.y=this.stageHeight/2;const A=g*E;r==="center"&&(S.position.x=this.stageWidth/2),r==="left"&&(S.position.x=A/2),r==="right"&&(S.position.x=this.stageWidth-A/2),a.addChild(S)}};Object.keys(i.resources).includes(n)?h():(r3(),i.add(n).load(h))}getStageObjByKey(t){return[...this.figureObjects,...this.backgroundObjects].find(n=>n.key===t)}getAllStageObj(){return[...this.figureObjects,...this.backgroundObjects]}removeStageObjectByKey(t){const n=this.figureObjects.findIndex(i=>i.key===t),r=this.backgroundObjects.findIndex(i=>i.key===t);if(n>=0){const i=this.figureObjects[n];i.pixiContainer.destroy(),this.figureContainer.removeChild(i.pixiContainer),this.figureObjects.splice(n,1)}if(r>=0){const i=this.backgroundObjects[r];i.pixiContainer.destroy(),this.backgroundContainer.removeChild(i.pixiContainer),this.backgroundObjects.splice(r,1)}}lockStageObject(t){this.lockTransformTarget.push(t)}unlockStageObject(t){const n=this.lockTransformTarget.findIndex(r=>r===t);n>=0&&this.lockTransformTarget.splice(n,1)}}function rM(e,t=!1){t||setTimeout(()=>{const n=Xn[Xn.length-1];if(n){const r=ig.cloneDeep(n),i=r.currentStageState.effects;for(;i.length>0;)i.pop();i.push(...e),Xn.pop(),Xn.push(r)}},50),Ee.dispatch(Tn({key:"effects",value:e}))}const Wk={get:function(e,t){return t==="blur"?e.filters[0].blur:Reflect.get(e,t)},set:function(e,t,n){return t==="blur"?Reflect.set(e.filters[0],"blur",n):Reflect.set(e,t,n)}},ZC=(()=>{const e=[window.requestAnimationFrame,window.webkitRequestAnimationFrame,window.mozRequestAnimationFrame].find(t=>t);if(!e){console.error("requestAnimationFrame is not supported!");return}return(t=60)=>{if(t<1)throw new Error("targetCount cannot be less than 1.");const n=Date.now();let r=0;return new Promise(i=>{(function a(){e(()=>{if(++r>=t){const u=Date.now()-n,l=r/u*1e3;return i(l)}a()})})()})}})(),Wie=e=>{let t="center",n=e.content,r=!1,i="";for(const h of e.args)h.key==="left"&&h.value===!0&&(t="left"),h.key==="right"&&h.value===!0&&(t="right"),h.key==="clear"&&h.value===!0&&(n=""),h.key==="id"&&(r=!0,i=h.value.toString()),n==="none"&&(n="");const a=Ee.dispatch,u=Ee.getState().stage.effects,l=ig.cloneDeep(u),f=l.findIndex(h=>h.target===`fig-${t}${i}`);if(f>=0&&l.splice(f,1),rM(l),r){const h=Ee.getState().stage.freeFigure,d=h.findIndex(_=>_.key===i),v=dr(h);d>=0?(v[d].basePosition=t,v[d].name=n):n!==""&&v.push({key:i,name:n,basePosition:t}),a(Tn({key:"freeFigure",value:v}))}else switch(t){case"center":a(Tn({key:"figName",value:n}));break;case"left":a(Tn({key:"figNameLeft",value:n}));break;case"right":a(Tn({key:"figNameRight",value:n}));break}return{performName:"none",duration:0,isOver:!1,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!1,stopTimeout:void 0}},jie=e=>{let t=e.content;return(e.content==="none"||e.content==="")&&(t=""),Ee.dispatch(Tn({key:"miniAvatar",value:t})),{performName:"none",duration:0,isOver:!1,isHoldOn:!0,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};var zie="__lodash_hash_undefined__";function Xie(e){return this.__data__.set(e,zie),this}var Vie=Xie;function qie(e){return this.__data__.has(e)}var Yie=qie,Kie=wU,Zie=Vie,Jie=Yie;function w0(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new Kie;++t<n;)this.add(e[t])}w0.prototype.add=w0.prototype.push=Zie;w0.prototype.has=Jie;var Qie=w0;function eoe(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return-1}var toe=eoe;function noe(e){return e!==e}var roe=noe;function ioe(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}var ooe=ioe,aoe=toe,soe=roe,uoe=ooe;function loe(e,t,n){return t===t?uoe(e,t,n):aoe(e,soe,n)}var foe=loe,coe=foe;function hoe(e,t){var n=e==null?0:e.length;return!!n&&coe(e,t,0)>-1}var doe=hoe;function poe(e,t,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}var voe=poe;function _oe(e,t){return e.has(t)}var goe=_oe;function moe(){}var yoe=moe;function xoe(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var iM=xoe,JC=FU,boe=yoe,woe=iM,Toe=1/0,Eoe=JC&&1/woe(new JC([,-0]))[1]==Toe?function(e){return new JC(e)}:boe,Soe=Eoe,Coe=Qie,Ioe=doe,Aoe=voe,Poe=goe,Roe=Soe,Ooe=iM,Noe=200;function Loe(e,t,n){var r=-1,i=Ioe,a=e.length,u=!0,l=[],f=l;if(n)u=!1,i=Aoe;else if(a>=Noe){var h=t?null:Roe(e);if(h)return Ooe(h);u=!1,i=Poe,f=new Coe}else f=t?[]:l;e:for(;++r<a;){var d=e[r],v=t?t(d):d;if(d=n||d!==0?d:0,u&&v===v){for(var _=f.length;_--;)if(f[_]===v)continue e;t&&f.push(v),l.push(d)}else i(f,v,n)||(f!==l&&f.push(v),l.push(d))}return l}var koe=Loe,Foe=koe;function Boe(e,t){return t=typeof t=="function"?t:void 0,e&&e.length?Foe(e,void 0,t):[]}var cg=Boe;const hg=e=>{for(const t of e)Ch.includes(t)?Me.warn(`\u573A\u666F${t}\u5DF2\u7ECF\u52A0\u8F7D\u8FC7\uFF0C\u65E0\u9700\u518D\u6B21\u52A0\u8F7D`):(Me.info(`\u73B0\u5728\u9884\u52A0\u8F7D\u573A\u666F${t}`),Ea(t).then(n=>{Sa(n,t,t)}))},oM=(e,t)=>{Ea(e).then(n=>{He.currentScene=Sa(n,t,e),He.currentSentenceId=0;const r=He.currentScene.subSceneList;Ch.push(e);const i=cg(r);hg(i),Me.debug("\u73B0\u5728\u5207\u6362\u573A\u666F\uFF0C\u5207\u6362\u540E\u7684\u7ED3\u679C\uFF1A",He),Wr()})},jk=e=>{const t=e.content.split("/"),n=t[t.length-1];return oM(e.content,n),{performName:"none",duration:0,isOver:!1,isHoldOn:!0,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},aM=e=>{const t=He.currentSentenceId;let n=t;He.currentScene.sentenceList.forEach((r,i)=>{r.command===it.label&&r.content===e&&i>=t&&(n=i)}),He.currentSentenceId=n,setTimeout(Wr,1)},Uoe="_Choose_Main_1vesq_1",Doe="_Choose_item_1vesq_13";var zk={Choose_Main:Uoe,Choose_item:Doe};const Moe=e=>{const n=e.content.split("|").map(u=>u.split(":")),i=Ee.getState().userData.optionData.textboxFont===Jc.song?'"\u601D\u6E90\u5B8B\u4F53", serif':'"WebgalUI", serif',a=n.map((u,l)=>M("div",{className:zk.Choose_item,style:{fontFamily:i},onClick:()=>{u[1].match(/\./)?oM(u[1],u[0]):aM(u[1]),Rf("choose")},children:u[0]},u[0]+l));return Cf.render(M("div",{className:zk.Choose_Main,children:a}),document.getElementById("chooseContainer")),{performName:"choose",duration:1e3*60*60*24,isOver:!1,isHoldOn:!1,stopFunction:()=>{Cf.render(M("div",{}),document.getElementById("chooseContainer"))},blockingNext:()=>!0,blockingAuto:()=>!0,stopTimeout:void 0}},wR=(e,t=!0)=>{e&&Xn.splice(0,Xn.length),t&&(He.currentSentenceId=0,He.sceneStack=[],He.currentScene=dr(s4.currentScene));for(const l of Q.performList)l.stopFunction();Q.performList=[];for(const l of Q.timeoutList)clearTimeout(l);Q.timeoutList=[],Q.isAuto=!1,Q.isFast=!1;const n=Q.autoInterval;n!==null&&clearInterval(n),Q.autoInterval=null;const r=Q.fastInterval;r!==null&&clearInterval(r),Q.fastInterval=null;const i=Q.autoTimeout;i!==null&&clearInterval(i),Q.autoTimeout=null;const a=dr(GU),u=Ee.getState().stage.GameVar;Ee.dispatch(Sh(a)),t||Ee.dispatch(Tn({key:"GameVar",value:u}))},Goe=e=>{wR(!0);const t=Ee.dispatch,n=Pf("start.txt",Af.scene);return Ea(n).then(r=>{He.currentScene=Sa(r,"start.txt",n)}),t(xn({component:"showTitle",visibility:!0})),ry(Ee.getState().GUI.titleBgm),{performName:"none",duration:0,isOver:!1,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},$oe=e=>{let t=e.content;return ry(t),{performName:"none",duration:0,isOver:!1,isHoldOn:!0,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},Hoe=e=>{const t=ag();return Cf.render(M("div",{className:l0.videoContainer,children:M("video",{className:l0.fullScreen_video,id:"playVideoElement",src:e.content,autoPlay:!0})}),document.getElementById("videoContainer")),{performName:"none",duration:0,isOver:!1,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0,arrangePerformPromise:new Promise(n=>{setTimeout(()=>{let r=document.getElementById("playVideoElement");if(r!==null){r.currentTime=0;const i={performName:t,duration:1e3*60*60,isOver:!1,isHoldOn:!1,stopFunction:()=>{r.oncanplay=()=>{};const a=Ee.getState().userData,u=a.optionData.volumeMain,l=u*.01*a.optionData.vocalVolume*.01,f=u*.01*a.optionData.bgmVolume*.01,h=document.getElementById("currentBgm");h&&(h.volume=f.toString());const d=document.getElementById("currentVocal");h&&(d.volume=l.toString()),Cf.render(M("div",{}),document.getElementById("videoContainer"))},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0,goNextWhenOver:!0};n(i),r.oncanplay=()=>{const l=document.getElementById("currentBgm");l&&(l.volume=0 .toString());const f=document.getElementById("currentVocal");l&&(f.volume=0 .toString()),r.play()},r.onended=()=>{for(const a of Q.performList)a.performName===t&&(a.isOver=!0,a.stopFunction(),Rf(a.performName),Wr())}}},1)})}};function T0(e,t){const r=e.args.find(i=>i.key===t);return r?r.value:null}function lf(e,t){const n=Q.pixiStage.getStageObjByKey(e);function r(){n&&(n.pixiContainer.alpha=0,n.pixiContainer.blur=5)}function i(){n&&(n.pixiContainer.alpha=1,n.pixiContainer.blur=0)}function a(u){if(n){const l=n.pixiContainer,f=Q.pixiStage.frameDuration,h=t/f*u,d=1/h,v=5/h;l.alpha<1&&(l.alpha+=d),l.blur>0&&(l.blur-=v)}}return{setStartState:r,setEndState:i,tickerFunc:a}}function TR(e,t){const n=Q.pixiStage.getStageObjByKey(e);function r(){}function i(){n&&(n.pixiContainer.alpha=0)}function a(u){if(n){const l=n.pixiContainer,f=Q.pixiStage.frameDuration,h=t/f*u,d=1/h;l.alpha>0&&(l.alpha-=d)}}return{setStartState:r,setEndState:i,tickerFunc:a}}function hA(e){e.blurFilter=e.filters[0]}function Woe(e,t){const n=Q.pixiStage.getStageObjByKey(e);hA(n.pixiContainer);function r(){n&&(n.pixiContainer.alpha=0,n.pixiContainer.blurFilter.blur=0)}function i(){n&&(n.pixiContainer.alpha=1,n.pixiContainer.blurFilter.blur=5)}function a(u){if(n){const l=n.pixiContainer,f=Q.pixiStage.frameDuration,h=t/f*u,d=1/h,v=5/h;l.alpha<1&&(l.alpha+=d),l.blurFilter.blur<5&&(l.blurFilter.blur+=v)}}return{setStartState:r,setEndState:i,tickerFunc:a}}const joe=[{name:"universalSoftIn",animationGenerateFunc:lf},{name:"universalSoftOff",animationGenerateFunc:TR},{name:"testblur",animationGenerateFunc:Woe}],zoe=e=>{var f,h,d,v;const t=Ee.getState().stage.currentDialogKey,n=e.content,r=(f=T0(e,"duration"))!=null?f:0,i=(h=T0(e,"target"))!=null?h:0,a=`${i}-${n}-${r}`,u=Xoe(n);let l=()=>{};if(u){Me.debug(`\u52A8\u753B${n}\u4F5C\u7528\u5728${i}`,r);const _=u(i,r);(d=Q.pixiStage)==null||d.stopPresetAnimationOnTarget(i),(v=Q.pixiStage)==null||v.registerAnimation(_,a,i),l=()=>{var b;const g=Ee.getState().stage.currentDialogKey,x=t!==g;(b=Q.pixiStage)==null||b.removeAnimationWithSetEffects(a,!x)}}return{performName:a,duration:r,isOver:!1,isHoldOn:!1,stopFunction:l,blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function Xoe(e){const t=joe.find(n=>n.name===e);return Me.debug("\u88C5\u8F7D\u52A8\u753B",t),t?t.animationGenerateFunc:null}const Voe=e=>({performName:"none",duration:0,isOver:!1,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}),qoe=e=>(Q.performList.forEach(t=>{if(t.performName.match(/PixiPerform/)){Me.warn("pixi \u88AB\u811A\u672C\u91CD\u65B0\u521D\u59CB\u5316",t.performName);for(let i=0;i<Q.performList.length;i++){const a=Q.performList[i];a.performName===t.performName&&(a.stopFunction(),clearTimeout(a.stopTimeout),Q.performList.splice(i,1),i--)}const n=Ee.getState().stage,r=dr(n);for(let i=0;i<r.PerformList.length;i++)r.PerformList[i].script.command===it.pixi&&(r.PerformList.splice(i,1),i--);Ee.dispatch(Sh(r))}}),{performName:"none",duration:0,isOver:!1,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}),Yoe=(e,t)=>{var h;const r=Q.pixiStage.effectsContainer,i=Q.pixiStage.currentApp,a=new $r;r.addChild(a);const u=Ye.from("./game/tex/raindrop.png");a.x=i.screen.width/2,a.y=i.screen.height/2,a.pivot.x=a.width/2,a.pivot.y=a.height/2,a.scale.x=1,a.scale.y=1;const l=[];function f(d){for(let g=0;g<t;g++){const x=new Ds(u);let b=Math.random();b<=.5&&(b=.5),x.scale.x=.48*b,x.scale.y=.48*b,x.anchor.set(.5),x.x=Math.random()*2560-.5*2560,x.y=0-.5*1440,x.dropSpeed=Math.random()*2,x.acc=Math.random(),x.alpha=Math.random(),x.alpha>=.5&&(x.alpha=.5),x.alpha<=.2&&(x.alpha=.2),a.addChild(x),l.push(x)}for(const g of l)g.dropSpeed=g.acc*.01+g.dropSpeed,g.y+=d*e*g.dropSpeed*1.1+3;l.length>=2500&&(l.unshift(),a.removeChild(a.children[0]))}return(h=Q.pixiStage)==null||h.registerAnimation({setStartState:()=>{},setEndState:()=>{},tickerFunc:f},"rain-Ticker"),{container:a,tickerKey:"rain-Ticker"}},Koe=e=>{var f;const n=Q.pixiStage.effectsContainer,r=Q.pixiStage.currentApp,i=new $r;n.addChild(i);const a=Ye.from("./game/tex/snowFlake_min.png");i.x=r.screen.width/2,i.y=r.screen.height/2,i.pivot.x=i.width/2,i.pivot.y=i.height/2,i.scale.x=1,i.scale.y=1;const u=[];function l(h){const _=new Ds(a);let g=Math.random();g<=.5&&(g=.5),_.scale.x=.144*g,_.scale.y=.144*g,_.anchor.set(.5),_.x=Math.random()*2560-.5*2560,_.y=0-.5*1440,_.dropSpeed=Math.random()*2,_.acc=Math.random(),i.addChild(_),u.push(_);let x=0;for(const b of u){x++;const y=Math.random();b.dropSpeed=b.acc*.01+b.dropSpeed,b.y+=h*e*b.dropSpeed*.3+.7,x%2===0?(b.x+=h*y*.5,b.rotation+=h*y*.03):(b.x-=h*y*.5,b.rotation-=h*y*.03)}u.length>=500&&(u.unshift(),i.removeChild(i.children[0]))}return(f=Q.pixiStage)==null||f.registerAnimation({setStartState:()=>{},setEndState:()=>{},tickerFunc:l},"snow-Ticker"),{container:i,tickerKey:"snow-Ticker"}},Zoe=e=>{const t="PixiPerform"+e.content;Q.performList.forEach(a=>{if(a.performName===t)return{performName:"none",duration:0,isOver:!1,isHoldOn:!0,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!1,stopTimeout:void 0}});let n,r,i;switch(e.content){case"rain":i=Yoe(6,10),n=i.container,r=i.tickerKey;break;case"snow":i=Koe(3),n=i.container,r=i.tickerKey;break}return{performName:t,duration:0,isOver:!1,isHoldOn:!0,stopFunction:()=>{var a,u;Me.warn("\u73B0\u5728\u6B63\u5728\u5378\u8F7Dpixi\u6F14\u51FA"),n.destroy({texture:!0,baseTexture:!0}),(a=Q.pixiStage)==null||a.effectsContainer.removeChild(n),(u=Q.pixiStage)==null||u.removeAnimation(r)},blockingNext:()=>!1,blockingAuto:()=>!1,stopTimeout:void 0}},Joe=e=>({performName:"none",duration:0,isOver:!1,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}),Qoe=e=>(aM(e.content),{performName:"none",duration:0,isOver:!1,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}),sM={textInitialDelay:80},eae=e=>{const t=Ee.getState().stage,n=Ee.getState().userData,r=Ee.dispatch;r(Tn({key:"showText",value:JSON.stringify(t.GameVar)})),r(Tn({key:"showName",value:"\u5C55\u793A\u53D8\u91CF"})),Me.debug("\u5C55\u793A\u53D8\u91CF\uFF1A",t.GameVar),setTimeout(()=>{[...document.querySelectorAll("."+Rn.TextBox_textElement_start)].forEach(h=>{h.className=Rn.TextBox_textElement})},0);const i=ag(),a=sM.textInitialDelay-20*n.optionData.textSpeed,u=750-n.optionData.textSpeed*250;return{performName:i,duration:e.content.length*a+u,isOver:!1,isHoldOn:!1,stopFunction:()=>{[...document.querySelectorAll("."+Rn.TextBox_textElement)].forEach(h=>{h.className=Rn.TextBox_textElement_Settled})},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},tae=e=>{const t=e.content;let n=e.content,r="default";e.args.forEach(a=>{a.key==="name"&&(n=a.value.toString()),a.key==="series"&&(r=a.value.toString())}),Me.info(`\u89E3\u9501CG\uFF1A${n}\uFF0C\u8DEF\u5F84\uFF1A${t}\uFF0C\u6240\u5C5E\u7CFB\u5217\uFF1A${r}`),Ee.dispatch(bq({name:n,url:t,series:r}));const i=Ee.getState().userData;return Z0.setItem(Zi.gameKey,i).then(()=>{}),{performName:"none",duration:0,isOver:!1,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},nae=e=>{const t=e.content;let n=e.content,r="default";e.args.forEach(a=>{a.key==="name"&&(n=a.value.toString()),a.key==="series"&&(r=a.value.toString())}),Me.info(`\u89E3\u9501BGM\uFF1A${n}\uFF0C\u8DEF\u5F84\uFF1A${t}\uFF0C\u6240\u5C5E\u7CFB\u5217\uFF1A${r}`),Ee.dispatch(wq({name:n,url:t,series:r}));const i=Ee.getState().userData;return Z0.setItem(Zi.gameKey,i).then(()=>{}),{performName:"none",duration:0,isOver:!1,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},rae=e=>(e.content!==""&&e.content!=="none"?Ee.dispatch(Tn({key:"enableFilm",value:e.content})):Ee.dispatch(Tn({key:"enableFilm",value:""})),{performName:"none",duration:0,isOver:!1,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}),iae=(e,t)=>{He.sceneStack.push({sceneName:He.currentScene.sceneName,sceneUrl:He.currentScene.sceneUrl,continueLine:He.currentSentenceId}),Ea(e).then(n=>{He.currentScene=Sa(n,t,e),He.currentSentenceId=0;const r=He.currentScene.subSceneList;Ch.push(e);const i=cg(r);hg(i),Me.debug("\u73B0\u5728\u8C03\u7528\u573A\u666F\uFF0C\u8C03\u7528\u7ED3\u679C\uFF1A",He),Wr()})},oae=e=>{const t=e.content.split("/"),n=t[t.length-1];return iae(e.content,n),{performName:"none",duration:0,isOver:!1,isHoldOn:!0,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function aae(e){return e.content==="hide"?Ee.dispatch(Tn({key:"isDisableTextbox",value:!0})):Ee.dispatch(Tn({key:"isDisableTextbox",value:!1})),{performName:"none",duration:0,isOver:!1,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}}function bs(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uM(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}/*!
 * GSAP 3.11.3
 * https://greensock.com
 *
 * @license Copyright 2008-2022, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Yi={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},rh={duration:.5,overwrite:!1,delay:0},ER,Ei,er,fo=1e8,Vt=1/fo,dA=Math.PI*2,sae=dA/4,uae=0,lM=Math.sqrt,lae=Math.cos,fae=Math.sin,xr=function(t){return typeof t=="string"},Gn=function(t){return typeof t=="function"},Ms=function(t){return typeof t=="number"},SR=function(t){return typeof t=="undefined"},xa=function(t){return typeof t=="object"},Si=function(t){return t!==!1},fM=function(){return typeof window!="undefined"},im=function(t){return Gn(t)||xr(t)},cM=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},ei=Array.isArray,pA=/(?:-?\.?\d|\.)+/gi,hM=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Ec=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,QC=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,dM=/[+-]=-?[.\d]+/,pM=/[^,'"\[\]\s]+/gi,cae=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Ln,so,vA,CR,Qi={},E0={},vM,_M=function(t){return(E0=kf(t,Qi))&&eo},IR=function(t,n){return console.warn("Invalid property",t,"set to",n,"Missing plugin? gsap.registerPlugin()")},S0=function(t,n){return!n&&console.warn(t)},gM=function(t,n){return t&&(Qi[t]=n)&&E0&&(E0[t]=n)||Qi},j_=function(){return 0},hae={suppressEvents:!0,isStart:!0,kill:!1},Am={suppressEvents:!0,kill:!1},dae={suppressEvents:!0},AR={},fu=[],_A={},mM,Xi={},e2={},Xk=30,Pm=[],PR="",RR=function(t){var n=t[0],r,i;if(xa(n)||Gn(n)||(t=[t]),!(r=(n._gsap||{}).harness)){for(i=Pm.length;i--&&!Pm[i].targetTest(n););r=Pm[i]}for(i=t.length;i--;)t[i]&&(t[i]._gsap||(t[i]._gsap=new GM(t[i],r)))||t.splice(i,1);return t},xf=function(t){return t._gsap||RR(co(t))[0]._gsap},yM=function(t,n,r){return(r=t[n])&&Gn(r)?t[n]():SR(r)&&t.getAttribute&&t.getAttribute(n)||r},Ci=function(t,n){return(t=t.split(",")).forEach(n)||t},zn=function(t){return Math.round(t*1e5)/1e5||0},Gr=function(t){return Math.round(t*1e7)/1e7||0},Hc=function(t,n){var r=n.charAt(0),i=parseFloat(n.substr(2));return t=parseFloat(t),r==="+"?t+i:r==="-"?t-i:r==="*"?t*i:t/i},pae=function(t,n){for(var r=n.length,i=0;t.indexOf(n[i])<0&&++i<r;);return i<r},C0=function(){var t=fu.length,n=fu.slice(0),r,i;for(_A={},fu.length=0,r=0;r<t;r++)i=n[r],i&&i._lazy&&(i.render(i._lazy[0],i._lazy[1],!0)._lazy=0)},xM=function(t,n,r,i){fu.length&&C0(),t.render(n,r,i||Ei&&n<0&&(t._initted||t._startAt)),fu.length&&C0()},bM=function(t){var n=parseFloat(t);return(n||n===0)&&(t+"").match(pM).length<2?n:xr(t)?t.trim():t},wM=function(t){return t},mo=function(t,n){for(var r in n)r in t||(t[r]=n[r]);return t},vae=function(t){return function(n,r){for(var i in r)i in n||i==="duration"&&t||i==="ease"||(n[i]=r[i])}},kf=function(t,n){for(var r in n)t[r]=n[r];return t},Vk=function e(t,n){for(var r in n)r!=="__proto__"&&r!=="constructor"&&r!=="prototype"&&(t[r]=xa(n[r])?e(t[r]||(t[r]={}),n[r]):n[r]);return t},I0=function(t,n){var r={},i;for(i in t)i in n||(r[i]=t[i]);return r},s_=function(t){var n=t.parent||Ln,r=t.keyframes?vae(ei(t.keyframes)):mo;if(Si(t.inherit))for(;n;)r(t,n.vars.defaults),n=n.parent||n._dp;return t},_ae=function(t,n){for(var r=t.length,i=r===n.length;i&&r--&&t[r]===n[r];);return r<0},TM=function(t,n,r,i,a){r===void 0&&(r="_first"),i===void 0&&(i="_last");var u=t[i],l;if(a)for(l=n[a];u&&u[a]>l;)u=u._prev;return u?(n._next=u._next,u._next=n):(n._next=t[r],t[r]=n),n._next?n._next._prev=n:t[i]=n,n._prev=u,n.parent=n._dp=t,n},gy=function(t,n,r,i){r===void 0&&(r="_first"),i===void 0&&(i="_last");var a=n._prev,u=n._next;a?a._next=u:t[r]===n&&(t[r]=u),u?u._prev=a:t[i]===n&&(t[i]=a),n._next=n._prev=n.parent=null},xu=function(t,n){t.parent&&(!n||t.parent.autoRemoveChildren)&&t.parent.remove(t),t._act=0},bf=function(t,n){if(t&&(!n||n._end>t._dur||n._start<0))for(var r=t;r;)r._dirty=1,r=r.parent;return t},gae=function(t){for(var n=t.parent;n&&n.parent;)n._dirty=1,n.totalDuration(),n=n.parent;return t},gA=function(t,n,r,i){return t._startAt&&(Ei?t._startAt.revert(Am):t.vars.immediateRender&&!t.vars.autoRevert||t._startAt.render(n,!0,i))},mae=function e(t){return!t||t._ts&&e(t.parent)},qk=function(t){return t._repeat?ih(t._tTime,t=t.duration()+t._rDelay)*t:0},ih=function(t,n){var r=Math.floor(t/=n);return t&&r===t?r-1:r},A0=function(t,n){return(t-n._start)*n._ts+(n._ts>=0?0:n._dirty?n.totalDuration():n._tDur)},my=function(t){return t._end=Gr(t._start+(t._tDur/Math.abs(t._ts||t._rts||Vt)||0))},yy=function(t,n){var r=t._dp;return r&&r.smoothChildTiming&&t._ts&&(t._start=Gr(r._time-(t._ts>0?n/t._ts:((t._dirty?t.totalDuration():t._tDur)-n)/-t._ts)),my(t),r._dirty||bf(r,t)),t},EM=function(t,n){var r;if((n._time||n._initted&&!n._dur)&&(r=A0(t.rawTime(),n),(!n._dur||dg(0,n.totalDuration(),r)-n._tTime>Vt)&&n.render(r,!0)),bf(t,n)._dp&&t._initted&&t._time>=t._dur&&t._ts){if(t._dur<t.duration())for(r=t;r._dp;)r.rawTime()>=0&&r.totalTime(r._tTime),r=r._dp;t._zTime=-Vt}},ua=function(t,n,r,i){return n.parent&&xu(n),n._start=Gr((Ms(r)?r:r||t!==Ln?ao(t,r,n):t._time)+n._delay),n._end=Gr(n._start+(n.totalDuration()/Math.abs(n.timeScale())||0)),TM(t,n,"_first","_last",t._sort?"_start":0),mA(n)||(t._recent=n),i||EM(t,n),t._ts<0&&yy(t,t._tTime),t},SM=function(t,n){return(Qi.ScrollTrigger||IR("scrollTrigger",n))&&Qi.ScrollTrigger.create(n,t)},CM=function(t,n,r,i,a){if(NR(t,n,a),!t._initted)return 1;if(!r&&t._pt&&!Ei&&(t._dur&&t.vars.lazy!==!1||!t._dur&&t.vars.lazy)&&mM!==Vi.frame)return fu.push(t),t._lazy=[a,i],1},yae=function e(t){var n=t.parent;return n&&n._ts&&n._initted&&!n._lock&&(n.rawTime()<0||e(n))},mA=function(t){var n=t.data;return n==="isFromStart"||n==="isStart"},xae=function(t,n,r,i){var a=t.ratio,u=n<0||!n&&(!t._start&&yae(t)&&!(!t._initted&&mA(t))||(t._ts<0||t._dp._ts<0)&&!mA(t))?0:1,l=t._rDelay,f=0,h,d,v;if(l&&t._repeat&&(f=dg(0,t._tDur,n),d=ih(f,l),t._yoyo&&d&1&&(u=1-u),d!==ih(t._tTime,l)&&(a=1-u,t.vars.repeatRefresh&&t._initted&&t.invalidate())),u!==a||Ei||i||t._zTime===Vt||!n&&t._zTime){if(!t._initted&&CM(t,n,i,r,f))return;for(v=t._zTime,t._zTime=n||(r?Vt:0),r||(r=n&&!v),t.ratio=u,t._from&&(u=1-u),t._time=0,t._tTime=f,h=t._pt;h;)h.r(u,h.d),h=h._next;n<0&&gA(t,n,r,!0),t._onUpdate&&!r&&ho(t,"onUpdate"),f&&t._repeat&&!r&&t.parent&&ho(t,"onRepeat"),(n>=t._tDur||n<0)&&t.ratio===u&&(u&&xu(t,1),!r&&!Ei&&(ho(t,u?"onComplete":"onReverseComplete",!0),t._prom&&t._prom()))}else t._zTime||(t._zTime=n)},bae=function(t,n,r){var i;if(r>n)for(i=t._first;i&&i._start<=r;){if(i.data==="isPause"&&i._start>n)return i;i=i._next}else for(i=t._last;i&&i._start>=r;){if(i.data==="isPause"&&i._start<n)return i;i=i._prev}},oh=function(t,n,r,i){var a=t._repeat,u=Gr(n)||0,l=t._tTime/t._tDur;return l&&!i&&(t._time*=u/t._dur),t._dur=u,t._tDur=a?a<0?1e10:Gr(u*(a+1)+t._rDelay*a):u,l>0&&!i&&yy(t,t._tTime=t._tDur*l),t.parent&&my(t),r||bf(t.parent,t),t},Yk=function(t){return t instanceof bi?bf(t):oh(t,t._dur)},wae={_start:0,endTime:j_,totalDuration:j_},ao=function e(t,n,r){var i=t.labels,a=t._recent||wae,u=t.duration()>=fo?a.endTime(!1):t._dur,l,f,h;return xr(n)&&(isNaN(n)||n in i)?(f=n.charAt(0),h=n.substr(-1)==="%",l=n.indexOf("="),f==="<"||f===">"?(l>=0&&(n=n.replace(/=/,"")),(f==="<"?a._start:a.endTime(a._repeat>=0))+(parseFloat(n.substr(1))||0)*(h?(l<0?a:r).totalDuration()/100:1)):l<0?(n in i||(i[n]=u),i[n]):(f=parseFloat(n.charAt(l-1)+n.substr(l+1)),h&&r&&(f=f/100*(ei(r)?r[0]:r).totalDuration()),l>1?e(t,n.substr(0,l-1),r)+f:u+f)):n==null?u:+n},u_=function(t,n,r){var i=Ms(n[1]),a=(i?2:1)+(t<2?0:1),u=n[a],l,f;if(i&&(u.duration=n[1]),u.parent=r,t){for(l=u,f=r;f&&!("immediateRender"in l);)l=f.vars.defaults||{},f=Si(f.vars.inherit)&&f.parent;u.immediateRender=Si(l.immediateRender),t<2?u.runBackwards=1:u.startAt=n[a-1]}return new fr(n[0],u,n[a+1])},Ru=function(t,n){return t||t===0?n(t):n},dg=function(t,n,r){return r<t?t:r>n?n:r},Zr=function(t,n){return!xr(t)||!(n=cae.exec(t))?"":n[1]},Tae=function(t,n,r){return Ru(r,function(i){return dg(t,n,i)})},yA=[].slice,IM=function(t,n){return t&&xa(t)&&"length"in t&&(!n&&!t.length||t.length-1 in t&&xa(t[0]))&&!t.nodeType&&t!==so},Eae=function(t,n,r){return r===void 0&&(r=[]),t.forEach(function(i){var a;return xr(i)&&!n||IM(i,1)?(a=r).push.apply(a,co(i)):r.push(i)})||r},co=function(t,n,r){return er&&!n&&er.selector?er.selector(t):xr(t)&&!r&&(vA||!ah())?yA.call((n||CR).querySelectorAll(t),0):ei(t)?Eae(t,r):IM(t)?yA.call(t,0):t?[t]:[]},xA=function(t){return t=co(t)[0]||S0("Invalid scope")||{},function(n){var r=t.current||t.nativeElement||t;return co(n,r.querySelectorAll?r:r===t?S0("Invalid scope")||CR.createElement("div"):t)}},AM=function(t){return t.sort(function(){return .5-Math.random()})},PM=function(t){if(Gn(t))return t;var n=xa(t)?t:{each:t},r=wf(n.ease),i=n.from||0,a=parseFloat(n.base)||0,u={},l=i>0&&i<1,f=isNaN(i)||l,h=n.axis,d=i,v=i;return xr(i)?d=v={center:.5,edges:.5,end:1}[i]||0:!l&&f&&(d=i[0],v=i[1]),function(_,g,x){var b=(x||n).length,y=u[b],E,S,A,L,P,R,D,$,U;if(!y){if(U=n.grid==="auto"?0:(n.grid||[1,fo])[1],!U){for(D=-fo;D<(D=x[U++].getBoundingClientRect().left)&&U<b;);U--}for(y=u[b]=[],E=f?Math.min(U,b)*d-.5:i%U,S=U===fo?0:f?b*v/U-.5:i/U|0,D=0,$=fo,R=0;R<b;R++)A=R%U-E,L=S-(R/U|0),y[R]=P=h?Math.abs(h==="y"?L:A):lM(A*A+L*L),P>D&&(D=P),P<$&&($=P);i==="random"&&AM(y),y.max=D-$,y.min=$,y.v=b=(parseFloat(n.amount)||parseFloat(n.each)*(U>b?b-1:h?h==="y"?b/U:U:Math.max(U,b/U))||0)*(i==="edges"?-1:1),y.b=b<0?a-b:a,y.u=Zr(n.amount||n.each)||0,r=r&&b<0?UM(r):r}return b=(y[_]-y.min)/y.max||0,Gr(y.b+(r?r(b):b)*y.v)+y.u}},bA=function(t){var n=Math.pow(10,((t+"").split(".")[1]||"").length);return function(r){var i=Gr(Math.round(parseFloat(r)/t)*t*n);return(i-i%1)/n+(Ms(r)?0:Zr(r))}},RM=function(t,n){var r=ei(t),i,a;return!r&&xa(t)&&(i=r=t.radius||fo,t.values?(t=co(t.values),(a=!Ms(t[0]))&&(i*=i)):t=bA(t.increment)),Ru(n,r?Gn(t)?function(u){return a=t(u),Math.abs(a-u)<=i?a:u}:function(u){for(var l=parseFloat(a?u.x:u),f=parseFloat(a?u.y:0),h=fo,d=0,v=t.length,_,g;v--;)a?(_=t[v].x-l,g=t[v].y-f,_=_*_+g*g):_=Math.abs(t[v]-l),_<h&&(h=_,d=v);return d=!i||h<=i?t[d]:u,a||d===u||Ms(u)?d:d+Zr(u)}:bA(t))},OM=function(t,n,r,i){return Ru(ei(t)?!n:r===!0?!!(r=0):!i,function(){return ei(t)?t[~~(Math.random()*t.length)]:(r=r||1e-5)&&(i=r<1?Math.pow(10,(r+"").length-2):1)&&Math.floor(Math.round((t-r/2+Math.random()*(n-t+r*.99))/r)*r*i)/i})},Sae=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return function(i){return n.reduce(function(a,u){return u(a)},i)}},Cae=function(t,n){return function(r){return t(parseFloat(r))+(n||Zr(r))}},Iae=function(t,n,r){return LM(t,n,0,1,r)},NM=function(t,n,r){return Ru(r,function(i){return t[~~n(i)]})},Aae=function e(t,n,r){var i=n-t;return ei(t)?NM(t,e(0,t.length),n):Ru(r,function(a){return(i+(a-t)%i)%i+t})},Pae=function e(t,n,r){var i=n-t,a=i*2;return ei(t)?NM(t,e(0,t.length-1),n):Ru(r,function(u){return u=(a+(u-t)%a)%a||0,t+(u>i?a-u:u)})},z_=function(t){for(var n=0,r="",i,a,u,l;~(i=t.indexOf("random(",n));)u=t.indexOf(")",i),l=t.charAt(i+7)==="[",a=t.substr(i+7,u-i-7).match(l?pM:pA),r+=t.substr(n,i-n)+OM(l?a:+a[0],l?0:+a[1],+a[2]||1e-5),n=u+1;return r+t.substr(n,t.length-n)},LM=function(t,n,r,i,a){var u=n-t,l=i-r;return Ru(a,function(f){return r+((f-t)/u*l||0)})},Rae=function e(t,n,r,i){var a=isNaN(t+n)?0:function(g){return(1-g)*t+g*n};if(!a){var u=xr(t),l={},f,h,d,v,_;if(r===!0&&(i=1)&&(r=null),u)t={p:t},n={p:n};else if(ei(t)&&!ei(n)){for(d=[],v=t.length,_=v-2,h=1;h<v;h++)d.push(e(t[h-1],t[h]));v--,a=function(x){x*=v;var b=Math.min(_,~~x);return d[b](x-b)},r=n}else i||(t=kf(ei(t)?[]:{},t));if(!d){for(f in n)OR.call(l,t,f,"get",n[f]);a=function(x){return FR(x,l)||(u?t.p:t)}}}return Ru(r,a)},Kk=function(t,n,r){var i=t.labels,a=fo,u,l,f;for(u in i)l=i[u]-n,l<0==!!r&&l&&a>(l=Math.abs(l))&&(f=u,a=l);return f},ho=function(t,n,r){var i=t.vars,a=i[n],u=er,l=t._ctx,f,h,d;if(!!a)return f=i[n+"Params"],h=i.callbackScope||t,r&&fu.length&&C0(),l&&(er=l),d=f?a.apply(h,f):a.call(h),er=u,d},Wv=function(t){return xu(t),t.scrollTrigger&&t.scrollTrigger.kill(!!Ei),t.progress()<1&&ho(t,"onInterrupt"),t},Sc,Oae=function(t){t=!t.name&&t.default||t;var n=t.name,r=Gn(t),i=n&&!r&&t.init?function(){this._props=[]}:t,a={init:j_,render:FR,add:OR,kill:Vae,modifier:Xae,rawVars:0},u={targetTest:0,get:0,getSetter:kR,aliases:{},register:0};if(ah(),t!==i){if(Xi[n])return;mo(i,mo(I0(t,a),u)),kf(i.prototype,kf(a,I0(t,u))),Xi[i.prop=n]=i,t.targetTest&&(Pm.push(i),AR[n]=1),n=(n==="css"?"CSS":n.charAt(0).toUpperCase()+n.substr(1))+"Plugin"}gM(n,i),t.register&&t.register(eo,i,Ii)},nn=255,jv={aqua:[0,nn,nn],lime:[0,nn,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,nn],navy:[0,0,128],white:[nn,nn,nn],olive:[128,128,0],yellow:[nn,nn,0],orange:[nn,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[nn,0,0],pink:[nn,192,203],cyan:[0,nn,nn],transparent:[nn,nn,nn,0]},t2=function(t,n,r){return t+=t<0?1:t>1?-1:0,(t*6<1?n+(r-n)*t*6:t<.5?r:t*3<2?n+(r-n)*(2/3-t)*6:n)*nn+.5|0},kM=function(t,n,r){var i=t?Ms(t)?[t>>16,t>>8&nn,t&nn]:0:jv.black,a,u,l,f,h,d,v,_,g,x;if(!i){if(t.substr(-1)===","&&(t=t.substr(0,t.length-1)),jv[t])i=jv[t];else if(t.charAt(0)==="#"){if(t.length<6&&(a=t.charAt(1),u=t.charAt(2),l=t.charAt(3),t="#"+a+a+u+u+l+l+(t.length===5?t.charAt(4)+t.charAt(4):"")),t.length===9)return i=parseInt(t.substr(1,6),16),[i>>16,i>>8&nn,i&nn,parseInt(t.substr(7),16)/255];t=parseInt(t.substr(1),16),i=[t>>16,t>>8&nn,t&nn]}else if(t.substr(0,3)==="hsl"){if(i=x=t.match(pA),!n)f=+i[0]%360/360,h=+i[1]/100,d=+i[2]/100,u=d<=.5?d*(h+1):d+h-d*h,a=d*2-u,i.length>3&&(i[3]*=1),i[0]=t2(f+1/3,a,u),i[1]=t2(f,a,u),i[2]=t2(f-1/3,a,u);else if(~t.indexOf("="))return i=t.match(hM),r&&i.length<4&&(i[3]=1),i}else i=t.match(pA)||jv.transparent;i=i.map(Number)}return n&&!x&&(a=i[0]/nn,u=i[1]/nn,l=i[2]/nn,v=Math.max(a,u,l),_=Math.min(a,u,l),d=(v+_)/2,v===_?f=h=0:(g=v-_,h=d>.5?g/(2-v-_):g/(v+_),f=v===a?(u-l)/g+(u<l?6:0):v===u?(l-a)/g+2:(a-u)/g+4,f*=60),i[0]=~~(f+.5),i[1]=~~(h*100+.5),i[2]=~~(d*100+.5)),r&&i.length<4&&(i[3]=1),i},FM=function(t){var n=[],r=[],i=-1;return t.split(cu).forEach(function(a){var u=a.match(Ec)||[];n.push.apply(n,u),r.push(i+=u.length+1)}),n.c=r,n},Zk=function(t,n,r){var i="",a=(t+i).match(cu),u=n?"hsla(":"rgba(",l=0,f,h,d,v;if(!a)return t;if(a=a.map(function(_){return(_=kM(_,n,1))&&u+(n?_[0]+","+_[1]+"%,"+_[2]+"%,"+_[3]:_.join(","))+")"}),r&&(d=FM(t),f=r.c,f.join(i)!==d.c.join(i)))for(h=t.replace(cu,"1").split(Ec),v=h.length-1;l<v;l++)i+=h[l]+(~f.indexOf(l)?a.shift()||u+"0,0,0,0)":(d.length?d:a.length?a:r).shift());if(!h)for(h=t.split(cu),v=h.length-1;l<v;l++)i+=h[l]+a[l];return i+h[v]},cu=function(){var e="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",t;for(t in jv)e+="|"+t+"\\b";return new RegExp(e+")","gi")}(),Nae=/hsl[a]?\(/,BM=function(t){var n=t.join(" "),r;if(cu.lastIndex=0,cu.test(n))return r=Nae.test(n),t[1]=Zk(t[1],r),t[0]=Zk(t[0],r,FM(t[1])),!0},X_,Vi=function(){var e=Date.now,t=500,n=33,r=e(),i=r,a=1e3/240,u=a,l=[],f,h,d,v,_,g,x=function b(y){var E=e()-i,S=y===!0,A,L,P,R;if(E>t&&(r+=E-n),i+=E,P=i-r,A=P-u,(A>0||S)&&(R=++v.frame,_=P-v.time*1e3,v.time=P=P/1e3,u+=A+(A>=a?4:a-A),L=1),S||(f=h(b)),L)for(g=0;g<l.length;g++)l[g](P,_,R,y)};return v={time:0,frame:0,tick:function(){x(!0)},deltaRatio:function(y){return _/(1e3/(y||60))},wake:function(){vM&&(!vA&&fM()&&(so=vA=window,CR=so.document||{},Qi.gsap=eo,(so.gsapVersions||(so.gsapVersions=[])).push(eo.version),_M(E0||so.GreenSockGlobals||!so.gsap&&so||{}),d=so.requestAnimationFrame),f&&v.sleep(),h=d||function(y){return setTimeout(y,u-v.time*1e3+1|0)},X_=1,x(2))},sleep:function(){(d?so.cancelAnimationFrame:clearTimeout)(f),X_=0,h=j_},lagSmoothing:function(y,E){t=y||1/Vt,n=Math.min(E,t,0)},fps:function(y){a=1e3/(y||240),u=v.time*1e3+a},add:function(y,E,S){var A=E?function(L,P,R,D){y(L,P,R,D),v.remove(A)}:y;return v.remove(y),l[S?"unshift":"push"](A),ah(),A},remove:function(y,E){~(E=l.indexOf(y))&&l.splice(E,1)&&g>=E&&g--},_listeners:l},v}(),ah=function(){return!X_&&Vi.wake()},Ct={},Lae=/^[\d.\-M][\d.\-,\s]/,kae=/["']/g,Fae=function(t){for(var n={},r=t.substr(1,t.length-3).split(":"),i=r[0],a=1,u=r.length,l,f,h;a<u;a++)f=r[a],l=a!==u-1?f.lastIndexOf(","):f.length,h=f.substr(0,l),n[i]=isNaN(h)?h.replace(kae,"").trim():+h,i=f.substr(l+1).trim();return n},Bae=function(t){var n=t.indexOf("(")+1,r=t.indexOf(")"),i=t.indexOf("(",n);return t.substring(n,~i&&i<r?t.indexOf(")",r+1):r)},Uae=function(t){var n=(t+"").split("("),r=Ct[n[0]];return r&&n.length>1&&r.config?r.config.apply(null,~t.indexOf("{")?[Fae(n[1])]:Bae(t).split(",").map(bM)):Ct._CE&&Lae.test(t)?Ct._CE("",t):r},UM=function(t){return function(n){return 1-t(1-n)}},DM=function e(t,n){for(var r=t._first,i;r;)r instanceof bi?e(r,n):r.vars.yoyoEase&&(!r._yoyo||!r._repeat)&&r._yoyo!==n&&(r.timeline?e(r.timeline,n):(i=r._ease,r._ease=r._yEase,r._yEase=i,r._yoyo=n)),r=r._next},wf=function(t,n){return t&&(Gn(t)?t:Ct[t]||Uae(t))||n},Hf=function(t,n,r,i){r===void 0&&(r=function(f){return 1-n(1-f)}),i===void 0&&(i=function(f){return f<.5?n(f*2)/2:1-n((1-f)*2)/2});var a={easeIn:n,easeOut:r,easeInOut:i},u;return Ci(t,function(l){Ct[l]=Qi[l]=a,Ct[u=l.toLowerCase()]=r;for(var f in a)Ct[u+(f==="easeIn"?".in":f==="easeOut"?".out":".inOut")]=Ct[l+"."+f]=a[f]}),a},MM=function(t){return function(n){return n<.5?(1-t(1-n*2))/2:.5+t((n-.5)*2)/2}},n2=function e(t,n,r){var i=n>=1?n:1,a=(r||(t?.3:.45))/(n<1?n:1),u=a/dA*(Math.asin(1/i)||0),l=function(d){return d===1?1:i*Math.pow(2,-10*d)*fae((d-u)*a)+1},f=t==="out"?l:t==="in"?function(h){return 1-l(1-h)}:MM(l);return a=dA/a,f.config=function(h,d){return e(t,h,d)},f},r2=function e(t,n){n===void 0&&(n=1.70158);var r=function(u){return u?--u*u*((n+1)*u+n)+1:0},i=t==="out"?r:t==="in"?function(a){return 1-r(1-a)}:MM(r);return i.config=function(a){return e(t,a)},i};Ci("Linear,Quad,Cubic,Quart,Quint,Strong",function(e,t){var n=t<5?t+1:t;Hf(e+",Power"+(n-1),t?function(r){return Math.pow(r,n)}:function(r){return r},function(r){return 1-Math.pow(1-r,n)},function(r){return r<.5?Math.pow(r*2,n)/2:1-Math.pow((1-r)*2,n)/2})});Ct.Linear.easeNone=Ct.none=Ct.Linear.easeIn;Hf("Elastic",n2("in"),n2("out"),n2());(function(e,t){var n=1/t,r=2*n,i=2.5*n,a=function(l){return l<n?e*l*l:l<r?e*Math.pow(l-1.5/t,2)+.75:l<i?e*(l-=2.25/t)*l+.9375:e*Math.pow(l-2.625/t,2)+.984375};Hf("Bounce",function(u){return 1-a(1-u)},a)})(7.5625,2.75);Hf("Expo",function(e){return e?Math.pow(2,10*(e-1)):0});Hf("Circ",function(e){return-(lM(1-e*e)-1)});Hf("Sine",function(e){return e===1?1:-lae(e*sae)+1});Hf("Back",r2("in"),r2("out"),r2());Ct.SteppedEase=Ct.steps=Qi.SteppedEase={config:function(t,n){t===void 0&&(t=1);var r=1/t,i=t+(n?0:1),a=n?1:0,u=1-Vt;return function(l){return((i*dg(0,u,l)|0)+a)*r}}};rh.ease=Ct["quad.out"];Ci("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(e){return PR+=e+","+e+"Params,"});var GM=function(t,n){this.id=uae++,t._gsap=this,this.target=t,this.harness=n,this.get=n?n.get:yM,this.set=n?n.getSetter:kR},sh=function(){function e(n){this.vars=n,this._delay=+n.delay||0,(this._repeat=n.repeat===1/0?-2:n.repeat||0)&&(this._rDelay=n.repeatDelay||0,this._yoyo=!!n.yoyo||!!n.yoyoEase),this._ts=1,oh(this,+n.duration,1,1),this.data=n.data,er&&(this._ctx=er,er.data.push(this)),X_||Vi.wake()}var t=e.prototype;return t.delay=function(r){return r||r===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+r-this._delay),this._delay=r,this):this._delay},t.duration=function(r){return arguments.length?this.totalDuration(this._repeat>0?r+(r+this._rDelay)*this._repeat:r):this.totalDuration()&&this._dur},t.totalDuration=function(r){return arguments.length?(this._dirty=0,oh(this,this._repeat<0?r:(r-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},t.totalTime=function(r,i){if(ah(),!arguments.length)return this._tTime;var a=this._dp;if(a&&a.smoothChildTiming&&this._ts){for(yy(this,r),!a._dp||a.parent||EM(a,this);a&&a.parent;)a.parent._time!==a._start+(a._ts>=0?a._tTime/a._ts:(a.totalDuration()-a._tTime)/-a._ts)&&a.totalTime(a._tTime,!0),a=a.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&r<this._tDur||this._ts<0&&r>0||!this._tDur&&!r)&&ua(this._dp,this,this._start-this._delay)}return(this._tTime!==r||!this._dur&&!i||this._initted&&Math.abs(this._zTime)===Vt||!r&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=r),xM(this,r,i)),this},t.time=function(r,i){return arguments.length?this.totalTime(Math.min(this.totalDuration(),r+qk(this))%(this._dur+this._rDelay)||(r?this._dur:0),i):this._time},t.totalProgress=function(r,i){return arguments.length?this.totalTime(this.totalDuration()*r,i):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},t.progress=function(r,i){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-r:r)+qk(this),i):this.duration()?Math.min(1,this._time/this._dur):this.ratio},t.iteration=function(r,i){var a=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(r-1)*a,i):this._repeat?ih(this._tTime,a)+1:1},t.timeScale=function(r){if(!arguments.length)return this._rts===-Vt?0:this._rts;if(this._rts===r)return this;var i=this.parent&&this._ts?A0(this.parent._time,this):this._tTime;return this._rts=+r||0,this._ts=this._ps||r===-Vt?0:this._rts,this.totalTime(dg(-this._delay,this._tDur,i),!0),my(this),gae(this)},t.paused=function(r){return arguments.length?(this._ps!==r&&(this._ps=r,r?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(ah(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==Vt&&(this._tTime-=Vt)))),this):this._ps},t.startTime=function(r){if(arguments.length){this._start=r;var i=this.parent||this._dp;return i&&(i._sort||!this.parent)&&ua(i,this,r-this._delay),this}return this._start},t.endTime=function(r){return this._start+(Si(r)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},t.rawTime=function(r){var i=this.parent||this._dp;return i?r&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?A0(i.rawTime(r),this):this._tTime:this._tTime},t.revert=function(r){r===void 0&&(r=dae);var i=Ei;return Ei=r,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(r),this.totalTime(-.01,r.suppressEvents)),this.data!=="nested"&&r.kill!==!1&&this.kill(),Ei=i,this},t.globalTime=function(r){for(var i=this,a=arguments.length?r:i.rawTime();i;)a=i._start+a/(i._ts||1),i=i._dp;return!this.parent&&this.vars.immediateRender?-1:a},t.repeat=function(r){return arguments.length?(this._repeat=r===1/0?-2:r,Yk(this)):this._repeat===-2?1/0:this._repeat},t.repeatDelay=function(r){if(arguments.length){var i=this._time;return this._rDelay=r,Yk(this),i?this.time(i):this}return this._rDelay},t.yoyo=function(r){return arguments.length?(this._yoyo=r,this):this._yoyo},t.seek=function(r,i){return this.totalTime(ao(this,r),Si(i))},t.restart=function(r,i){return this.play().totalTime(r?-this._delay:0,Si(i))},t.play=function(r,i){return r!=null&&this.seek(r,i),this.reversed(!1).paused(!1)},t.reverse=function(r,i){return r!=null&&this.seek(r||this.totalDuration(),i),this.reversed(!0).paused(!1)},t.pause=function(r,i){return r!=null&&this.seek(r,i),this.paused(!0)},t.resume=function(){return this.paused(!1)},t.reversed=function(r){return arguments.length?(!!r!==this.reversed()&&this.timeScale(-this._rts||(r?-Vt:0)),this):this._rts<0},t.invalidate=function(){return this._initted=this._act=0,this._zTime=-Vt,this},t.isActive=function(){var r=this.parent||this._dp,i=this._start,a;return!!(!r||this._ts&&this._initted&&r.isActive()&&(a=r.rawTime(!0))>=i&&a<this.endTime(!0)-Vt)},t.eventCallback=function(r,i,a){var u=this.vars;return arguments.length>1?(i?(u[r]=i,a&&(u[r+"Params"]=a),r==="onUpdate"&&(this._onUpdate=i)):delete u[r],this):u[r]},t.then=function(r){var i=this;return new Promise(function(a){var u=Gn(r)?r:wM,l=function(){var h=i.then;i.then=null,Gn(u)&&(u=u(i))&&(u.then||u===i)&&(i.then=h),a(u),i.then=h};i._initted&&i.totalProgress()===1&&i._ts>=0||!i._tTime&&i._ts<0?l():i._prom=l})},t.kill=function(){Wv(this)},e}();mo(sh.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-Vt,_prom:0,_ps:!1,_rts:1});var bi=function(e){uM(t,e);function t(r,i){var a;return r===void 0&&(r={}),a=e.call(this,r)||this,a.labels={},a.smoothChildTiming=!!r.smoothChildTiming,a.autoRemoveChildren=!!r.autoRemoveChildren,a._sort=Si(r.sortChildren),Ln&&ua(r.parent||Ln,bs(a),i),r.reversed&&a.reverse(),r.paused&&a.paused(!0),r.scrollTrigger&&SM(bs(a),r.scrollTrigger),a}var n=t.prototype;return n.to=function(i,a,u){return u_(0,arguments,this),this},n.from=function(i,a,u){return u_(1,arguments,this),this},n.fromTo=function(i,a,u,l){return u_(2,arguments,this),this},n.set=function(i,a,u){return a.duration=0,a.parent=this,s_(a).repeatDelay||(a.repeat=0),a.immediateRender=!!a.immediateRender,new fr(i,a,ao(this,u),1),this},n.call=function(i,a,u){return ua(this,fr.delayedCall(0,i,a),u)},n.staggerTo=function(i,a,u,l,f,h,d){return u.duration=a,u.stagger=u.stagger||l,u.onComplete=h,u.onCompleteParams=d,u.parent=this,new fr(i,u,ao(this,f)),this},n.staggerFrom=function(i,a,u,l,f,h,d){return u.runBackwards=1,s_(u).immediateRender=Si(u.immediateRender),this.staggerTo(i,a,u,l,f,h,d)},n.staggerFromTo=function(i,a,u,l,f,h,d,v){return l.startAt=u,s_(l).immediateRender=Si(l.immediateRender),this.staggerTo(i,a,l,f,h,d,v)},n.render=function(i,a,u){var l=this._time,f=this._dirty?this.totalDuration():this._tDur,h=this._dur,d=i<=0?0:Gr(i),v=this._zTime<0!=i<0&&(this._initted||!h),_,g,x,b,y,E,S,A,L,P,R,D;if(this!==Ln&&d>f&&i>=0&&(d=f),d!==this._tTime||u||v){if(l!==this._time&&h&&(d+=this._time-l,i+=this._time-l),_=d,L=this._start,A=this._ts,E=!A,v&&(h||(l=this._zTime),(i||!a)&&(this._zTime=i)),this._repeat){if(R=this._yoyo,y=h+this._rDelay,this._repeat<-1&&i<0)return this.totalTime(y*100+i,a,u);if(_=Gr(d%y),d===f?(b=this._repeat,_=h):(b=~~(d/y),b&&b===d/y&&(_=h,b--),_>h&&(_=h)),P=ih(this._tTime,y),!l&&this._tTime&&P!==b&&(P=b),R&&b&1&&(_=h-_,D=1),b!==P&&!this._lock){var $=R&&P&1,U=$===(R&&b&1);if(b<P&&($=!$),l=$?0:h,this._lock=1,this.render(l||(D?0:Gr(b*y)),a,!h)._lock=0,this._tTime=d,!a&&this.parent&&ho(this,"onRepeat"),this.vars.repeatRefresh&&!D&&(this.invalidate()._lock=1),l&&l!==this._time||E!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(h=this._dur,f=this._tDur,U&&(this._lock=2,l=$?h:-1e-4,this.render(l,!0),this.vars.repeatRefresh&&!D&&this.invalidate()),this._lock=0,!this._ts&&!E)return this;DM(this,D)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(S=bae(this,Gr(l),Gr(_)),S&&(d-=_-(_=S._start))),this._tTime=d,this._time=_,this._act=!A,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=i,l=0),!l&&_&&!a&&(ho(this,"onStart"),this._tTime!==d))return this;if(_>=l&&i>=0)for(g=this._first;g;){if(x=g._next,(g._act||_>=g._start)&&g._ts&&S!==g){if(g.parent!==this)return this.render(i,a,u);if(g.render(g._ts>0?(_-g._start)*g._ts:(g._dirty?g.totalDuration():g._tDur)+(_-g._start)*g._ts,a,u),_!==this._time||!this._ts&&!E){S=0,x&&(d+=this._zTime=-Vt);break}}g=x}else{g=this._last;for(var K=i<0?i:_;g;){if(x=g._prev,(g._act||K<=g._end)&&g._ts&&S!==g){if(g.parent!==this)return this.render(i,a,u);if(g.render(g._ts>0?(K-g._start)*g._ts:(g._dirty?g.totalDuration():g._tDur)+(K-g._start)*g._ts,a,u||Ei&&(g._initted||g._startAt)),_!==this._time||!this._ts&&!E){S=0,x&&(d+=this._zTime=K?-Vt:Vt);break}}g=x}}if(S&&!a&&(this.pause(),S.render(_>=l?0:-Vt)._zTime=_>=l?1:-1,this._ts))return this._start=L,my(this),this.render(i,a,u);this._onUpdate&&!a&&ho(this,"onUpdate",!0),(d===f&&this._tTime>=this.totalDuration()||!d&&l)&&(L===this._start||Math.abs(A)!==Math.abs(this._ts))&&(this._lock||((i||!h)&&(d===f&&this._ts>0||!d&&this._ts<0)&&xu(this,1),!a&&!(i<0&&!l)&&(d||l||!f)&&(ho(this,d===f&&i>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(d<f&&this.timeScale()>0)&&this._prom())))}return this},n.add=function(i,a){var u=this;if(Ms(a)||(a=ao(this,a,i)),!(i instanceof sh)){if(ei(i))return i.forEach(function(l){return u.add(l,a)}),this;if(xr(i))return this.addLabel(i,a);if(Gn(i))i=fr.delayedCall(0,i);else return this}return this!==i?ua(this,i,a):this},n.getChildren=function(i,a,u,l){i===void 0&&(i=!0),a===void 0&&(a=!0),u===void 0&&(u=!0),l===void 0&&(l=-fo);for(var f=[],h=this._first;h;)h._start>=l&&(h instanceof fr?a&&f.push(h):(u&&f.push(h),i&&f.push.apply(f,h.getChildren(!0,a,u)))),h=h._next;return f},n.getById=function(i){for(var a=this.getChildren(1,1,1),u=a.length;u--;)if(a[u].vars.id===i)return a[u]},n.remove=function(i){return xr(i)?this.removeLabel(i):Gn(i)?this.killTweensOf(i):(gy(this,i),i===this._recent&&(this._recent=this._last),bf(this))},n.totalTime=function(i,a){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Gr(Vi.time-(this._ts>0?i/this._ts:(this.totalDuration()-i)/-this._ts))),e.prototype.totalTime.call(this,i,a),this._forcing=0,this):this._tTime},n.addLabel=function(i,a){return this.labels[i]=ao(this,a),this},n.removeLabel=function(i){return delete this.labels[i],this},n.addPause=function(i,a,u){var l=fr.delayedCall(0,a||j_,u);return l.data="isPause",this._hasPause=1,ua(this,l,ao(this,i))},n.removePause=function(i){var a=this._first;for(i=ao(this,i);a;)a._start===i&&a.data==="isPause"&&xu(a),a=a._next},n.killTweensOf=function(i,a,u){for(var l=this.getTweensOf(i,u),f=l.length;f--;)Js!==l[f]&&l[f].kill(i,a);return this},n.getTweensOf=function(i,a){for(var u=[],l=co(i),f=this._first,h=Ms(a),d;f;)f instanceof fr?pae(f._targets,l)&&(h?(!Js||f._initted&&f._ts)&&f.globalTime(0)<=a&&f.globalTime(f.totalDuration())>a:!a||f.isActive())&&u.push(f):(d=f.getTweensOf(l,a)).length&&u.push.apply(u,d),f=f._next;return u},n.tweenTo=function(i,a){a=a||{};var u=this,l=ao(u,i),f=a,h=f.startAt,d=f.onStart,v=f.onStartParams,_=f.immediateRender,g,x=fr.to(u,mo({ease:a.ease||"none",lazy:!1,immediateRender:!1,time:l,overwrite:"auto",duration:a.duration||Math.abs((l-(h&&"time"in h?h.time:u._time))/u.timeScale())||Vt,onStart:function(){if(u.pause(),!g){var y=a.duration||Math.abs((l-(h&&"time"in h?h.time:u._time))/u.timeScale());x._dur!==y&&oh(x,y,0,1).render(x._time,!0,!0),g=1}d&&d.apply(x,v||[])}},a));return _?x.render(0):x},n.tweenFromTo=function(i,a,u){return this.tweenTo(a,mo({startAt:{time:ao(this,i)}},u))},n.recent=function(){return this._recent},n.nextLabel=function(i){return i===void 0&&(i=this._time),Kk(this,ao(this,i))},n.previousLabel=function(i){return i===void 0&&(i=this._time),Kk(this,ao(this,i),1)},n.currentLabel=function(i){return arguments.length?this.seek(i,!0):this.previousLabel(this._time+Vt)},n.shiftChildren=function(i,a,u){u===void 0&&(u=0);for(var l=this._first,f=this.labels,h;l;)l._start>=u&&(l._start+=i,l._end+=i),l=l._next;if(a)for(h in f)f[h]>=u&&(f[h]+=i);return bf(this)},n.invalidate=function(i){var a=this._first;for(this._lock=0;a;)a.invalidate(i),a=a._next;return e.prototype.invalidate.call(this,i)},n.clear=function(i){i===void 0&&(i=!0);for(var a=this._first,u;a;)u=a._next,this.remove(a),a=u;return this._dp&&(this._time=this._tTime=this._pTime=0),i&&(this.labels={}),bf(this)},n.totalDuration=function(i){var a=0,u=this,l=u._last,f=fo,h,d,v;if(arguments.length)return u.timeScale((u._repeat<0?u.duration():u.totalDuration())/(u.reversed()?-i:i));if(u._dirty){for(v=u.parent;l;)h=l._prev,l._dirty&&l.totalDuration(),d=l._start,d>f&&u._sort&&l._ts&&!u._lock?(u._lock=1,ua(u,l,d-l._delay,1)._lock=0):f=d,d<0&&l._ts&&(a-=d,(!v&&!u._dp||v&&v.smoothChildTiming)&&(u._start+=d/u._ts,u._time-=d,u._tTime-=d),u.shiftChildren(-d,!1,-1/0),f=0),l._end>a&&l._ts&&(a=l._end),l=h;oh(u,u===Ln&&u._time>a?u._time:a,1,1),u._dirty=0}return u._tDur},t.updateRoot=function(i){if(Ln._ts&&(xM(Ln,A0(i,Ln)),mM=Vi.frame),Vi.frame>=Xk){Xk+=Yi.autoSleep||120;var a=Ln._first;if((!a||!a._ts)&&Yi.autoSleep&&Vi._listeners.length<2){for(;a&&!a._ts;)a=a._next;a||Vi.sleep()}}},t}(sh);mo(bi.prototype,{_lock:0,_hasPause:0,_forcing:0});var Dae=function(t,n,r,i,a,u,l){var f=new Ii(this._pt,t,n,0,1,XM,null,a),h=0,d=0,v,_,g,x,b,y,E,S;for(f.b=r,f.e=i,r+="",i+="",(E=~i.indexOf("random("))&&(i=z_(i)),u&&(S=[r,i],u(S,t,n),r=S[0],i=S[1]),_=r.match(QC)||[];v=QC.exec(i);)x=v[0],b=i.substring(h,v.index),g?g=(g+1)%5:b.substr(-5)==="rgba("&&(g=1),x!==_[d++]&&(y=parseFloat(_[d-1])||0,f._pt={_next:f._pt,p:b||d===1?b:",",s:y,c:x.charAt(1)==="="?Hc(y,x)-y:parseFloat(x)-y,m:g&&g<4?Math.round:0},h=QC.lastIndex);return f.c=h<i.length?i.substring(h,i.length):"",f.fp=l,(dM.test(i)||E)&&(f.e=0),this._pt=f,f},OR=function(t,n,r,i,a,u,l,f,h,d){Gn(i)&&(i=i(a||0,t,u));var v=t[n],_=r!=="get"?r:Gn(v)?h?t[n.indexOf("set")||!Gn(t["get"+n.substr(3)])?n:"get"+n.substr(3)](h):t[n]():v,g=Gn(v)?h?Wae:jM:LR,x;if(xr(i)&&(~i.indexOf("random(")&&(i=z_(i)),i.charAt(1)==="="&&(x=Hc(_,i)+(Zr(_)||0),(x||x===0)&&(i=x))),!d||_!==i||wA)return!isNaN(_*i)&&i!==""?(x=new Ii(this._pt,t,n,+_||0,i-(_||0),typeof v=="boolean"?zae:zM,0,g),h&&(x.fp=h),l&&x.modifier(l,this,t),this._pt=x):(!v&&!(n in t)&&IR(n,i),Dae.call(this,t,n,_,i,g,f||Yi.stringFilter,h))},Mae=function(t,n,r,i,a){if(Gn(t)&&(t=l_(t,a,n,r,i)),!xa(t)||t.style&&t.nodeType||ei(t)||cM(t))return xr(t)?l_(t,a,n,r,i):t;var u={},l;for(l in t)u[l]=l_(t[l],a,n,r,i);return u},$M=function(t,n,r,i,a,u){var l,f,h,d;if(Xi[t]&&(l=new Xi[t]).init(a,l.rawVars?n[t]:Mae(n[t],i,a,u,r),r,i,u)!==!1&&(r._pt=f=new Ii(r._pt,a,t,0,1,l.render,l,0,l.priority),r!==Sc))for(h=r._ptLookup[r._targets.indexOf(a)],d=l._props.length;d--;)h[l._props[d]]=f;return l},Js,wA,NR=function e(t,n,r){var i=t.vars,a=i.ease,u=i.startAt,l=i.immediateRender,f=i.lazy,h=i.onUpdate,d=i.onUpdateParams,v=i.callbackScope,_=i.runBackwards,g=i.yoyoEase,x=i.keyframes,b=i.autoRevert,y=t._dur,E=t._startAt,S=t._targets,A=t.parent,L=A&&A.data==="nested"?A.vars.targets:S,P=t._overwrite==="auto"&&!ER,R=t.timeline,D,$,U,K,ie,re,ve,Ge,ae,ce,me,Oe,pt;if(R&&(!x||!a)&&(a="none"),t._ease=wf(a,rh.ease),t._yEase=g?UM(wf(g===!0?a:g,rh.ease)):0,g&&t._yoyo&&!t._repeat&&(g=t._yEase,t._yEase=t._ease,t._ease=g),t._from=!R&&!!i.runBackwards,!R||x&&!i.stagger){if(Ge=S[0]?xf(S[0]).harness:0,Oe=Ge&&i[Ge.prop],D=I0(i,AR),E&&(E._zTime<0&&E.progress(1),n<0&&_&&l&&!b?E.render(-1,!0):E.revert(_&&y?Am:hae),E._lazy=0),u){if(xu(t._startAt=fr.set(S,mo({data:"isStart",overwrite:!1,parent:A,immediateRender:!0,lazy:Si(f),startAt:null,delay:0,onUpdate:h,onUpdateParams:d,callbackScope:v,stagger:0},u))),t._startAt._dp=0,n<0&&(Ei||!l&&!b)&&t._startAt.revert(Am),l&&y&&n<=0&&r<=0){n&&(t._zTime=n);return}}else if(_&&y&&!E){if(n&&(l=!1),U=mo({overwrite:!1,data:"isFromStart",lazy:l&&Si(f),immediateRender:l,stagger:0,parent:A},D),Oe&&(U[Ge.prop]=Oe),xu(t._startAt=fr.set(S,U)),t._startAt._dp=0,n<0&&(Ei?t._startAt.revert(Am):t._startAt.render(-1,!0)),t._zTime=n,!l)e(t._startAt,Vt,Vt);else if(!n)return}for(t._pt=t._ptCache=0,f=y&&Si(f)||f&&!y,$=0;$<S.length;$++){if(ie=S[$],ve=ie._gsap||RR(S)[$]._gsap,t._ptLookup[$]=ce={},_A[ve.id]&&fu.length&&C0(),me=L===S?$:L.indexOf(ie),Ge&&(ae=new Ge).init(ie,Oe||D,t,me,L)!==!1&&(t._pt=K=new Ii(t._pt,ie,ae.name,0,1,ae.render,ae,0,ae.priority),ae._props.forEach(function(te){ce[te]=K}),ae.priority&&(re=1)),!Ge||Oe)for(U in D)Xi[U]&&(ae=$M(U,D,t,me,ie,L))?ae.priority&&(re=1):ce[U]=K=OR.call(t,ie,U,"get",D[U],me,L,0,i.stringFilter);t._op&&t._op[$]&&t.kill(ie,t._op[$]),P&&t._pt&&(Js=t,Ln.killTweensOf(ie,ce,t.globalTime(n)),pt=!t.parent,Js=0),t._pt&&f&&(_A[ve.id]=1)}re&&VM(t),t._onInit&&t._onInit(t)}t._onUpdate=h,t._initted=(!t._op||t._pt)&&!pt,x&&n<=0&&R.render(fo,!0,!0)},Gae=function(t,n,r,i,a,u,l){var f=(t._pt&&t._ptCache||(t._ptCache={}))[n],h,d,v,_;if(!f)for(f=t._ptCache[n]=[],v=t._ptLookup,_=t._targets.length;_--;){if(h=v[_][n],h&&h.d&&h.d._pt)for(h=h.d._pt;h&&h.p!==n&&h.fp!==n;)h=h._next;if(!h)return wA=1,t.vars[n]="+=0",NR(t,l),wA=0,1;f.push(h)}for(_=f.length;_--;)d=f[_],h=d._pt||d,h.s=(i||i===0)&&!a?i:h.s+(i||0)+u*h.c,h.c=r-h.s,d.e&&(d.e=zn(r)+Zr(d.e)),d.b&&(d.b=h.s+Zr(d.b))},$ae=function(t,n){var r=t[0]?xf(t[0]).harness:0,i=r&&r.aliases,a,u,l,f;if(!i)return n;a=kf({},n);for(u in i)if(u in a)for(f=i[u].split(","),l=f.length;l--;)a[f[l]]=a[u];return a},Hae=function(t,n,r,i){var a=n.ease||i||"power1.inOut",u,l;if(ei(n))l=r[t]||(r[t]=[]),n.forEach(function(f,h){return l.push({t:h/(n.length-1)*100,v:f,e:a})});else for(u in n)l=r[u]||(r[u]=[]),u==="ease"||l.push({t:parseFloat(t),v:n[u],e:a})},l_=function(t,n,r,i,a){return Gn(t)?t.call(n,r,i,a):xr(t)&&~t.indexOf("random(")?z_(t):t},HM=PR+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",WM={};Ci(HM+",id,stagger,delay,duration,paused,scrollTrigger",function(e){return WM[e]=1});var fr=function(e){uM(t,e);function t(r,i,a,u){var l;typeof i=="number"&&(a.duration=i,i=a,a=null),l=e.call(this,u?i:s_(i))||this;var f=l.vars,h=f.duration,d=f.delay,v=f.immediateRender,_=f.stagger,g=f.overwrite,x=f.keyframes,b=f.defaults,y=f.scrollTrigger,E=f.yoyoEase,S=i.parent||Ln,A=(ei(r)||cM(r)?Ms(r[0]):"length"in i)?[r]:co(r),L,P,R,D,$,U,K,ie;if(l._targets=A.length?RR(A):S0("GSAP target "+r+" not found. https://greensock.com",!Yi.nullTargetWarn)||[],l._ptLookup=[],l._overwrite=g,x||_||im(h)||im(d)){if(i=l.vars,L=l.timeline=new bi({data:"nested",defaults:b||{},targets:S&&S.data==="nested"?S.vars.targets:A}),L.kill(),L.parent=L._dp=bs(l),L._start=0,_||im(h)||im(d)){if(D=A.length,K=_&&PM(_),xa(_))for($ in _)~HM.indexOf($)&&(ie||(ie={}),ie[$]=_[$]);for(P=0;P<D;P++)R=I0(i,WM),R.stagger=0,E&&(R.yoyoEase=E),ie&&kf(R,ie),U=A[P],R.duration=+l_(h,bs(l),P,U,A),R.delay=(+l_(d,bs(l),P,U,A)||0)-l._delay,!_&&D===1&&R.delay&&(l._delay=d=R.delay,l._start+=d,R.delay=0),L.to(U,R,K?K(P,U,A):0),L._ease=Ct.none;L.duration()?h=d=0:l.timeline=0}else if(x){s_(mo(L.vars.defaults,{ease:"none"})),L._ease=wf(x.ease||i.ease||"none");var re=0,ve,Ge,ae;if(ei(x))x.forEach(function(ce){return L.to(A,ce,">")}),L.duration();else{R={};for($ in x)$==="ease"||$==="easeEach"||Hae($,x[$],R,x.easeEach);for($ in R)for(ve=R[$].sort(function(ce,me){return ce.t-me.t}),re=0,P=0;P<ve.length;P++)Ge=ve[P],ae={ease:Ge.e,duration:(Ge.t-(P?ve[P-1].t:0))/100*h},ae[$]=Ge.v,L.to(A,ae,re),re+=ae.duration;L.duration()<h&&L.to({},{duration:h-L.duration()})}}h||l.duration(h=L.duration())}else l.timeline=0;return g===!0&&!ER&&(Js=bs(l),Ln.killTweensOf(A),Js=0),ua(S,bs(l),a),i.reversed&&l.reverse(),i.paused&&l.paused(!0),(v||!h&&!x&&l._start===Gr(S._time)&&Si(v)&&mae(bs(l))&&S.data!=="nested")&&(l._tTime=-Vt,l.render(Math.max(0,-d)||0)),y&&SM(bs(l),y),l}var n=t.prototype;return n.render=function(i,a,u){var l=this._time,f=this._tDur,h=this._dur,d=i<0,v=i>f-Vt&&!d?f:i<Vt?0:i,_,g,x,b,y,E,S,A,L;if(!h)xae(this,i,a,u);else if(v!==this._tTime||!i||u||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==d){if(_=v,A=this.timeline,this._repeat){if(b=h+this._rDelay,this._repeat<-1&&d)return this.totalTime(b*100+i,a,u);if(_=Gr(v%b),v===f?(x=this._repeat,_=h):(x=~~(v/b),x&&x===v/b&&(_=h,x--),_>h&&(_=h)),E=this._yoyo&&x&1,E&&(L=this._yEase,_=h-_),y=ih(this._tTime,b),_===l&&!u&&this._initted)return this._tTime=v,this;x!==y&&(A&&this._yEase&&DM(A,E),this.vars.repeatRefresh&&!E&&!this._lock&&(this._lock=u=1,this.render(Gr(b*x),!0).invalidate()._lock=0))}if(!this._initted){if(CM(this,d?i:_,u,a,v))return this._tTime=0,this;if(l!==this._time)return this;if(h!==this._dur)return this.render(i,a,u)}if(this._tTime=v,this._time=_,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=S=(L||this._ease)(_/h),this._from&&(this.ratio=S=1-S),_&&!l&&!a&&(ho(this,"onStart"),this._tTime!==v))return this;for(g=this._pt;g;)g.r(S,g.d),g=g._next;A&&A.render(i<0?i:!_&&E?-Vt:A._dur*A._ease(_/this._dur),a,u)||this._startAt&&(this._zTime=i),this._onUpdate&&!a&&(d&&gA(this,i,a,u),ho(this,"onUpdate")),this._repeat&&x!==y&&this.vars.onRepeat&&!a&&this.parent&&ho(this,"onRepeat"),(v===this._tDur||!v)&&this._tTime===v&&(d&&!this._onUpdate&&gA(this,i,!0,!0),(i||!h)&&(v===this._tDur&&this._ts>0||!v&&this._ts<0)&&xu(this,1),!a&&!(d&&!l)&&(v||l||E)&&(ho(this,v===f?"onComplete":"onReverseComplete",!0),this._prom&&!(v<f&&this.timeScale()>0)&&this._prom()))}return this},n.targets=function(){return this._targets},n.invalidate=function(i){return(!i||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(i),e.prototype.invalidate.call(this,i)},n.resetTo=function(i,a,u,l){X_||Vi.wake(),this._ts||this.play();var f=Math.min(this._dur,(this._dp._time-this._start)*this._ts),h;return this._initted||NR(this,f),h=this._ease(f/this._dur),Gae(this,i,a,u,l,h,f)?this.resetTo(i,a,u,l):(yy(this,0),this.parent||TM(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},n.kill=function(i,a){if(a===void 0&&(a="all"),!i&&(!a||a==="all"))return this._lazy=this._pt=0,this.parent?Wv(this):this;if(this.timeline){var u=this.timeline.totalDuration();return this.timeline.killTweensOf(i,a,Js&&Js.vars.overwrite!==!0)._first||Wv(this),this.parent&&u!==this.timeline.totalDuration()&&oh(this,this._dur*this.timeline._tDur/u,0,1),this}var l=this._targets,f=i?co(i):l,h=this._ptLookup,d=this._pt,v,_,g,x,b,y,E;if((!a||a==="all")&&_ae(l,f))return a==="all"&&(this._pt=0),Wv(this);for(v=this._op=this._op||[],a!=="all"&&(xr(a)&&(b={},Ci(a,function(S){return b[S]=1}),a=b),a=$ae(l,a)),E=l.length;E--;)if(~f.indexOf(l[E])){_=h[E],a==="all"?(v[E]=a,x=_,g={}):(g=v[E]=v[E]||{},x=a);for(b in x)y=_&&_[b],y&&((!("kill"in y.d)||y.d.kill(b)===!0)&&gy(this,y,"_pt"),delete _[b]),g!=="all"&&(g[b]=1)}return this._initted&&!this._pt&&d&&Wv(this),this},t.to=function(i,a){return new t(i,a,arguments[2])},t.from=function(i,a){return u_(1,arguments)},t.delayedCall=function(i,a,u,l){return new t(a,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:i,onComplete:a,onReverseComplete:a,onCompleteParams:u,onReverseCompleteParams:u,callbackScope:l})},t.fromTo=function(i,a,u){return u_(2,arguments)},t.set=function(i,a){return a.duration=0,a.repeatDelay||(a.repeat=0),new t(i,a)},t.killTweensOf=function(i,a,u){return Ln.killTweensOf(i,a,u)},t}(sh);mo(fr.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});Ci("staggerTo,staggerFrom,staggerFromTo",function(e){fr[e]=function(){var t=new bi,n=yA.call(arguments,0);return n.splice(e==="staggerFromTo"?5:4,0,0),t[e].apply(t,n)}});var LR=function(t,n,r){return t[n]=r},jM=function(t,n,r){return t[n](r)},Wae=function(t,n,r,i){return t[n](i.fp,r)},jae=function(t,n,r){return t.setAttribute(n,r)},kR=function(t,n){return Gn(t[n])?jM:SR(t[n])&&t.setAttribute?jae:LR},zM=function(t,n){return n.set(n.t,n.p,Math.round((n.s+n.c*t)*1e6)/1e6,n)},zae=function(t,n){return n.set(n.t,n.p,!!(n.s+n.c*t),n)},XM=function(t,n){var r=n._pt,i="";if(!t&&n.b)i=n.b;else if(t===1&&n.e)i=n.e;else{for(;r;)i=r.p+(r.m?r.m(r.s+r.c*t):Math.round((r.s+r.c*t)*1e4)/1e4)+i,r=r._next;i+=n.c}n.set(n.t,n.p,i,n)},FR=function(t,n){for(var r=n._pt;r;)r.r(t,r.d),r=r._next},Xae=function(t,n,r,i){for(var a=this._pt,u;a;)u=a._next,a.p===i&&a.modifier(t,n,r),a=u},Vae=function(t){for(var n=this._pt,r,i;n;)i=n._next,n.p===t&&!n.op||n.op===t?gy(this,n,"_pt"):n.dep||(r=1),n=i;return!r},qae=function(t,n,r,i){i.mSet(t,n,i.m.call(i.tween,r,i.mt),i)},VM=function(t){for(var n=t._pt,r,i,a,u;n;){for(r=n._next,i=a;i&&i.pr>n.pr;)i=i._next;(n._prev=i?i._prev:u)?n._prev._next=n:a=n,(n._next=i)?i._prev=n:u=n,n=r}t._pt=a},Ii=function(){function e(n,r,i,a,u,l,f,h,d){this.t=r,this.s=a,this.c=u,this.p=i,this.r=l||zM,this.d=f||this,this.set=h||LR,this.pr=d||0,this._next=n,n&&(n._prev=this)}var t=e.prototype;return t.modifier=function(r,i,a){this.mSet=this.mSet||this.set,this.set=qae,this.m=r,this.mt=a,this.tween=i},e}();Ci(PR+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(e){return AR[e]=1});Qi.TweenMax=Qi.TweenLite=fr;Qi.TimelineLite=Qi.TimelineMax=bi;Ln=new bi({sortChildren:!1,defaults:rh,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});Yi.stringFilter=BM;var uh=[],Rm={},Yae=[],Jk=0,i2=function(t){return(Rm[t]||Yae).map(function(n){return n()})},TA=function(){var t=Date.now(),n=[];t-Jk>2&&(i2("matchMediaInit"),uh.forEach(function(r){var i=r.queries,a=r.conditions,u,l,f,h;for(l in i)u=so.matchMedia(i[l]).matches,u&&(f=1),u!==a[l]&&(a[l]=u,h=1);h&&(r.revert(),f&&n.push(r))}),i2("matchMediaRevert"),n.forEach(function(r){return r.onMatch(r)}),Jk=t,i2("matchMedia"))},qM=function(){function e(n,r){this.selector=r&&xA(r),this.data=[],this._r=[],this.isReverted=!1,n&&this.add(n)}var t=e.prototype;return t.add=function(r,i,a){Gn(r)&&(a=i,i=r,r=Gn);var u=this,l=function(){var h=er,d=u.selector,v;return h&&h!==u&&h.data.push(u),a&&(u.selector=xA(a)),er=u,v=i.apply(u,arguments),Gn(v)&&u._r.push(v),er=h,u.selector=d,u.isReverted=!1,v};return u.last=l,r===Gn?l(u):r?u[r]=l:l},t.ignore=function(r){var i=er;er=null,r(this),er=i},t.getTweens=function(){var r=[];return this.data.forEach(function(i){return i instanceof e?r.push.apply(r,i.getTweens()):i instanceof fr&&!(i.parent&&i.parent.data==="nested")&&r.push(i)}),r},t.clear=function(){this._r.length=this.data.length=0},t.kill=function(r,i){var a=this;if(r){var u=this.getTweens();this.data.forEach(function(f){f.data==="isFlip"&&(f.revert(),f.getChildren(!0,!0,!1).forEach(function(h){return u.splice(u.indexOf(h),1)}))}),u.map(function(f){return{g:f.globalTime(0),t:f}}).sort(function(f,h){return h.g-f.g||-1}).forEach(function(f){return f.t.revert(r)}),this.data.forEach(function(f){return!(f instanceof sh)&&f.revert&&f.revert(r)}),this._r.forEach(function(f){return f(r,a)}),this.isReverted=!0}else this.data.forEach(function(f){return f.kill&&f.kill()});if(this.clear(),i){var l=uh.indexOf(this);~l&&uh.splice(l,1)}},t.revert=function(r){this.kill(r||{})},e}(),Kae=function(){function e(n){this.contexts=[],this.scope=n}var t=e.prototype;return t.add=function(r,i,a){xa(r)||(r={matches:r});var u=new qM(0,a||this.scope),l=u.conditions={},f,h,d;this.contexts.push(u),i=u.add("onMatch",i),u.queries=r;for(h in r)h==="all"?d=1:(f=so.matchMedia(r[h]),f&&(uh.indexOf(u)<0&&uh.push(u),(l[h]=f.matches)&&(d=1),f.addListener?f.addListener(TA):f.addEventListener("change",TA)));return d&&i(u),this},t.revert=function(r){this.kill(r||{})},t.kill=function(r){this.contexts.forEach(function(i){return i.kill(r,!0)})},e}(),P0={registerPlugin:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];n.forEach(function(i){return Oae(i)})},timeline:function(t){return new bi(t)},getTweensOf:function(t,n){return Ln.getTweensOf(t,n)},getProperty:function(t,n,r,i){xr(t)&&(t=co(t)[0]);var a=xf(t||{}).get,u=r?wM:bM;return r==="native"&&(r=""),t&&(n?u((Xi[n]&&Xi[n].get||a)(t,n,r,i)):function(l,f,h){return u((Xi[l]&&Xi[l].get||a)(t,l,f,h))})},quickSetter:function(t,n,r){if(t=co(t),t.length>1){var i=t.map(function(d){return eo.quickSetter(d,n,r)}),a=i.length;return function(d){for(var v=a;v--;)i[v](d)}}t=t[0]||{};var u=Xi[n],l=xf(t),f=l.harness&&(l.harness.aliases||{})[n]||n,h=u?function(d){var v=new u;Sc._pt=0,v.init(t,r?d+r:d,Sc,0,[t]),v.render(1,v),Sc._pt&&FR(1,Sc)}:l.set(t,f);return u?h:function(d){return h(t,f,r?d+r:d,l,1)}},quickTo:function(t,n,r){var i,a=eo.to(t,kf((i={},i[n]="+=0.1",i.paused=!0,i),r||{})),u=function(f,h,d){return a.resetTo(n,f,h,d)};return u.tween=a,u},isTweening:function(t){return Ln.getTweensOf(t,!0).length>0},defaults:function(t){return t&&t.ease&&(t.ease=wf(t.ease,rh.ease)),Vk(rh,t||{})},config:function(t){return Vk(Yi,t||{})},registerEffect:function(t){var n=t.name,r=t.effect,i=t.plugins,a=t.defaults,u=t.extendTimeline;(i||"").split(",").forEach(function(l){return l&&!Xi[l]&&!Qi[l]&&S0(n+" effect requires "+l+" plugin.")}),e2[n]=function(l,f,h){return r(co(l),mo(f||{},a),h)},u&&(bi.prototype[n]=function(l,f,h){return this.add(e2[n](l,xa(f)?f:(h=f)&&{},this),h)})},registerEase:function(t,n){Ct[t]=wf(n)},parseEase:function(t,n){return arguments.length?wf(t,n):Ct},getById:function(t){return Ln.getById(t)},exportRoot:function(t,n){t===void 0&&(t={});var r=new bi(t),i,a;for(r.smoothChildTiming=Si(t.smoothChildTiming),Ln.remove(r),r._dp=0,r._time=r._tTime=Ln._time,i=Ln._first;i;)a=i._next,(n||!(!i._dur&&i instanceof fr&&i.vars.onComplete===i._targets[0]))&&ua(r,i,i._start-i._delay),i=a;return ua(Ln,r,0),r},context:function(t,n){return t?new qM(t,n):er},matchMedia:function(t){return new Kae(t)},matchMediaRefresh:function(){return uh.forEach(function(t){var n=t.conditions,r,i;for(i in n)n[i]&&(n[i]=!1,r=1);r&&t.revert()})||TA()},addEventListener:function(t,n){var r=Rm[t]||(Rm[t]=[]);~r.indexOf(n)||r.push(n)},removeEventListener:function(t,n){var r=Rm[t],i=r&&r.indexOf(n);i>=0&&r.splice(i,1)},utils:{wrap:Aae,wrapYoyo:Pae,distribute:PM,random:OM,snap:RM,normalize:Iae,getUnit:Zr,clamp:Tae,splitColor:kM,toArray:co,selector:xA,mapRange:LM,pipe:Sae,unitize:Cae,interpolate:Rae,shuffle:AM},install:_M,effects:e2,ticker:Vi,updateRoot:bi.updateRoot,plugins:Xi,globalTimeline:Ln,core:{PropTween:Ii,globals:gM,Tween:fr,Timeline:bi,Animation:sh,getCache:xf,_removeLinkedListItem:gy,reverting:function(){return Ei},context:function(t){return t&&er&&(er.data.push(t),t._ctx=er),er},suppressOverwrites:function(t){return ER=t}}};Ci("to,from,fromTo,delayedCall,set,killTweensOf",function(e){return P0[e]=fr[e]});Vi.add(bi.updateRoot);Sc=P0.to({},{duration:0});var Zae=function(t,n){for(var r=t._pt;r&&r.p!==n&&r.op!==n&&r.fp!==n;)r=r._next;return r},Jae=function(t,n){var r=t._targets,i,a,u;for(i in n)for(a=r.length;a--;)u=t._ptLookup[a][i],u&&(u=u.d)&&(u._pt&&(u=Zae(u,i)),u&&u.modifier&&u.modifier(n[i],t,r[a],i))},o2=function(t,n){return{name:t,rawVars:1,init:function(i,a,u){u._onInit=function(l){var f,h;if(xr(a)&&(f={},Ci(a,function(d){return f[d]=1}),a=f),n){f={};for(h in a)f[h]=n(a[h]);a=f}Jae(l,a)}}}},eo=P0.registerPlugin({name:"attr",init:function(t,n,r,i,a){var u,l,f;this.tween=r;for(u in n)f=t.getAttribute(u)||"",l=this.add(t,"setAttribute",(f||0)+"",n[u],i,a,0,0,u),l.op=u,l.b=f,this._props.push(u)},render:function(t,n){for(var r=n._pt;r;)Ei?r.set(r.t,r.p,r.b,r):r.r(t,r.d),r=r._next}},{name:"endArray",init:function(t,n){for(var r=n.length;r--;)this.add(t,r,t[r]||0,n[r],0,0,0,0,0,1)}},o2("roundProps",bA),o2("modifiers"),o2("snap",RM))||P0;fr.version=bi.version=eo.version="3.11.3";vM=1;fM()&&ah();Ct.Power0;Ct.Power1;Ct.Power2;Ct.Power3;Ct.Power4;Ct.Linear;Ct.Quad;Ct.Cubic;Ct.Quart;Ct.Quint;Ct.Strong;Ct.Elastic;Ct.Back;Ct.SteppedEase;Ct.Bounce;Ct.Sine;Ct.Expo;Ct.Circ;/*!
 * CSSPlugin 3.11.3
 * https://greensock.com
 *
 * Copyright 2008-2022, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Qk,Qs,Wc,BR,vf,eF,UR,Qae=function(){return typeof window!="undefined"},Gs={},uf=180/Math.PI,jc=Math.PI/180,sc=Math.atan2,tF=1e8,DR=/([A-Z])/g,ese=/(left|right|width|margin|padding|x)/i,tse=/[\s,\(]\S/,Ps={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},EA=function(t,n){return n.set(n.t,n.p,Math.round((n.s+n.c*t)*1e4)/1e4+n.u,n)},nse=function(t,n){return n.set(n.t,n.p,t===1?n.e:Math.round((n.s+n.c*t)*1e4)/1e4+n.u,n)},rse=function(t,n){return n.set(n.t,n.p,t?Math.round((n.s+n.c*t)*1e4)/1e4+n.u:n.b,n)},ise=function(t,n){var r=n.s+n.c*t;n.set(n.t,n.p,~~(r+(r<0?-.5:.5))+n.u,n)},YM=function(t,n){return n.set(n.t,n.p,t?n.e:n.b,n)},KM=function(t,n){return n.set(n.t,n.p,t!==1?n.b:n.e,n)},ose=function(t,n,r){return t.style[n]=r},ase=function(t,n,r){return t.style.setProperty(n,r)},sse=function(t,n,r){return t._gsap[n]=r},use=function(t,n,r){return t._gsap.scaleX=t._gsap.scaleY=r},lse=function(t,n,r,i,a){var u=t._gsap;u.scaleX=u.scaleY=r,u.renderTransform(a,u)},fse=function(t,n,r,i,a){var u=t._gsap;u[n]=r,u.renderTransform(a,u)},Fn="transform",Zo=Fn+"Origin",cse=function(t,n){var r=this,i=this.target,a=i.style;if(t in Gs){if(this.tfm=this.tfm||{},t!=="transform"&&(t=Ps[t]||t,~t.indexOf(",")?t.split(",").forEach(function(u){return r.tfm[u]=Ts(i,u)}):this.tfm[t]=i._gsap.x?i._gsap[t]:Ts(i,t)),this.props.indexOf(Fn)>=0)return;i._gsap.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(Zo,n,"")),t=Fn}(a||n)&&this.props.push(t,n,a[t])},ZM=function(t){t.translate&&(t.removeProperty("translate"),t.removeProperty("scale"),t.removeProperty("rotate"))},hse=function(){var t=this.props,n=this.target,r=n.style,i=n._gsap,a,u;for(a=0;a<t.length;a+=3)t[a+1]?n[t[a]]=t[a+2]:t[a+2]?r[t[a]]=t[a+2]:r.removeProperty(t[a].replace(DR,"-$1").toLowerCase());if(this.tfm){for(u in this.tfm)i[u]=this.tfm[u];i.svg&&(i.renderTransform(),n.setAttribute("data-svg-origin",this.svgo||"")),a=UR(),a&&!a.isStart&&!r[Fn]&&(ZM(r),i.uncache=1)}},JM=function(t,n){var r={target:t,props:[],revert:hse,save:cse};return n&&n.split(",").forEach(function(i){return r.save(i)}),r},QM,SA=function(t,n){var r=Qs.createElementNS?Qs.createElementNS((n||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),t):Qs.createElement(t);return r.style?r:Qs.createElement(t)},ya=function e(t,n,r){var i=getComputedStyle(t);return i[n]||i.getPropertyValue(n.replace(DR,"-$1").toLowerCase())||i.getPropertyValue(n)||!r&&e(t,lh(n)||n,1)||""},nF="O,Moz,ms,Ms,Webkit".split(","),lh=function(t,n,r){var i=n||vf,a=i.style,u=5;if(t in a&&!r)return t;for(t=t.charAt(0).toUpperCase()+t.substr(1);u--&&!(nF[u]+t in a););return u<0?null:(u===3?"ms":u>=0?nF[u]:"")+t},CA=function(){Qae()&&window.document&&(Qk=window,Qs=Qk.document,Wc=Qs.documentElement,vf=SA("div")||{style:{}},SA("div"),Fn=lh(Fn),Zo=Fn+"Origin",vf.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",QM=!!lh("perspective"),UR=eo.core.reverting,BR=1)},a2=function e(t){var n=SA("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),r=this.parentNode,i=this.nextSibling,a=this.style.cssText,u;if(Wc.appendChild(n),n.appendChild(this),this.style.display="block",t)try{u=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=e}catch{}else this._gsapBBox&&(u=this._gsapBBox());return r&&(i?r.insertBefore(this,i):r.appendChild(this)),Wc.removeChild(n),this.style.cssText=a,u},rF=function(t,n){for(var r=n.length;r--;)if(t.hasAttribute(n[r]))return t.getAttribute(n[r])},e6=function(t){var n;try{n=t.getBBox()}catch{n=a2.call(t,!0)}return n&&(n.width||n.height)||t.getBBox===a2||(n=a2.call(t,!0)),n&&!n.width&&!n.x&&!n.y?{x:+rF(t,["x","cx","x1"])||0,y:+rF(t,["y","cy","y1"])||0,width:0,height:0}:n},t6=function(t){return!!(t.getCTM&&(!t.parentNode||t.ownerSVGElement)&&e6(t))},V_=function(t,n){if(n){var r=t.style;n in Gs&&n!==Zo&&(n=Fn),r.removeProperty?((n.substr(0,2)==="ms"||n.substr(0,6)==="webkit")&&(n="-"+n),r.removeProperty(n.replace(DR,"-$1").toLowerCase())):r.removeAttribute(n)}},eu=function(t,n,r,i,a,u){var l=new Ii(t._pt,n,r,0,1,u?KM:YM);return t._pt=l,l.b=i,l.e=a,t._props.push(r),l},iF={deg:1,rad:1,turn:1},dse={grid:1,flex:1},bu=function e(t,n,r,i){var a=parseFloat(r)||0,u=(r+"").trim().substr((a+"").length)||"px",l=vf.style,f=ese.test(n),h=t.tagName.toLowerCase()==="svg",d=(h?"client":"offset")+(f?"Width":"Height"),v=100,_=i==="px",g=i==="%",x,b,y,E;return i===u||!a||iF[i]||iF[u]?a:(u!=="px"&&!_&&(a=e(t,n,r,"px")),E=t.getCTM&&t6(t),(g||u==="%")&&(Gs[n]||~n.indexOf("adius"))?(x=E?t.getBBox()[f?"width":"height"]:t[d],zn(g?a/x*v:a/100*x)):(l[f?"width":"height"]=v+(_?u:i),b=~n.indexOf("adius")||i==="em"&&t.appendChild&&!h?t:t.parentNode,E&&(b=(t.ownerSVGElement||{}).parentNode),(!b||b===Qs||!b.appendChild)&&(b=Qs.body),y=b._gsap,y&&g&&y.width&&f&&y.time===Vi.time&&!y.uncache?zn(a/y.width*v):((g||u==="%")&&!dse[ya(b,"display")]&&(l.position=ya(t,"position")),b===t&&(l.position="static"),b.appendChild(vf),x=vf[d],b.removeChild(vf),l.position="absolute",f&&g&&(y=xf(b),y.time=Vi.time,y.width=b[d]),zn(_?x*a/v:x&&a?v/x*a:0))))},Ts=function(t,n,r,i){var a;return BR||CA(),n in Ps&&n!=="transform"&&(n=Ps[n],~n.indexOf(",")&&(n=n.split(",")[0])),Gs[n]&&n!=="transform"?(a=Y_(t,i),a=n!=="transformOrigin"?a[n]:a.svg?a.origin:O0(ya(t,Zo))+" "+a.zOrigin+"px"):(a=t.style[n],(!a||a==="auto"||i||~(a+"").indexOf("calc("))&&(a=R0[n]&&R0[n](t,n,r)||ya(t,n)||yM(t,n)||(n==="opacity"?1:0))),r&&!~(a+"").trim().indexOf(" ")?bu(t,n,a,r)+r:a},pse=function(t,n,r,i){if(!r||r==="none"){var a=lh(n,t,1),u=a&&ya(t,a,1);u&&u!==r?(n=a,r=u):n==="borderColor"&&(r=ya(t,"borderTopColor"))}var l=new Ii(this._pt,t.style,n,0,1,XM),f=0,h=0,d,v,_,g,x,b,y,E,S,A,L,P;if(l.b=r,l.e=i,r+="",i+="",i==="auto"&&(t.style[n]=i,i=ya(t,n)||i,t.style[n]=r),d=[r,i],BM(d),r=d[0],i=d[1],_=r.match(Ec)||[],P=i.match(Ec)||[],P.length){for(;v=Ec.exec(i);)y=v[0],S=i.substring(f,v.index),x?x=(x+1)%5:(S.substr(-5)==="rgba("||S.substr(-5)==="hsla(")&&(x=1),y!==(b=_[h++]||"")&&(g=parseFloat(b)||0,L=b.substr((g+"").length),y.charAt(1)==="="&&(y=Hc(g,y)+L),E=parseFloat(y),A=y.substr((E+"").length),f=Ec.lastIndex-A.length,A||(A=A||Yi.units[n]||L,f===i.length&&(i+=A,l.e+=A)),L!==A&&(g=bu(t,n,b,A)||0),l._pt={_next:l._pt,p:S||h===1?S:",",s:g,c:E-g,m:x&&x<4||n==="zIndex"?Math.round:0});l.c=f<i.length?i.substring(f,i.length):""}else l.r=n==="display"&&i==="none"?KM:YM;return dM.test(i)&&(l.e=0),this._pt=l,l},oF={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},vse=function(t){var n=t.split(" "),r=n[0],i=n[1]||"50%";return(r==="top"||r==="bottom"||i==="left"||i==="right")&&(t=r,r=i,i=t),n[0]=oF[r]||r,n[1]=oF[i]||i,n.join(" ")},_se=function(t,n){if(n.tween&&n.tween._time===n.tween._dur){var r=n.t,i=r.style,a=n.u,u=r._gsap,l,f,h;if(a==="all"||a===!0)i.cssText="",f=1;else for(a=a.split(","),h=a.length;--h>-1;)l=a[h],Gs[l]&&(f=1,l=l==="transformOrigin"?Zo:Fn),V_(r,l);f&&(V_(r,Fn),u&&(u.svg&&r.removeAttribute("transform"),Y_(r,1),u.uncache=1,ZM(i)))}},R0={clearProps:function(t,n,r,i,a){if(a.data!=="isFromStart"){var u=t._pt=new Ii(t._pt,n,r,0,0,_se);return u.u=i,u.pr=-10,u.tween=a,t._props.push(r),1}}},q_=[1,0,0,1,0,0],n6={},r6=function(t){return t==="matrix(1, 0, 0, 1, 0, 0)"||t==="none"||!t},aF=function(t){var n=ya(t,Fn);return r6(n)?q_:n.substr(7).match(hM).map(zn)},MR=function(t,n){var r=t._gsap||xf(t),i=t.style,a=aF(t),u,l,f,h;return r.svg&&t.getAttribute("transform")?(f=t.transform.baseVal.consolidate().matrix,a=[f.a,f.b,f.c,f.d,f.e,f.f],a.join(",")==="1,0,0,1,0,0"?q_:a):(a===q_&&!t.offsetParent&&t!==Wc&&!r.svg&&(f=i.display,i.display="block",u=t.parentNode,(!u||!t.offsetParent)&&(h=1,l=t.nextElementSibling,Wc.appendChild(t)),a=aF(t),f?i.display=f:V_(t,"display"),h&&(l?u.insertBefore(t,l):u?u.appendChild(t):Wc.removeChild(t))),n&&a.length>6?[a[0],a[1],a[4],a[5],a[12],a[13]]:a)},IA=function(t,n,r,i,a,u){var l=t._gsap,f=a||MR(t,!0),h=l.xOrigin||0,d=l.yOrigin||0,v=l.xOffset||0,_=l.yOffset||0,g=f[0],x=f[1],b=f[2],y=f[3],E=f[4],S=f[5],A=n.split(" "),L=parseFloat(A[0])||0,P=parseFloat(A[1])||0,R,D,$,U;r?f!==q_&&(D=g*y-x*b)&&($=L*(y/D)+P*(-b/D)+(b*S-y*E)/D,U=L*(-x/D)+P*(g/D)-(g*S-x*E)/D,L=$,P=U):(R=e6(t),L=R.x+(~A[0].indexOf("%")?L/100*R.width:L),P=R.y+(~(A[1]||A[0]).indexOf("%")?P/100*R.height:P)),i||i!==!1&&l.smooth?(E=L-h,S=P-d,l.xOffset=v+(E*g+S*b)-E,l.yOffset=_+(E*x+S*y)-S):l.xOffset=l.yOffset=0,l.xOrigin=L,l.yOrigin=P,l.smooth=!!i,l.origin=n,l.originIsAbsolute=!!r,t.style[Zo]="0px 0px",u&&(eu(u,l,"xOrigin",h,L),eu(u,l,"yOrigin",d,P),eu(u,l,"xOffset",v,l.xOffset),eu(u,l,"yOffset",_,l.yOffset)),t.setAttribute("data-svg-origin",L+" "+P)},Y_=function(t,n){var r=t._gsap||new GM(t);if("x"in r&&!n&&!r.uncache)return r;var i=t.style,a=r.scaleX<0,u="px",l="deg",f=getComputedStyle(t),h=ya(t,Zo)||"0",d,v,_,g,x,b,y,E,S,A,L,P,R,D,$,U,K,ie,re,ve,Ge,ae,ce,me,Oe,pt,te,Y,ue,Se,ke,Be;return d=v=_=b=y=E=S=A=L=0,g=x=1,r.svg=!!(t.getCTM&&t6(t)),f.translate&&((f.translate!=="none"||f.scale!=="none"||f.rotate!=="none")&&(i[Fn]=(f.translate!=="none"?"translate3d("+(f.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(f.rotate!=="none"?"rotate("+f.rotate+") ":"")+(f.scale!=="none"?"scale("+f.scale.split(" ").join(",")+") ":"")+(f[Fn]!=="none"?f[Fn]:"")),i.scale=i.rotate=i.translate="none"),D=MR(t,r.svg),r.svg&&(r.uncache?(Oe=t.getBBox(),h=r.xOrigin-Oe.x+"px "+(r.yOrigin-Oe.y)+"px",me=""):me=!n&&t.getAttribute("data-svg-origin"),IA(t,me||h,!!me||r.originIsAbsolute,r.smooth!==!1,D)),P=r.xOrigin||0,R=r.yOrigin||0,D!==q_&&(ie=D[0],re=D[1],ve=D[2],Ge=D[3],d=ae=D[4],v=ce=D[5],D.length===6?(g=Math.sqrt(ie*ie+re*re),x=Math.sqrt(Ge*Ge+ve*ve),b=ie||re?sc(re,ie)*uf:0,S=ve||Ge?sc(ve,Ge)*uf+b:0,S&&(x*=Math.abs(Math.cos(S*jc))),r.svg&&(d-=P-(P*ie+R*ve),v-=R-(P*re+R*Ge))):(Be=D[6],Se=D[7],te=D[8],Y=D[9],ue=D[10],ke=D[11],d=D[12],v=D[13],_=D[14],$=sc(Be,ue),y=$*uf,$&&(U=Math.cos(-$),K=Math.sin(-$),me=ae*U+te*K,Oe=ce*U+Y*K,pt=Be*U+ue*K,te=ae*-K+te*U,Y=ce*-K+Y*U,ue=Be*-K+ue*U,ke=Se*-K+ke*U,ae=me,ce=Oe,Be=pt),$=sc(-ve,ue),E=$*uf,$&&(U=Math.cos(-$),K=Math.sin(-$),me=ie*U-te*K,Oe=re*U-Y*K,pt=ve*U-ue*K,ke=Ge*K+ke*U,ie=me,re=Oe,ve=pt),$=sc(re,ie),b=$*uf,$&&(U=Math.cos($),K=Math.sin($),me=ie*U+re*K,Oe=ae*U+ce*K,re=re*U-ie*K,ce=ce*U-ae*K,ie=me,ae=Oe),y&&Math.abs(y)+Math.abs(b)>359.9&&(y=b=0,E=180-E),g=zn(Math.sqrt(ie*ie+re*re+ve*ve)),x=zn(Math.sqrt(ce*ce+Be*Be)),$=sc(ae,ce),S=Math.abs($)>2e-4?$*uf:0,L=ke?1/(ke<0?-ke:ke):0),r.svg&&(me=t.getAttribute("transform"),r.forceCSS=t.setAttribute("transform","")||!r6(ya(t,Fn)),me&&t.setAttribute("transform",me))),Math.abs(S)>90&&Math.abs(S)<270&&(a?(g*=-1,S+=b<=0?180:-180,b+=b<=0?180:-180):(x*=-1,S+=S<=0?180:-180)),n=n||r.uncache,r.x=d-((r.xPercent=d&&(!n&&r.xPercent||(Math.round(t.offsetWidth/2)===Math.round(-d)?-50:0)))?t.offsetWidth*r.xPercent/100:0)+u,r.y=v-((r.yPercent=v&&(!n&&r.yPercent||(Math.round(t.offsetHeight/2)===Math.round(-v)?-50:0)))?t.offsetHeight*r.yPercent/100:0)+u,r.z=_+u,r.scaleX=zn(g),r.scaleY=zn(x),r.rotation=zn(b)+l,r.rotationX=zn(y)+l,r.rotationY=zn(E)+l,r.skewX=S+l,r.skewY=A+l,r.transformPerspective=L+u,(r.zOrigin=parseFloat(h.split(" ")[2])||0)&&(i[Zo]=O0(h)),r.xOffset=r.yOffset=0,r.force3D=Yi.force3D,r.renderTransform=r.svg?mse:QM?i6:gse,r.uncache=0,r},O0=function(t){return(t=t.split(" "))[0]+" "+t[1]},s2=function(t,n,r){var i=Zr(n);return zn(parseFloat(n)+parseFloat(bu(t,"x",r+"px",i)))+i},gse=function(t,n){n.z="0px",n.rotationY=n.rotationX="0deg",n.force3D=0,i6(t,n)},Zl="0deg",kv="0px",Jl=") ",i6=function(t,n){var r=n||this,i=r.xPercent,a=r.yPercent,u=r.x,l=r.y,f=r.z,h=r.rotation,d=r.rotationY,v=r.rotationX,_=r.skewX,g=r.skewY,x=r.scaleX,b=r.scaleY,y=r.transformPerspective,E=r.force3D,S=r.target,A=r.zOrigin,L="",P=E==="auto"&&t&&t!==1||E===!0;if(A&&(v!==Zl||d!==Zl)){var R=parseFloat(d)*jc,D=Math.sin(R),$=Math.cos(R),U;R=parseFloat(v)*jc,U=Math.cos(R),u=s2(S,u,D*U*-A),l=s2(S,l,-Math.sin(R)*-A),f=s2(S,f,$*U*-A+A)}y!==kv&&(L+="perspective("+y+Jl),(i||a)&&(L+="translate("+i+"%, "+a+"%) "),(P||u!==kv||l!==kv||f!==kv)&&(L+=f!==kv||P?"translate3d("+u+", "+l+", "+f+") ":"translate("+u+", "+l+Jl),h!==Zl&&(L+="rotate("+h+Jl),d!==Zl&&(L+="rotateY("+d+Jl),v!==Zl&&(L+="rotateX("+v+Jl),(_!==Zl||g!==Zl)&&(L+="skew("+_+", "+g+Jl),(x!==1||b!==1)&&(L+="scale("+x+", "+b+Jl),S.style[Fn]=L||"translate(0, 0)"},mse=function(t,n){var r=n||this,i=r.xPercent,a=r.yPercent,u=r.x,l=r.y,f=r.rotation,h=r.skewX,d=r.skewY,v=r.scaleX,_=r.scaleY,g=r.target,x=r.xOrigin,b=r.yOrigin,y=r.xOffset,E=r.yOffset,S=r.forceCSS,A=parseFloat(u),L=parseFloat(l),P,R,D,$,U;f=parseFloat(f),h=parseFloat(h),d=parseFloat(d),d&&(d=parseFloat(d),h+=d,f+=d),f||h?(f*=jc,h*=jc,P=Math.cos(f)*v,R=Math.sin(f)*v,D=Math.sin(f-h)*-_,$=Math.cos(f-h)*_,h&&(d*=jc,U=Math.tan(h-d),U=Math.sqrt(1+U*U),D*=U,$*=U,d&&(U=Math.tan(d),U=Math.sqrt(1+U*U),P*=U,R*=U)),P=zn(P),R=zn(R),D=zn(D),$=zn($)):(P=v,$=_,R=D=0),(A&&!~(u+"").indexOf("px")||L&&!~(l+"").indexOf("px"))&&(A=bu(g,"x",u,"px"),L=bu(g,"y",l,"px")),(x||b||y||E)&&(A=zn(A+x-(x*P+b*D)+y),L=zn(L+b-(x*R+b*$)+E)),(i||a)&&(U=g.getBBox(),A=zn(A+i/100*U.width),L=zn(L+a/100*U.height)),U="matrix("+P+","+R+","+D+","+$+","+A+","+L+")",g.setAttribute("transform",U),S&&(g.style[Fn]=U)},yse=function(t,n,r,i,a){var u=360,l=xr(a),f=parseFloat(a)*(l&&~a.indexOf("rad")?uf:1),h=f-i,d=i+h+"deg",v,_;return l&&(v=a.split("_")[1],v==="short"&&(h%=u,h!==h%(u/2)&&(h+=h<0?u:-u)),v==="cw"&&h<0?h=(h+u*tF)%u-~~(h/u)*u:v==="ccw"&&h>0&&(h=(h-u*tF)%u-~~(h/u)*u)),t._pt=_=new Ii(t._pt,n,r,i,h,nse),_.e=d,_.u="deg",t._props.push(r),_},sF=function(t,n){for(var r in n)t[r]=n[r];return t},xse=function(t,n,r){var i=sF({},r._gsap),a="perspective,force3D,transformOrigin,svgOrigin",u=r.style,l,f,h,d,v,_,g,x;i.svg?(h=r.getAttribute("transform"),r.setAttribute("transform",""),u[Fn]=n,l=Y_(r,1),V_(r,Fn),r.setAttribute("transform",h)):(h=getComputedStyle(r)[Fn],u[Fn]=n,l=Y_(r,1),u[Fn]=h);for(f in Gs)h=i[f],d=l[f],h!==d&&a.indexOf(f)<0&&(g=Zr(h),x=Zr(d),v=g!==x?bu(r,f,h,x):parseFloat(h),_=parseFloat(d),t._pt=new Ii(t._pt,l,f,v,_-v,EA),t._pt.u=x||0,t._props.push(f));sF(l,i)};Ci("padding,margin,Width,Radius",function(e,t){var n="Top",r="Right",i="Bottom",a="Left",u=(t<3?[n,r,i,a]:[n+a,n+r,i+r,i+a]).map(function(l){return t<2?e+l:"border"+l+e});R0[t>1?"border"+e:e]=function(l,f,h,d,v){var _,g;if(arguments.length<4)return _=u.map(function(x){return Ts(l,x,h)}),g=_.join(" "),g.split(_[0]).length===5?_[0]:g;_=(d+"").split(" "),g={},u.forEach(function(x,b){return g[x]=_[b]=_[b]||_[(b-1)/2|0]}),l.init(f,g,v)}});var o6={name:"css",register:CA,targetTest:function(t){return t.style&&t.nodeType},init:function(t,n,r,i,a){var u=this._props,l=t.style,f=r.vars.startAt,h,d,v,_,g,x,b,y,E,S,A,L,P,R,D,$;BR||CA(),this.styles=this.styles||JM(t),$=this.styles.props,this.tween=r;for(b in n)if(b!=="autoRound"&&(d=n[b],!(Xi[b]&&$M(b,n,r,i,t,a)))){if(g=typeof d,x=R0[b],g==="function"&&(d=d.call(r,i,t,a),g=typeof d),g==="string"&&~d.indexOf("random(")&&(d=z_(d)),x)x(this,t,b,d,r)&&(D=1);else if(b.substr(0,2)==="--")h=(getComputedStyle(t).getPropertyValue(b)+"").trim(),d+="",cu.lastIndex=0,cu.test(h)||(y=Zr(h),E=Zr(d)),E?y!==E&&(h=bu(t,b,h,E)+E):y&&(d+=y),this.add(l,"setProperty",h,d,i,a,0,0,b),u.push(b),$.push(b,0,l[b]);else if(g!=="undefined"){if(f&&b in f?(h=typeof f[b]=="function"?f[b].call(r,i,t,a):f[b],xr(h)&&~h.indexOf("random(")&&(h=z_(h)),Zr(h+"")||(h+=Yi.units[b]||Zr(Ts(t,b))||""),(h+"").charAt(1)==="="&&(h=Ts(t,b))):h=Ts(t,b),_=parseFloat(h),S=g==="string"&&d.charAt(1)==="="&&d.substr(0,2),S&&(d=d.substr(2)),v=parseFloat(d),b in Ps&&(b==="autoAlpha"&&(_===1&&Ts(t,"visibility")==="hidden"&&v&&(_=0),$.push("visibility",0,l.visibility),eu(this,l,"visibility",_?"inherit":"hidden",v?"inherit":"hidden",!v)),b!=="scale"&&b!=="transform"&&(b=Ps[b],~b.indexOf(",")&&(b=b.split(",")[0]))),A=b in Gs,A){if(this.styles.save(b),L||(P=t._gsap,P.renderTransform&&!n.parseTransform||Y_(t,n.parseTransform),R=n.smoothOrigin!==!1&&P.smooth,L=this._pt=new Ii(this._pt,l,Fn,0,1,P.renderTransform,P,0,-1),L.dep=1),b==="scale")this._pt=new Ii(this._pt,P,"scaleY",_,(S?Hc(_,S+v):v)-_||0,EA),this._pt.u=0,u.push("scaleY",b),b+="X";else if(b==="transformOrigin"){$.push(Zo,0,l[Zo]),d=vse(d),P.svg?IA(t,d,0,R,0,this):(E=parseFloat(d.split(" ")[2])||0,E!==P.zOrigin&&eu(this,P,"zOrigin",P.zOrigin,E),eu(this,l,b,O0(h),O0(d)));continue}else if(b==="svgOrigin"){IA(t,d,1,R,0,this);continue}else if(b in n6){yse(this,P,b,_,S?Hc(_,S+d):d);continue}else if(b==="smoothOrigin"){eu(this,P,"smooth",P.smooth,d);continue}else if(b==="force3D"){P[b]=d;continue}else if(b==="transform"){xse(this,d,t);continue}}else b in l||(b=lh(b)||b);if(A||(v||v===0)&&(_||_===0)&&!tse.test(d)&&b in l)y=(h+"").substr((_+"").length),v||(v=0),E=Zr(d)||(b in Yi.units?Yi.units[b]:y),y!==E&&(_=bu(t,b,h,E)),this._pt=new Ii(this._pt,A?P:l,b,_,(S?Hc(_,S+v):v)-_,!A&&(E==="px"||b==="zIndex")&&n.autoRound!==!1?ise:EA),this._pt.u=E||0,y!==E&&E!=="%"&&(this._pt.b=h,this._pt.r=rse);else if(b in l)pse.call(this,t,b,h,S?S+d:d);else if(b in t)this.add(t,b,h||t[b],S?S+d:d,i,a);else{IR(b,d);continue}A||(b in l?$.push(b,0,l[b]):$.push(b,1,h||t[b])),u.push(b)}}D&&VM(this)},render:function(t,n){if(n.tween._time||!UR())for(var r=n._pt;r;)r.r(t,r.d),r=r._next;else n.styles.revert()},get:Ts,aliases:Ps,getSetter:function(t,n,r){var i=Ps[n];return i&&i.indexOf(",")<0&&(n=i),n in Gs&&n!==Zo&&(t._gsap.x||Ts(t,"x"))?r&&eF===r?n==="scale"?use:sse:(eF=r||{})&&(n==="scale"?lse:fse):t.style&&!SR(t.style[n])?ose:~n.indexOf("-")?ase:kR(t,n)},core:{_removeProperty:V_,_getMatrix:MR}};eo.utils.checkPrefix=lh;eo.core.getStyleSaver=JM;(function(e,t,n,r){var i=Ci(e+","+t+","+n,function(a){Gs[a]=1});Ci(t,function(a){Yi.units[a]="deg",n6[a]=1}),Ps[i[13]]=e+","+t,Ci(r,function(a){var u=a.split(":");Ps[u[1]]=i[u[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");Ci("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(e){Yi.units[e]="px"});eo.registerPlugin(o6);var cc=eo.registerPlugin(o6)||eo;cc.core.Tween;function a6(e,t,n){const r=Q.pixiStage.getStageObjByKey(t);let i=cc.timeline(),a=cc.timeline(),u=cc.timeline(),l=cc.timeline(),f=cc.timeline();const h=[i,a,u,l,f];for(const g of e){const x=g.duration;r!=null&&r.pixiContainer&&(i.to(r.pixiContainer,{alpha:g.alpha,rotation:g.rotation,blur:g.blur,duration:x}),a.to(r.pixiContainer.scale,Vl(Xl({},g.scale),{duration:x})),u.to(r.pixiContainer.position,Vl(Xl({},g.position),{duration:x})),l.to(r.pixiContainer.pivot,Vl(Xl({},g.pivot),{duration:x})))}function d(){}function v(){for(const g of h)g&&(g.seek(n),g.kill());i=null,a=null,u=null,l=null,f=null}function _(g){}return{setStartState:d,setEndState:v,tickerFunc:_}}const GR={alpha:1,scale:{x:1,y:1},pivot:{x:.5,y:.5},position:{x:0,y:0},rotation:0,blur:0},bse=e=>{var l;const t=Ee.getState().stage.currentDialogKey,n=e.content,r=Tse(n),i=(l=T0(e,"target"))!=null?l:0,a=`${i}-${n}-${r}`;let u=()=>{};return setTimeout(()=>{var h,d;(h=Q.pixiStage)==null||h.stopPresetAnimationOnTarget(i);const f=wse(n,i,r);f&&(Me.debug(`\u52A8\u753B${n}\u4F5C\u7528\u5728${i}`,r),(d=Q.pixiStage)==null||d.registerAnimation(f,a,i))},0),u=()=>{setTimeout(()=>{var d;const f=Ee.getState().stage.currentDialogKey,h=t!==f;(d=Q.pixiStage)==null||d.removeAnimationWithSetEffects(a,!h)},0)},{performName:a,duration:r,isOver:!1,isHoldOn:!1,stopFunction:u,blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function wse(e,t,n){const r=Ih.find(i=>i.name===e);if(r){const i=r.effects.map(a=>{const u=ig.cloneDeep(Vl(Xl({},GR),{duration:0}));return Object.assign(u,a),u.duration=a.duration/1e3,u});return Me.debug("\u88C5\u8F7D\u81EA\u5B9A\u4E49\u52A8\u753B",i),a6(i,t,n)}return null}function Tse(e){const t=Ih.find(n=>n.name===e);if(t){let n=0;return t.effects.forEach(r=>{n+=r.duration}),n}return 0}const Ese=e=>{Me.debug("\u64AD\u653E\u6548\u679C\u97F3");const t=ag();let n=e.content;return{performName:"none",arrangePerformPromise:new Promise(r=>{setTimeout(()=>{let i=document.createElement("audio");i.src=n;const a=Ee.getState().userData,u=a.optionData.volumeMain;i.volume=u*.01*a.optionData.vocalVolume*.01,i.currentTime=0;const l={performName:t,duration:1e3*60*60,isOver:!1,isHoldOn:!0,stopFunction:()=>{i.oncanplay=()=>{},i.pause()},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0};r(l),i.oncanplay=()=>{i.play().then()},i.onended=()=>{for(const f of Q.performList)f.performName===t&&(f.isOver=!0,f.stopFunction(),Rf(f.performName))}},1)})}},Sse=e=>{var d;const t=Ee.getState().stage.currentDialogKey,n=(Math.random()*10).toString(16),r=e.content;let i;try{i=JSON.parse(r)}catch{i=[]}const a={name:n,effects:i};Ih.push(a);const u=Ise(n),l=(d=T0(e,"target"))!=null?d:0,f=`${l}-${n}-${u}`;let h=()=>{};return setTimeout(()=>{var _,g;(_=Q.pixiStage)==null||_.stopPresetAnimationOnTarget(l);const v=Cse(n,l,u);v&&(Me.debug(`\u52A8\u753B${n}\u4F5C\u7528\u5728${l}`,u),(g=Q.pixiStage)==null||g.registerAnimation(v,f,l))},0),h=()=>{setTimeout(()=>{var g;const v=Ee.getState().stage.currentDialogKey,_=t!==v;(g=Q.pixiStage)==null||g.removeAnimationWithSetEffects(f,!_)},0)},{performName:f,duration:u,isOver:!1,isHoldOn:!1,stopFunction:h,blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function Cse(e,t,n){const r=Ih.find(i=>i.name===e);if(r){const i=r.effects.map(a=>{const u=ig.cloneDeep(Vl(Xl({},GR),{duration:0}));return Object.assign(u,a),u.duration=a.duration/1e3,u});return Me.debug("\u88C5\u8F7D\u81EA\u5B9A\u4E49\u52A8\u753B",i),a6(i,t,n)}return null}function Ise(e){const t=Ih.find(n=>n.name===e);if(t){let n=0;return t.effects.forEach(r=>{n+=r.duration}),n}return 0}const Ase=e=>(Me.debug(`\u811A\u672C\u5185\u6CE8\u91CA${e.content}`),{performName:"none",duration:0,isOver:!1,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}),s6=[{scriptString:"intro",scriptType:it.intro,scriptFunction:VK},{scriptString:"changeBg",scriptType:it.changeBg,scriptFunction:nZ},{scriptString:"changeFigure",scriptType:it.changeFigure,scriptFunction:Wie},{scriptString:"miniAvatar",scriptType:it.miniAvatar,scriptFunction:jie},{scriptString:"changeScene",scriptType:it.changeScene,scriptFunction:jk},{scriptString:"choose",scriptType:it.choose,scriptFunction:Moe},{scriptString:"end",scriptType:it.end,scriptFunction:Goe},{scriptString:"bgm",scriptType:it.bgm,scriptFunction:$oe},{scriptString:"playVideo",scriptType:it.video,scriptFunction:Hoe},{scriptString:"setComplexAnimation",scriptType:it.setComplexAnimation,scriptFunction:zoe},{scriptString:"setFilter",scriptType:it.setFilter,scriptFunction:Voe},{scriptString:"pixiInit",scriptType:it.pixiInit,scriptFunction:qoe},{scriptString:"pixiPerform",scriptType:it.pixi,scriptFunction:Zoe},{scriptString:"label",scriptType:it.label,scriptFunction:Joe},{scriptString:"jumpLabel",scriptType:it.jumpLabel,scriptFunction:Qoe},{scriptString:"setVar",scriptType:it.setVar,scriptFunction:GK},{scriptString:"callScene",scriptType:it.callScene,scriptFunction:jk},{scriptString:"showVars",scriptType:it.showVars,scriptFunction:eae},{scriptString:"unlockCg",scriptType:it.unlockCg,scriptFunction:tae},{scriptString:"unlockBgm",scriptType:it.unlockBgm,scriptFunction:nae},{scriptString:"say",scriptType:it.say,scriptFunction:T4},{scriptString:"filmMode",scriptType:it.filmMode,scriptFunction:rae},{scriptString:"callScene",scriptType:it.callScene,scriptFunction:oae},{scriptString:"setTextbox",scriptType:it.setTextbox,scriptFunction:aae},{scriptString:"setAnimation",scriptType:it.setAnimation,scriptFunction:bse},{scriptString:"playEffect",scriptType:it.playEffect,scriptFunction:Ese},{scriptString:"setTempAnimation",scriptType:it.setTempAnimation,scriptFunction:Sse},{scriptString:"__commment",scriptType:it.comment,scriptFunction:Ase}],Pse=[it.bgm,it.pixi,it.pixiInit,it.label,it.if,it.miniAvatar,it.setVar,it.unlockBgm,it.unlockCg,it.filmMode,it.playEffect,it.comment];var rn;(function(e){e[e.say=0]="say",e[e.changeBg=1]="changeBg",e[e.changeFigure=2]="changeFigure",e[e.bgm=3]="bgm",e[e.video=4]="video",e[e.pixi=5]="pixi",e[e.pixiInit=6]="pixiInit",e[e.intro=7]="intro",e[e.miniAvatar=8]="miniAvatar",e[e.changeScene=9]="changeScene",e[e.choose=10]="choose",e[e.end=11]="end",e[e.setComplexAnimation=12]="setComplexAnimation",e[e.setFilter=13]="setFilter",e[e.label=14]="label",e[e.jumpLabel=15]="jumpLabel",e[e.chooseLabel=16]="chooseLabel",e[e.setVar=17]="setVar",e[e.if=18]="if",e[e.callScene=19]="callScene",e[e.showVars=20]="showVars",e[e.unlockCg=21]="unlockCg",e[e.unlockBgm=22]="unlockBgm",e[e.filmMode=23]="filmMode",e[e.setTextbox=24]="setTextbox",e[e.setAnimation=25]="setAnimation",e[e.playEffect=26]="playEffect",e[e.setTempAnimation=27]="setTempAnimation",e[e.comment=28]="comment"})(rn||(rn={}));const uF=(e,t,n)=>{let r={type:rn.say,additionalArgs:[]};const i=Rse(e,t,n);return r.type=i,i===rn.say&&r.additionalArgs.push({key:"speaker",value:e}),r=Ose(r,i,t),r};function Rse(e,t,n){const r=new Map;return n.forEach(i=>{r.set(i.scriptString,i.scriptType)}),r.has(e)?r.get(e):rn.say}function Ose(e,t,n){return n.includes(t)&&e.additionalArgs.push({key:"next",value:!0}),e}var Zn;(function(e){e[e.background=0]="background",e[e.bgm=1]="bgm",e[e.figure=2]="figure",e[e.scene=3]="scene",e[e.tex=4]="tex",e[e.vocal=5]="vocal",e[e.video=6]="video"})(Zn||(Zn={}));function Nse(e,t){const n=[];let i=e.replace(/ /g," ").split(" -");return i=i.filter(a=>a!==""),i.forEach(a=>{const u=a.split("=")[0],l=a.split("=")[1];a.match(/.ogg|.mp3|.wav/)?n.push({key:"vocal",value:t(a,Zn.vocal)}):l===void 0?n.push({key:u,value:!0}):l==="true"||l==="false"?n.push({key:u,value:l==="true"}):isNaN(Number(l))?n.push({key:u,value:l}):n.push({key:u,value:Number(l)})}),n}const Lse=(e,t,n)=>{if(e==="none"||e==="")return"";switch(t){case rn.playEffect:return n(e,Zn.vocal);case rn.changeBg:return n(e,Zn.background);case rn.changeFigure:return n(e,Zn.figure);case rn.bgm:return n(e,Zn.bgm);case rn.callScene:return n(e,Zn.scene);case rn.changeScene:return n(e,Zn.scene);case rn.miniAvatar:return n(e,Zn.figure);case rn.video:return n(e,Zn.video);case rn.choose:return kse(e,n);case rn.unlockBgm:return n(e,Zn.bgm);case rn.unlockCg:return n(e,Zn.background);default:return e}};function kse(e,t){const n=e.split("|"),r=[],i=[];for(const l of n)r.push(l.split(":")[0]),i.push(l.split(":")[1]);const a=i.map(l=>l.match(/\./)?t(l,Zn.scene):l);let u="";for(let l=0;l<r.length;l++)l!==0&&(u=u+"|"),u=u+`${r[l]}:${a[l]}`;return u}const Fse=(e,t,n)=>{const r=[];return e===rn.say&&n.forEach(i=>{i.key==="vocal"&&r.push({name:i.value,url:i.value,lineNumber:0,type:Zn.vocal})}),t==="none"||t===""||(e===rn.changeBg&&r.push({name:t,url:t,lineNumber:0,type:Zn.background}),e===rn.changeFigure&&r.push({name:t,url:t,lineNumber:0,type:Zn.figure}),e===rn.miniAvatar&&r.push({name:t,url:t,lineNumber:0,type:Zn.figure}),e===rn.video&&r.push({name:t,url:t,lineNumber:0,type:Zn.video}),e===rn.bgm&&r.push({name:t,url:t,lineNumber:0,type:Zn.bgm})),r},Bse=(e,t)=>{const n=[];return(e===rn.changeScene||e===rn.callScene)&&n.push(t),e===rn.choose&&t.split("|").map(a=>a.split(":")[1]).forEach(a=>{a.match(/\./)&&n.push(a)}),n},Use=(e,t,n,r)=>{var x;let i,a,u;const l=[];let f,h,d,v=e.split(";")[0];if(v==="")return{command:rn.comment,commandRaw:"comment",content:(x=e.split(";")[1])!=null?x:"",args:[{key:"next",value:!0}],sentenceAssets:[],subScene:[]};const _=/:/.exec(v);if(_===null){d=v,h=uF(d,n,r),i=h.type;for(const b of h.additionalArgs)i===rn.say&&b.key==="speaker"||l.push(b)}else{d=v.substring(0,_.index),v=v.substring(_.index+1,v.length),h=uF(d,n,r),i=h.type;for(const b of h.additionalArgs)l.push(b)}const g=/ -/.exec(v);if(g){const b=v.substring(g.index,e.length);v=v.substring(0,g.index);for(const y of Nse(b,t))l.push(y)}return a=Lse(v,i,t),f=Fse(i,a,l),u=Bse(i,a),{command:i,commandRaw:d,content:a,args:l,sentenceAssets:f,subScene:u}};var Fv=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},AA={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(e,t){(function(){var n,r="4.17.21",i=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",u="Expected a function",l="Invalid `variable` option passed into `_.template`",f="__lodash_hash_undefined__",h=500,d="__lodash_placeholder__",v=1,_=2,g=4,x=1,b=2,y=1,E=2,S=4,A=8,L=16,P=32,R=64,D=128,$=256,U=512,K=30,ie="...",re=800,ve=16,Ge=1,ae=2,ce=3,me=1/0,Oe=9007199254740991,pt=17976931348623157e292,te=0/0,Y=4294967295,ue=Y-1,Se=Y>>>1,ke=[["ary",D],["bind",y],["bindKey",E],["curry",A],["curryRight",L],["flip",U],["partial",P],["partialRight",R],["rearg",$]],Be="[object Arguments]",Qe="[object Array]",It="[object AsyncFunction]",mt="[object Boolean]",ot="[object Date]",Yt="[object DOMException]",ft="[object Error]",yt="[object Function]",nt="[object GeneratorFunction]",ut="[object Map]",vt="[object Number]",ht="[object Null]",Pt="[object Object]",wr="[object Promise]",io="[object Proxy]",pr="[object RegExp]",Dt="[object Set]",Tr="[object String]",ni="[object Symbol]",Wf="[object Undefined]",_i="[object WeakMap]",jf="[object WeakSet]",gi="[object ArrayBuffer]",jr="[object DataView]",ea="[object Float32Array]",ta="[object Float64Array]",na="[object Int8Array]",ra="[object Int16Array]",ia="[object Int32Array]",wo="[object Uint8Array]",Ca="[object Uint8ClampedArray]",Ia="[object Uint16Array]",To="[object Uint32Array]",zf=/\b__p \+= '';/g,Nh=/\b(__p \+=) '' \+/g,oo=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ou=/&(?:amp|lt|gt|quot|#39);/g,Nu=/[&<>"']/g,Xf=RegExp(Ou.source),Lh=RegExp(Nu.source),kh=/<%-([\s\S]+?)%>/g,Fh=/<%([\s\S]+?)%>/g,Lu=/<%=([\s\S]+?)%>/g,Bh=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Uh=/^\w*$/,Dh=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Aa=/[\\^$.*+?()[\]{}|]/g,Mh=RegExp(Aa.source),Pa=/^\s+/,Vf=/\s/,Gh=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,$h=/\{\n\/\* \[wrapped with (.+)\] \*/,Hh=/,? & /,Wh=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,jh=/[()=,{}\[\]\/\s]/,zh=/\\(\\)?/g,Xh=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ku=/\w*$/,Vh=/^[-+]0x[0-9a-f]+$/i,qh=/^0b[01]+$/i,Yh=/^\[object .+?Constructor\]$/,Kh=/^0o[0-7]+$/i,Zh=/^(?:0|[1-9]\d*)$/,Jh=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Eo=/($^)/,qf=/['\n\r\u2028\u2029\\]/g,ri="\\ud800-\\udfff",Yf="\\u0300-\\u036f",oa="\\ufe20-\\ufe2f",Qh="\\u20d0-\\u20ff",aa=Yf+oa+Qh,Ra="\\u2700-\\u27bf",Fu="a-z\\xdf-\\xf6\\xf8-\\xff",ed="\\xac\\xb1\\xd7\\xf7",Bu="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",td="\\u2000-\\u206f",nd=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",k="A-Z\\xc0-\\xd6\\xd8-\\xde",j="\\ufe0e\\ufe0f",F=ed+Bu+td+nd,V="['\u2019]",q="["+ri+"]",X="["+F+"]",ee="["+aa+"]",oe="\\d+",pe="["+Ra+"]",de="["+Fu+"]",_e="[^"+ri+F+oe+Ra+Fu+k+"]",Le="\\ud83c[\\udffb-\\udfff]",lt="(?:"+ee+"|"+Le+")",wt="[^"+ri+"]",xt="(?:\\ud83c[\\udde6-\\uddff]){2}",jt="[\\ud800-\\udbff][\\udc00-\\udfff]",Tt="["+k+"]",vr="\\u200d",So="(?:"+de+"|"+_e+")",Uu="(?:"+Tt+"|"+_e+")",Du="(?:"+V+"(?:d|ll|m|re|s|t|ve))?",Oa="(?:"+V+"(?:D|LL|M|RE|S|T|VE))?",Kf=lt+"?",Mu="["+j+"]?",rd="(?:"+vr+"(?:"+[wt,xt,jt].join("|")+")"+Mu+Kf+")*",Zf="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",$y="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",id=Mu+Kf+rd,Hy="(?:"+[pe,xt,jt].join("|")+")"+id,Wy="(?:"+[wt+ee+"?",ee,xt,jt,q].join("|")+")",jy=RegExp(V,"g"),zy=RegExp(ee,"g"),Gu=RegExp(Le+"(?="+Le+")|"+Wy+id,"g"),Xy=RegExp([Tt+"?"+de+"+"+Du+"(?="+[X,Tt,"$"].join("|")+")",Uu+"+"+Oa+"(?="+[X,Tt+So,"$"].join("|")+")",Tt+"?"+So+"+"+Du,Tt+"+"+Oa,$y,Zf,oe,Hy].join("|"),"g"),Vy=RegExp("["+vr+ri+aa+j+"]"),qy=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Yy=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ky=-1,Ke={};Ke[ea]=Ke[ta]=Ke[na]=Ke[ra]=Ke[ia]=Ke[wo]=Ke[Ca]=Ke[Ia]=Ke[To]=!0,Ke[Be]=Ke[Qe]=Ke[gi]=Ke[mt]=Ke[jr]=Ke[ot]=Ke[ft]=Ke[yt]=Ke[ut]=Ke[vt]=Ke[Pt]=Ke[pr]=Ke[Dt]=Ke[Tr]=Ke[_i]=!1;var Xe={};Xe[Be]=Xe[Qe]=Xe[gi]=Xe[jr]=Xe[mt]=Xe[ot]=Xe[ea]=Xe[ta]=Xe[na]=Xe[ra]=Xe[ia]=Xe[ut]=Xe[vt]=Xe[Pt]=Xe[pr]=Xe[Dt]=Xe[Tr]=Xe[ni]=Xe[wo]=Xe[Ca]=Xe[Ia]=Xe[To]=!0,Xe[ft]=Xe[yt]=Xe[_i]=!1;var Zy={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},Jy={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Qy={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},e1={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},t1=parseFloat,n1=parseInt,od=typeof Fv=="object"&&Fv&&Fv.Object===Object&&Fv,r1=typeof self=="object"&&self&&self.Object===Object&&self,Et=od||r1||Function("return this")(),$u=t&&!t.nodeType&&t,ii=$u&&!0&&e&&!e.nodeType&&e,ad=ii&&ii.exports===$u,Hu=ad&&od.process,un=function(){try{var O=ii&&ii.require&&ii.require("util").types;return O||Hu&&Hu.binding&&Hu.binding("util")}catch{}}(),sd=un&&un.isArrayBuffer,ud=un&&un.isDate,ld=un&&un.isMap,fd=un&&un.isRegExp,cd=un&&un.isSet,hd=un&&un.isTypedArray;function Kt(O,G,B){switch(B.length){case 0:return O.call(G);case 1:return O.call(G,B[0]);case 2:return O.call(G,B[0],B[1]);case 3:return O.call(G,B[0],B[1],B[2])}return O.apply(G,B)}function i1(O,G,B,J){for(var ge=-1,Ue=O==null?0:O.length;++ge<Ue;){var _t=O[ge];G(J,_t,B(_t),O)}return J}function ln(O,G){for(var B=-1,J=O==null?0:O.length;++B<J&&G(O[B],B,O)!==!1;);return O}function o1(O,G){for(var B=O==null?0:O.length;B--&&G(O[B],B,O)!==!1;);return O}function dd(O,G){for(var B=-1,J=O==null?0:O.length;++B<J;)if(!G(O[B],B,O))return!1;return!0}function Er(O,G){for(var B=-1,J=O==null?0:O.length,ge=0,Ue=[];++B<J;){var _t=O[B];G(_t,B,O)&&(Ue[ge++]=_t)}return Ue}function Na(O,G){var B=O==null?0:O.length;return!!B&&Ri(O,G,0)>-1}function Wu(O,G,B){for(var J=-1,ge=O==null?0:O.length;++J<ge;)if(B(G,O[J]))return!0;return!1}function Je(O,G){for(var B=-1,J=O==null?0:O.length,ge=Array(J);++B<J;)ge[B]=G(O[B],B,O);return ge}function Sr(O,G){for(var B=-1,J=G.length,ge=O.length;++B<J;)O[ge+B]=G[B];return O}function ju(O,G,B,J){var ge=-1,Ue=O==null?0:O.length;for(J&&Ue&&(B=O[++ge]);++ge<Ue;)B=G(B,O[ge],ge,O);return B}function a1(O,G,B,J){var ge=O==null?0:O.length;for(J&&ge&&(B=O[--ge]);ge--;)B=G(B,O[ge],ge,O);return B}function zu(O,G){for(var B=-1,J=O==null?0:O.length;++B<J;)if(G(O[B],B,O))return!0;return!1}var s1=Xu("length");function u1(O){return O.split("")}function l1(O){return O.match(Wh)||[]}function pd(O,G,B){var J;return B(O,function(ge,Ue,_t){if(G(ge,Ue,_t))return J=Ue,!1}),J}function La(O,G,B,J){for(var ge=O.length,Ue=B+(J?1:-1);J?Ue--:++Ue<ge;)if(G(O[Ue],Ue,O))return Ue;return-1}function Ri(O,G,B){return G===G?b1(O,G,B):La(O,vd,B)}function f1(O,G,B,J){for(var ge=B-1,Ue=O.length;++ge<Ue;)if(J(O[ge],G))return ge;return-1}function vd(O){return O!==O}function _d(O,G){var B=O==null?0:O.length;return B?qu(O,G)/B:te}function Xu(O){return function(G){return G==null?n:G[O]}}function Vu(O){return function(G){return O==null?n:O[G]}}function gd(O,G,B,J,ge){return ge(O,function(Ue,_t,je){B=J?(J=!1,Ue):G(B,Ue,_t,je)}),B}function c1(O,G){var B=O.length;for(O.sort(G);B--;)O[B]=O[B].value;return O}function qu(O,G){for(var B,J=-1,ge=O.length;++J<ge;){var Ue=G(O[J]);Ue!==n&&(B=B===n?Ue:B+Ue)}return B}function Yu(O,G){for(var B=-1,J=Array(O);++B<O;)J[B]=G(B);return J}function h1(O,G){return Je(G,function(B){return[B,O[B]]})}function md(O){return O&&O.slice(0,wd(O)+1).replace(Pa,"")}function Zt(O){return function(G){return O(G)}}function Ku(O,G){return Je(G,function(B){return O[B]})}function Co(O,G){return O.has(G)}function yd(O,G){for(var B=-1,J=O.length;++B<J&&Ri(G,O[B],0)>-1;);return B}function xd(O,G){for(var B=O.length;B--&&Ri(G,O[B],0)>-1;);return B}function d1(O,G){for(var B=O.length,J=0;B--;)O[B]===G&&++J;return J}var p1=Vu(Zy),v1=Vu(Jy);function _1(O){return"\\"+e1[O]}function g1(O,G){return O==null?n:O[G]}function Oi(O){return Vy.test(O)}function m1(O){return qy.test(O)}function y1(O){for(var G,B=[];!(G=O.next()).done;)B.push(G.value);return B}function Zu(O){var G=-1,B=Array(O.size);return O.forEach(function(J,ge){B[++G]=[ge,J]}),B}function bd(O,G){return function(B){return O(G(B))}}function Cr(O,G){for(var B=-1,J=O.length,ge=0,Ue=[];++B<J;){var _t=O[B];(_t===G||_t===d)&&(O[B]=d,Ue[ge++]=B)}return Ue}function ka(O){var G=-1,B=Array(O.size);return O.forEach(function(J){B[++G]=J}),B}function x1(O){var G=-1,B=Array(O.size);return O.forEach(function(J){B[++G]=[J,J]}),B}function b1(O,G,B){for(var J=B-1,ge=O.length;++J<ge;)if(O[J]===G)return J;return-1}function w1(O,G,B){for(var J=B+1;J--;)if(O[J]===G)return J;return J}function Ni(O){return Oi(O)?E1(O):s1(O)}function Sn(O){return Oi(O)?S1(O):u1(O)}function wd(O){for(var G=O.length;G--&&Vf.test(O.charAt(G)););return G}var T1=Vu(Qy);function E1(O){for(var G=Gu.lastIndex=0;Gu.test(O);)++G;return G}function S1(O){return O.match(Gu)||[]}function C1(O){return O.match(Xy)||[]}var I1=function O(G){G=G==null?Et:Li.defaults(Et.Object(),G,Li.pick(Et,Yy));var B=G.Array,J=G.Date,ge=G.Error,Ue=G.Function,_t=G.Math,je=G.Object,Ju=G.RegExp,A1=G.String,fn=G.TypeError,Fa=B.prototype,P1=Ue.prototype,ki=je.prototype,Ba=G["__core-js_shared__"],Ua=P1.toString,We=ki.hasOwnProperty,R1=0,Td=function(){var o=/[^.]+$/.exec(Ba&&Ba.keys&&Ba.keys.IE_PROTO||"");return o?"Symbol(src)_1."+o:""}(),Da=ki.toString,O1=Ua.call(je),N1=Et._,L1=Ju("^"+Ua.call(We).replace(Aa,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ma=ad?G.Buffer:n,Ir=G.Symbol,Ga=G.Uint8Array,Ed=Ma?Ma.allocUnsafe:n,$a=bd(je.getPrototypeOf,je),Sd=je.create,Cd=ki.propertyIsEnumerable,Ha=Fa.splice,Id=Ir?Ir.isConcatSpreadable:n,Io=Ir?Ir.iterator:n,oi=Ir?Ir.toStringTag:n,Wa=function(){try{var o=fi(je,"defineProperty");return o({},"",{}),o}catch{}}(),k1=G.clearTimeout!==Et.clearTimeout&&G.clearTimeout,F1=J&&J.now!==Et.Date.now&&J.now,B1=G.setTimeout!==Et.setTimeout&&G.setTimeout,ja=_t.ceil,za=_t.floor,Qu=je.getOwnPropertySymbols,U1=Ma?Ma.isBuffer:n,Ad=G.isFinite,D1=Fa.join,M1=bd(je.keys,je),gt=_t.max,Rt=_t.min,G1=J.now,$1=G.parseInt,Pd=_t.random,H1=Fa.reverse,el=fi(G,"DataView"),Ao=fi(G,"Map"),tl=fi(G,"Promise"),Fi=fi(G,"Set"),Po=fi(G,"WeakMap"),Ro=fi(je,"create"),Xa=Po&&new Po,Bi={},W1=ci(el),j1=ci(Ao),z1=ci(tl),X1=ci(Fi),V1=ci(Po),Va=Ir?Ir.prototype:n,Oo=Va?Va.valueOf:n,Rd=Va?Va.toString:n;function w(o){if(rt(o)&&!ye(o)&&!(o instanceof Pe)){if(o instanceof cn)return o;if(We.call(o,"__wrapped__"))return Op(o)}return new cn(o)}var Ui=function(){function o(){}return function(s){if(!et(s))return{};if(Sd)return Sd(s);o.prototype=s;var c=new o;return o.prototype=n,c}}();function qa(){}function cn(o,s){this.__wrapped__=o,this.__actions__=[],this.__chain__=!!s,this.__index__=0,this.__values__=n}w.templateSettings={escape:kh,evaluate:Fh,interpolate:Lu,variable:"",imports:{_:w}},w.prototype=qa.prototype,w.prototype.constructor=w,cn.prototype=Ui(qa.prototype),cn.prototype.constructor=cn;function Pe(o){this.__wrapped__=o,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Y,this.__views__=[]}function q1(){var o=new Pe(this.__wrapped__);return o.__actions__=Mt(this.__actions__),o.__dir__=this.__dir__,o.__filtered__=this.__filtered__,o.__iteratees__=Mt(this.__iteratees__),o.__takeCount__=this.__takeCount__,o.__views__=Mt(this.__views__),o}function Y1(){if(this.__filtered__){var o=new Pe(this);o.__dir__=-1,o.__filtered__=!0}else o=this.clone(),o.__dir__*=-1;return o}function K1(){var o=this.__wrapped__.value(),s=this.__dir__,c=ye(o),p=s<0,m=c?o.length:0,T=ub(0,m,this.__views__),C=T.start,I=T.end,N=I-C,H=p?I:C-1,W=this.__iteratees__,z=W.length,Z=0,ne=Rt(N,this.__takeCount__);if(!c||!p&&m==N&&ne==N)return ep(o,this.__actions__);var le=[];e:for(;N--&&Z<ne;){H+=s;for(var Te=-1,fe=o[H];++Te<z;){var Ae=W[Te],Ne=Ae.iteratee,en=Ae.type,Ut=Ne(fe);if(en==ae)fe=Ut;else if(!Ut){if(en==Ge)continue e;break e}}le[Z++]=fe}return le}Pe.prototype=Ui(qa.prototype),Pe.prototype.constructor=Pe;function ai(o){var s=-1,c=o==null?0:o.length;for(this.clear();++s<c;){var p=o[s];this.set(p[0],p[1])}}function Z1(){this.__data__=Ro?Ro(null):{},this.size=0}function J1(o){var s=this.has(o)&&delete this.__data__[o];return this.size-=s?1:0,s}function Q1(o){var s=this.__data__;if(Ro){var c=s[o];return c===f?n:c}return We.call(s,o)?s[o]:n}function ex(o){var s=this.__data__;return Ro?s[o]!==n:We.call(s,o)}function tx(o,s){var c=this.__data__;return this.size+=this.has(o)?0:1,c[o]=Ro&&s===n?f:s,this}ai.prototype.clear=Z1,ai.prototype.delete=J1,ai.prototype.get=Q1,ai.prototype.has=ex,ai.prototype.set=tx;function tr(o){var s=-1,c=o==null?0:o.length;for(this.clear();++s<c;){var p=o[s];this.set(p[0],p[1])}}function nx(){this.__data__=[],this.size=0}function rx(o){var s=this.__data__,c=Ya(s,o);if(c<0)return!1;var p=s.length-1;return c==p?s.pop():Ha.call(s,c,1),--this.size,!0}function ix(o){var s=this.__data__,c=Ya(s,o);return c<0?n:s[c][1]}function ox(o){return Ya(this.__data__,o)>-1}function ax(o,s){var c=this.__data__,p=Ya(c,o);return p<0?(++this.size,c.push([o,s])):c[p][1]=s,this}tr.prototype.clear=nx,tr.prototype.delete=rx,tr.prototype.get=ix,tr.prototype.has=ox,tr.prototype.set=ax;function nr(o){var s=-1,c=o==null?0:o.length;for(this.clear();++s<c;){var p=o[s];this.set(p[0],p[1])}}function sx(){this.size=0,this.__data__={hash:new ai,map:new(Ao||tr),string:new ai}}function ux(o){var s=ss(this,o).delete(o);return this.size-=s?1:0,s}function lx(o){return ss(this,o).get(o)}function fx(o){return ss(this,o).has(o)}function cx(o,s){var c=ss(this,o),p=c.size;return c.set(o,s),this.size+=c.size==p?0:1,this}nr.prototype.clear=sx,nr.prototype.delete=ux,nr.prototype.get=lx,nr.prototype.has=fx,nr.prototype.set=cx;function si(o){var s=-1,c=o==null?0:o.length;for(this.__data__=new nr;++s<c;)this.add(o[s])}function hx(o){return this.__data__.set(o,f),this}function dx(o){return this.__data__.has(o)}si.prototype.add=si.prototype.push=hx,si.prototype.has=dx;function Cn(o){var s=this.__data__=new tr(o);this.size=s.size}function px(){this.__data__=new tr,this.size=0}function vx(o){var s=this.__data__,c=s.delete(o);return this.size=s.size,c}function _x(o){return this.__data__.get(o)}function gx(o){return this.__data__.has(o)}function mx(o,s){var c=this.__data__;if(c instanceof tr){var p=c.__data__;if(!Ao||p.length<i-1)return p.push([o,s]),this.size=++c.size,this;c=this.__data__=new nr(p)}return c.set(o,s),this.size=c.size,this}Cn.prototype.clear=px,Cn.prototype.delete=vx,Cn.prototype.get=_x,Cn.prototype.has=gx,Cn.prototype.set=mx;function Od(o,s){var c=ye(o),p=!c&&hi(o),m=!c&&!p&&Nr(o),T=!c&&!p&&!m&&$i(o),C=c||p||m||T,I=C?Yu(o.length,A1):[],N=I.length;for(var H in o)(s||We.call(o,H))&&!(C&&(H=="length"||m&&(H=="offset"||H=="parent")||T&&(H=="buffer"||H=="byteLength"||H=="byteOffset")||ar(H,N)))&&I.push(H);return I}function Nd(o){var s=o.length;return s?o[hl(0,s-1)]:n}function yx(o,s){return us(Mt(o),ui(s,0,o.length))}function xx(o){return us(Mt(o))}function nl(o,s,c){(c!==n&&!In(o[s],c)||c===n&&!(s in o))&&rr(o,s,c)}function No(o,s,c){var p=o[s];(!(We.call(o,s)&&In(p,c))||c===n&&!(s in o))&&rr(o,s,c)}function Ya(o,s){for(var c=o.length;c--;)if(In(o[c][0],s))return c;return-1}function bx(o,s,c,p){return Ar(o,function(m,T,C){s(p,m,c(m),C)}),p}function Ld(o,s){return o&&Wn(s,bt(s),o)}function wx(o,s){return o&&Wn(s,$t(s),o)}function rr(o,s,c){s=="__proto__"&&Wa?Wa(o,s,{configurable:!0,enumerable:!0,value:c,writable:!0}):o[s]=c}function rl(o,s){for(var c=-1,p=s.length,m=B(p),T=o==null;++c<p;)m[c]=T?n:Ul(o,s[c]);return m}function ui(o,s,c){return o===o&&(c!==n&&(o=o<=c?o:c),s!==n&&(o=o>=s?o:s)),o}function hn(o,s,c,p,m,T){var C,I=s&v,N=s&_,H=s&g;if(c&&(C=m?c(o,p,m,T):c(o)),C!==n)return C;if(!et(o))return o;var W=ye(o);if(W){if(C=fb(o),!I)return Mt(o,C)}else{var z=Ot(o),Z=z==yt||z==nt;if(Nr(o))return rp(o,I);if(z==Pt||z==Be||Z&&!m){if(C=N||Z?{}:wp(o),!I)return N?Qx(o,wx(C,o)):Jx(o,Ld(C,o))}else{if(!Xe[z])return m?o:{};C=cb(o,z,I)}}T||(T=new Cn);var ne=T.get(o);if(ne)return ne;T.set(o,C),Zp(o)?o.forEach(function(fe){C.add(hn(fe,s,c,fe,o,T))}):Yp(o)&&o.forEach(function(fe,Ae){C.set(Ae,hn(fe,s,c,Ae,o,T))});var le=H?N?Tl:wl:N?$t:bt,Te=W?n:le(o);return ln(Te||o,function(fe,Ae){Te&&(Ae=fe,fe=o[Ae]),No(C,Ae,hn(fe,s,c,Ae,o,T))}),C}function Tx(o){var s=bt(o);return function(c){return kd(c,o,s)}}function kd(o,s,c){var p=c.length;if(o==null)return!p;for(o=je(o);p--;){var m=c[p],T=s[m],C=o[m];if(C===n&&!(m in o)||!T(C))return!1}return!0}function Fd(o,s,c){if(typeof o!="function")throw new fn(u);return Mo(function(){o.apply(n,c)},s)}function Lo(o,s,c,p){var m=-1,T=Na,C=!0,I=o.length,N=[],H=s.length;if(!I)return N;c&&(s=Je(s,Zt(c))),p?(T=Wu,C=!1):s.length>=i&&(T=Co,C=!1,s=new si(s));e:for(;++m<I;){var W=o[m],z=c==null?W:c(W);if(W=p||W!==0?W:0,C&&z===z){for(var Z=H;Z--;)if(s[Z]===z)continue e;N.push(W)}else T(s,z,p)||N.push(W)}return N}var Ar=up(Hn),Bd=up(ol,!0);function Ex(o,s){var c=!0;return Ar(o,function(p,m,T){return c=!!s(p,m,T),c}),c}function Ka(o,s,c){for(var p=-1,m=o.length;++p<m;){var T=o[p],C=s(T);if(C!=null&&(I===n?C===C&&!Qt(C):c(C,I)))var I=C,N=T}return N}function Sx(o,s,c,p){var m=o.length;for(c=we(c),c<0&&(c=-c>m?0:m+c),p=p===n||p>m?m:we(p),p<0&&(p+=m),p=c>p?0:Qp(p);c<p;)o[c++]=s;return o}function Ud(o,s){var c=[];return Ar(o,function(p,m,T){s(p,m,T)&&c.push(p)}),c}function St(o,s,c,p,m){var T=-1,C=o.length;for(c||(c=db),m||(m=[]);++T<C;){var I=o[T];s>0&&c(I)?s>1?St(I,s-1,c,p,m):Sr(m,I):p||(m[m.length]=I)}return m}var il=lp(),Dd=lp(!0);function Hn(o,s){return o&&il(o,s,bt)}function ol(o,s){return o&&Dd(o,s,bt)}function Za(o,s){return Er(s,function(c){return sr(o[c])})}function li(o,s){s=Rr(s,o);for(var c=0,p=s.length;o!=null&&c<p;)o=o[jn(s[c++])];return c&&c==p?o:n}function Md(o,s,c){var p=s(o);return ye(o)?p:Sr(p,c(o))}function Ft(o){return o==null?o===n?Wf:ht:oi&&oi in je(o)?sb(o):xb(o)}function al(o,s){return o>s}function Cx(o,s){return o!=null&&We.call(o,s)}function Ix(o,s){return o!=null&&s in je(o)}function Ax(o,s,c){return o>=Rt(s,c)&&o<gt(s,c)}function sl(o,s,c){for(var p=c?Wu:Na,m=o[0].length,T=o.length,C=T,I=B(T),N=1/0,H=[];C--;){var W=o[C];C&&s&&(W=Je(W,Zt(s))),N=Rt(W.length,N),I[C]=!c&&(s||m>=120&&W.length>=120)?new si(C&&W):n}W=o[0];var z=-1,Z=I[0];e:for(;++z<m&&H.length<N;){var ne=W[z],le=s?s(ne):ne;if(ne=c||ne!==0?ne:0,!(Z?Co(Z,le):p(H,le,c))){for(C=T;--C;){var Te=I[C];if(!(Te?Co(Te,le):p(o[C],le,c)))continue e}Z&&Z.push(le),H.push(ne)}}return H}function Px(o,s,c,p){return Hn(o,function(m,T,C){s(p,c(m),T,C)}),p}function ko(o,s,c){s=Rr(s,o),o=Cp(o,s);var p=o==null?o:o[jn(pn(s))];return p==null?n:Kt(p,o,c)}function Gd(o){return rt(o)&&Ft(o)==Be}function Rx(o){return rt(o)&&Ft(o)==gi}function Ox(o){return rt(o)&&Ft(o)==ot}function Fo(o,s,c,p,m){return o===s?!0:o==null||s==null||!rt(o)&&!rt(s)?o!==o&&s!==s:Nx(o,s,c,p,Fo,m)}function Nx(o,s,c,p,m,T){var C=ye(o),I=ye(s),N=C?Qe:Ot(o),H=I?Qe:Ot(s);N=N==Be?Pt:N,H=H==Be?Pt:H;var W=N==Pt,z=H==Pt,Z=N==H;if(Z&&Nr(o)){if(!Nr(s))return!1;C=!0,W=!1}if(Z&&!W)return T||(T=new Cn),C||$i(o)?yp(o,s,c,p,m,T):ob(o,s,N,c,p,m,T);if(!(c&x)){var ne=W&&We.call(o,"__wrapped__"),le=z&&We.call(s,"__wrapped__");if(ne||le){var Te=ne?o.value():o,fe=le?s.value():s;return T||(T=new Cn),m(Te,fe,c,p,T)}}return Z?(T||(T=new Cn),ab(o,s,c,p,m,T)):!1}function Lx(o){return rt(o)&&Ot(o)==ut}function ul(o,s,c,p){var m=c.length,T=m,C=!p;if(o==null)return!T;for(o=je(o);m--;){var I=c[m];if(C&&I[2]?I[1]!==o[I[0]]:!(I[0]in o))return!1}for(;++m<T;){I=c[m];var N=I[0],H=o[N],W=I[1];if(C&&I[2]){if(H===n&&!(N in o))return!1}else{var z=new Cn;if(p)var Z=p(H,W,N,o,s,z);if(!(Z===n?Fo(W,H,x|b,p,z):Z))return!1}}return!0}function $d(o){if(!et(o)||vb(o))return!1;var s=sr(o)?L1:Yh;return s.test(ci(o))}function kx(o){return rt(o)&&Ft(o)==pr}function Fx(o){return rt(o)&&Ot(o)==Dt}function Bx(o){return rt(o)&&ps(o.length)&&!!Ke[Ft(o)]}function Hd(o){return typeof o=="function"?o:o==null?Ht:typeof o=="object"?ye(o)?zd(o[0],o[1]):jd(o):fv(o)}function ll(o){if(!Do(o))return M1(o);var s=[];for(var c in je(o))We.call(o,c)&&c!="constructor"&&s.push(c);return s}function Ux(o){if(!et(o))return yb(o);var s=Do(o),c=[];for(var p in o)p=="constructor"&&(s||!We.call(o,p))||c.push(p);return c}function fl(o,s){return o<s}function Wd(o,s){var c=-1,p=Gt(o)?B(o.length):[];return Ar(o,function(m,T,C){p[++c]=s(m,T,C)}),p}function jd(o){var s=Sl(o);return s.length==1&&s[0][2]?Ep(s[0][0],s[0][1]):function(c){return c===o||ul(c,o,s)}}function zd(o,s){return Il(o)&&Tp(s)?Ep(jn(o),s):function(c){var p=Ul(c,o);return p===n&&p===s?Dl(c,o):Fo(s,p,x|b)}}function Ja(o,s,c,p,m){o!==s&&il(s,function(T,C){if(m||(m=new Cn),et(T))Dx(o,s,C,c,Ja,p,m);else{var I=p?p(Pl(o,C),T,C+"",o,s,m):n;I===n&&(I=T),nl(o,C,I)}},$t)}function Dx(o,s,c,p,m,T,C){var I=Pl(o,c),N=Pl(s,c),H=C.get(N);if(H){nl(o,c,H);return}var W=T?T(I,N,c+"",o,s,C):n,z=W===n;if(z){var Z=ye(N),ne=!Z&&Nr(N),le=!Z&&!ne&&$i(N);W=N,Z||ne||le?ye(I)?W=I:at(I)?W=Mt(I):ne?(z=!1,W=rp(N,!0)):le?(z=!1,W=ip(N,!0)):W=[]:Go(N)||hi(N)?(W=I,hi(I)?W=ev(I):(!et(I)||sr(I))&&(W=wp(N))):z=!1}z&&(C.set(N,W),m(W,N,p,T,C),C.delete(N)),nl(o,c,W)}function Xd(o,s){var c=o.length;if(!!c)return s+=s<0?c:0,ar(s,c)?o[s]:n}function Vd(o,s,c){s.length?s=Je(s,function(T){return ye(T)?function(C){return li(C,T.length===1?T[0]:T)}:T}):s=[Ht];var p=-1;s=Je(s,Zt(se()));var m=Wd(o,function(T,C,I){var N=Je(s,function(H){return H(T)});return{criteria:N,index:++p,value:T}});return c1(m,function(T,C){return Zx(T,C,c)})}function Mx(o,s){return qd(o,s,function(c,p){return Dl(o,p)})}function qd(o,s,c){for(var p=-1,m=s.length,T={};++p<m;){var C=s[p],I=li(o,C);c(I,C)&&Bo(T,Rr(C,o),I)}return T}function Gx(o){return function(s){return li(s,o)}}function cl(o,s,c,p){var m=p?f1:Ri,T=-1,C=s.length,I=o;for(o===s&&(s=Mt(s)),c&&(I=Je(o,Zt(c)));++T<C;)for(var N=0,H=s[T],W=c?c(H):H;(N=m(I,W,N,p))>-1;)I!==o&&Ha.call(I,N,1),Ha.call(o,N,1);return o}function Yd(o,s){for(var c=o?s.length:0,p=c-1;c--;){var m=s[c];if(c==p||m!==T){var T=m;ar(m)?Ha.call(o,m,1):vl(o,m)}}return o}function hl(o,s){return o+za(Pd()*(s-o+1))}function $x(o,s,c,p){for(var m=-1,T=gt(ja((s-o)/(c||1)),0),C=B(T);T--;)C[p?T:++m]=o,o+=c;return C}function dl(o,s){var c="";if(!o||s<1||s>Oe)return c;do s%2&&(c+=o),s=za(s/2),s&&(o+=o);while(s);return c}function Ce(o,s){return Rl(Sp(o,s,Ht),o+"")}function Hx(o){return Nd(Hi(o))}function Wx(o,s){var c=Hi(o);return us(c,ui(s,0,c.length))}function Bo(o,s,c,p){if(!et(o))return o;s=Rr(s,o);for(var m=-1,T=s.length,C=T-1,I=o;I!=null&&++m<T;){var N=jn(s[m]),H=c;if(N==="__proto__"||N==="constructor"||N==="prototype")return o;if(m!=C){var W=I[N];H=p?p(W,N,I):n,H===n&&(H=et(W)?W:ar(s[m+1])?[]:{})}No(I,N,H),I=I[N]}return o}var Kd=Xa?function(o,s){return Xa.set(o,s),o}:Ht,jx=Wa?function(o,s){return Wa(o,"toString",{configurable:!0,enumerable:!1,value:Gl(s),writable:!0})}:Ht;function zx(o){return us(Hi(o))}function dn(o,s,c){var p=-1,m=o.length;s<0&&(s=-s>m?0:m+s),c=c>m?m:c,c<0&&(c+=m),m=s>c?0:c-s>>>0,s>>>=0;for(var T=B(m);++p<m;)T[p]=o[p+s];return T}function Xx(o,s){var c;return Ar(o,function(p,m,T){return c=s(p,m,T),!c}),!!c}function Qa(o,s,c){var p=0,m=o==null?p:o.length;if(typeof s=="number"&&s===s&&m<=Se){for(;p<m;){var T=p+m>>>1,C=o[T];C!==null&&!Qt(C)&&(c?C<=s:C<s)?p=T+1:m=T}return m}return pl(o,s,Ht,c)}function pl(o,s,c,p){var m=0,T=o==null?0:o.length;if(T===0)return 0;s=c(s);for(var C=s!==s,I=s===null,N=Qt(s),H=s===n;m<T;){var W=za((m+T)/2),z=c(o[W]),Z=z!==n,ne=z===null,le=z===z,Te=Qt(z);if(C)var fe=p||le;else H?fe=le&&(p||Z):I?fe=le&&Z&&(p||!ne):N?fe=le&&Z&&!ne&&(p||!Te):ne||Te?fe=!1:fe=p?z<=s:z<s;fe?m=W+1:T=W}return Rt(T,ue)}function Zd(o,s){for(var c=-1,p=o.length,m=0,T=[];++c<p;){var C=o[c],I=s?s(C):C;if(!c||!In(I,N)){var N=I;T[m++]=C===0?0:C}}return T}function Jd(o){return typeof o=="number"?o:Qt(o)?te:+o}function Jt(o){if(typeof o=="string")return o;if(ye(o))return Je(o,Jt)+"";if(Qt(o))return Rd?Rd.call(o):"";var s=o+"";return s=="0"&&1/o==-me?"-0":s}function Pr(o,s,c){var p=-1,m=Na,T=o.length,C=!0,I=[],N=I;if(c)C=!1,m=Wu;else if(T>=i){var H=s?null:rb(o);if(H)return ka(H);C=!1,m=Co,N=new si}else N=s?[]:I;e:for(;++p<T;){var W=o[p],z=s?s(W):W;if(W=c||W!==0?W:0,C&&z===z){for(var Z=N.length;Z--;)if(N[Z]===z)continue e;s&&N.push(z),I.push(W)}else m(N,z,c)||(N!==I&&N.push(z),I.push(W))}return I}function vl(o,s){return s=Rr(s,o),o=Cp(o,s),o==null||delete o[jn(pn(s))]}function Qd(o,s,c,p){return Bo(o,s,c(li(o,s)),p)}function es(o,s,c,p){for(var m=o.length,T=p?m:-1;(p?T--:++T<m)&&s(o[T],T,o););return c?dn(o,p?0:T,p?T+1:m):dn(o,p?T+1:0,p?m:T)}function ep(o,s){var c=o;return c instanceof Pe&&(c=c.value()),ju(s,function(p,m){return m.func.apply(m.thisArg,Sr([p],m.args))},c)}function _l(o,s,c){var p=o.length;if(p<2)return p?Pr(o[0]):[];for(var m=-1,T=B(p);++m<p;)for(var C=o[m],I=-1;++I<p;)I!=m&&(T[m]=Lo(T[m]||C,o[I],s,c));return Pr(St(T,1),s,c)}function tp(o,s,c){for(var p=-1,m=o.length,T=s.length,C={};++p<m;){var I=p<T?s[p]:n;c(C,o[p],I)}return C}function gl(o){return at(o)?o:[]}function ml(o){return typeof o=="function"?o:Ht}function Rr(o,s){return ye(o)?o:Il(o,s)?[o]:Rp($e(o))}var Vx=Ce;function Or(o,s,c){var p=o.length;return c=c===n?p:c,!s&&c>=p?o:dn(o,s,c)}var np=k1||function(o){return Et.clearTimeout(o)};function rp(o,s){if(s)return o.slice();var c=o.length,p=Ed?Ed(c):new o.constructor(c);return o.copy(p),p}function yl(o){var s=new o.constructor(o.byteLength);return new Ga(s).set(new Ga(o)),s}function qx(o,s){var c=s?yl(o.buffer):o.buffer;return new o.constructor(c,o.byteOffset,o.byteLength)}function Yx(o){var s=new o.constructor(o.source,ku.exec(o));return s.lastIndex=o.lastIndex,s}function Kx(o){return Oo?je(Oo.call(o)):{}}function ip(o,s){var c=s?yl(o.buffer):o.buffer;return new o.constructor(c,o.byteOffset,o.length)}function op(o,s){if(o!==s){var c=o!==n,p=o===null,m=o===o,T=Qt(o),C=s!==n,I=s===null,N=s===s,H=Qt(s);if(!I&&!H&&!T&&o>s||T&&C&&N&&!I&&!H||p&&C&&N||!c&&N||!m)return 1;if(!p&&!T&&!H&&o<s||H&&c&&m&&!p&&!T||I&&c&&m||!C&&m||!N)return-1}return 0}function Zx(o,s,c){for(var p=-1,m=o.criteria,T=s.criteria,C=m.length,I=c.length;++p<C;){var N=op(m[p],T[p]);if(N){if(p>=I)return N;var H=c[p];return N*(H=="desc"?-1:1)}}return o.index-s.index}function ap(o,s,c,p){for(var m=-1,T=o.length,C=c.length,I=-1,N=s.length,H=gt(T-C,0),W=B(N+H),z=!p;++I<N;)W[I]=s[I];for(;++m<C;)(z||m<T)&&(W[c[m]]=o[m]);for(;H--;)W[I++]=o[m++];return W}function sp(o,s,c,p){for(var m=-1,T=o.length,C=-1,I=c.length,N=-1,H=s.length,W=gt(T-I,0),z=B(W+H),Z=!p;++m<W;)z[m]=o[m];for(var ne=m;++N<H;)z[ne+N]=s[N];for(;++C<I;)(Z||m<T)&&(z[ne+c[C]]=o[m++]);return z}function Mt(o,s){var c=-1,p=o.length;for(s||(s=B(p));++c<p;)s[c]=o[c];return s}function Wn(o,s,c,p){var m=!c;c||(c={});for(var T=-1,C=s.length;++T<C;){var I=s[T],N=p?p(c[I],o[I],I,c,o):n;N===n&&(N=o[I]),m?rr(c,I,N):No(c,I,N)}return c}function Jx(o,s){return Wn(o,Cl(o),s)}function Qx(o,s){return Wn(o,xp(o),s)}function ts(o,s){return function(c,p){var m=ye(c)?i1:bx,T=s?s():{};return m(c,o,se(p,2),T)}}function Di(o){return Ce(function(s,c){var p=-1,m=c.length,T=m>1?c[m-1]:n,C=m>2?c[2]:n;for(T=o.length>3&&typeof T=="function"?(m--,T):n,C&&Bt(c[0],c[1],C)&&(T=m<3?n:T,m=1),s=je(s);++p<m;){var I=c[p];I&&o(s,I,p,T)}return s})}function up(o,s){return function(c,p){if(c==null)return c;if(!Gt(c))return o(c,p);for(var m=c.length,T=s?m:-1,C=je(c);(s?T--:++T<m)&&p(C[T],T,C)!==!1;);return c}}function lp(o){return function(s,c,p){for(var m=-1,T=je(s),C=p(s),I=C.length;I--;){var N=C[o?I:++m];if(c(T[N],N,T)===!1)break}return s}}function eb(o,s,c){var p=s&y,m=Uo(o);function T(){var C=this&&this!==Et&&this instanceof T?m:o;return C.apply(p?c:this,arguments)}return T}function fp(o){return function(s){s=$e(s);var c=Oi(s)?Sn(s):n,p=c?c[0]:s.charAt(0),m=c?Or(c,1).join(""):s.slice(1);return p[o]()+m}}function Mi(o){return function(s){return ju(uv(sv(s).replace(jy,"")),o,"")}}function Uo(o){return function(){var s=arguments;switch(s.length){case 0:return new o;case 1:return new o(s[0]);case 2:return new o(s[0],s[1]);case 3:return new o(s[0],s[1],s[2]);case 4:return new o(s[0],s[1],s[2],s[3]);case 5:return new o(s[0],s[1],s[2],s[3],s[4]);case 6:return new o(s[0],s[1],s[2],s[3],s[4],s[5]);case 7:return new o(s[0],s[1],s[2],s[3],s[4],s[5],s[6])}var c=Ui(o.prototype),p=o.apply(c,s);return et(p)?p:c}}function tb(o,s,c){var p=Uo(o);function m(){for(var T=arguments.length,C=B(T),I=T,N=Gi(m);I--;)C[I]=arguments[I];var H=T<3&&C[0]!==N&&C[T-1]!==N?[]:Cr(C,N);if(T-=H.length,T<c)return vp(o,s,ns,m.placeholder,n,C,H,n,n,c-T);var W=this&&this!==Et&&this instanceof m?p:o;return Kt(W,this,C)}return m}function cp(o){return function(s,c,p){var m=je(s);if(!Gt(s)){var T=se(c,3);s=bt(s),c=function(I){return T(m[I],I,m)}}var C=o(s,c,p);return C>-1?m[T?s[C]:C]:n}}function hp(o){return or(function(s){var c=s.length,p=c,m=cn.prototype.thru;for(o&&s.reverse();p--;){var T=s[p];if(typeof T!="function")throw new fn(u);if(m&&!C&&as(T)=="wrapper")var C=new cn([],!0)}for(p=C?p:c;++p<c;){T=s[p];var I=as(T),N=I=="wrapper"?El(T):n;N&&Al(N[0])&&N[1]==(D|A|P|$)&&!N[4].length&&N[9]==1?C=C[as(N[0])].apply(C,N[3]):C=T.length==1&&Al(T)?C[I]():C.thru(T)}return function(){var H=arguments,W=H[0];if(C&&H.length==1&&ye(W))return C.plant(W).value();for(var z=0,Z=c?s[z].apply(this,H):W;++z<c;)Z=s[z].call(this,Z);return Z}})}function ns(o,s,c,p,m,T,C,I,N,H){var W=s&D,z=s&y,Z=s&E,ne=s&(A|L),le=s&U,Te=Z?n:Uo(o);function fe(){for(var Ae=arguments.length,Ne=B(Ae),en=Ae;en--;)Ne[en]=arguments[en];if(ne)var Ut=Gi(fe),tn=d1(Ne,Ut);if(p&&(Ne=ap(Ne,p,m,ne)),T&&(Ne=sp(Ne,T,C,ne)),Ae-=tn,ne&&Ae<H){var st=Cr(Ne,Ut);return vp(o,s,ns,fe.placeholder,c,Ne,st,I,N,H-Ae)}var An=z?c:this,lr=Z?An[o]:o;return Ae=Ne.length,I?Ne=bb(Ne,I):le&&Ae>1&&Ne.reverse(),W&&N<Ae&&(Ne.length=N),this&&this!==Et&&this instanceof fe&&(lr=Te||Uo(lr)),lr.apply(An,Ne)}return fe}function dp(o,s){return function(c,p){return Px(c,o,s(p),{})}}function rs(o,s){return function(c,p){var m;if(c===n&&p===n)return s;if(c!==n&&(m=c),p!==n){if(m===n)return p;typeof c=="string"||typeof p=="string"?(c=Jt(c),p=Jt(p)):(c=Jd(c),p=Jd(p)),m=o(c,p)}return m}}function xl(o){return or(function(s){return s=Je(s,Zt(se())),Ce(function(c){var p=this;return o(s,function(m){return Kt(m,p,c)})})})}function is(o,s){s=s===n?" ":Jt(s);var c=s.length;if(c<2)return c?dl(s,o):s;var p=dl(s,ja(o/Ni(s)));return Oi(s)?Or(Sn(p),0,o).join(""):p.slice(0,o)}function nb(o,s,c,p){var m=s&y,T=Uo(o);function C(){for(var I=-1,N=arguments.length,H=-1,W=p.length,z=B(W+N),Z=this&&this!==Et&&this instanceof C?T:o;++H<W;)z[H]=p[H];for(;N--;)z[H++]=arguments[++I];return Kt(Z,m?c:this,z)}return C}function pp(o){return function(s,c,p){return p&&typeof p!="number"&&Bt(s,c,p)&&(c=p=n),s=ur(s),c===n?(c=s,s=0):c=ur(c),p=p===n?s<c?1:-1:ur(p),$x(s,c,p,o)}}function os(o){return function(s,c){return typeof s=="string"&&typeof c=="string"||(s=vn(s),c=vn(c)),o(s,c)}}function vp(o,s,c,p,m,T,C,I,N,H){var W=s&A,z=W?C:n,Z=W?n:C,ne=W?T:n,le=W?n:T;s|=W?P:R,s&=~(W?R:P),s&S||(s&=~(y|E));var Te=[o,s,m,ne,z,le,Z,I,N,H],fe=c.apply(n,Te);return Al(o)&&Ip(fe,Te),fe.placeholder=p,Ap(fe,o,s)}function bl(o){var s=_t[o];return function(c,p){if(c=vn(c),p=p==null?0:Rt(we(p),292),p&&Ad(c)){var m=($e(c)+"e").split("e"),T=s(m[0]+"e"+(+m[1]+p));return m=($e(T)+"e").split("e"),+(m[0]+"e"+(+m[1]-p))}return s(c)}}var rb=Fi&&1/ka(new Fi([,-0]))[1]==me?function(o){return new Fi(o)}:Wl;function _p(o){return function(s){var c=Ot(s);return c==ut?Zu(s):c==Dt?x1(s):h1(s,o(s))}}function ir(o,s,c,p,m,T,C,I){var N=s&E;if(!N&&typeof o!="function")throw new fn(u);var H=p?p.length:0;if(H||(s&=~(P|R),p=m=n),C=C===n?C:gt(we(C),0),I=I===n?I:we(I),H-=m?m.length:0,s&R){var W=p,z=m;p=m=n}var Z=N?n:El(o),ne=[o,s,c,p,m,W,z,T,C,I];if(Z&&mb(ne,Z),o=ne[0],s=ne[1],c=ne[2],p=ne[3],m=ne[4],I=ne[9]=ne[9]===n?N?0:o.length:gt(ne[9]-H,0),!I&&s&(A|L)&&(s&=~(A|L)),!s||s==y)var le=eb(o,s,c);else s==A||s==L?le=tb(o,s,I):(s==P||s==(y|P))&&!m.length?le=nb(o,s,c,p):le=ns.apply(n,ne);var Te=Z?Kd:Ip;return Ap(Te(le,ne),o,s)}function gp(o,s,c,p){return o===n||In(o,ki[c])&&!We.call(p,c)?s:o}function mp(o,s,c,p,m,T){return et(o)&&et(s)&&(T.set(s,o),Ja(o,s,n,mp,T),T.delete(s)),o}function ib(o){return Go(o)?n:o}function yp(o,s,c,p,m,T){var C=c&x,I=o.length,N=s.length;if(I!=N&&!(C&&N>I))return!1;var H=T.get(o),W=T.get(s);if(H&&W)return H==s&&W==o;var z=-1,Z=!0,ne=c&b?new si:n;for(T.set(o,s),T.set(s,o);++z<I;){var le=o[z],Te=s[z];if(p)var fe=C?p(Te,le,z,s,o,T):p(le,Te,z,o,s,T);if(fe!==n){if(fe)continue;Z=!1;break}if(ne){if(!zu(s,function(Ae,Ne){if(!Co(ne,Ne)&&(le===Ae||m(le,Ae,c,p,T)))return ne.push(Ne)})){Z=!1;break}}else if(!(le===Te||m(le,Te,c,p,T))){Z=!1;break}}return T.delete(o),T.delete(s),Z}function ob(o,s,c,p,m,T,C){switch(c){case jr:if(o.byteLength!=s.byteLength||o.byteOffset!=s.byteOffset)return!1;o=o.buffer,s=s.buffer;case gi:return!(o.byteLength!=s.byteLength||!T(new Ga(o),new Ga(s)));case mt:case ot:case vt:return In(+o,+s);case ft:return o.name==s.name&&o.message==s.message;case pr:case Tr:return o==s+"";case ut:var I=Zu;case Dt:var N=p&x;if(I||(I=ka),o.size!=s.size&&!N)return!1;var H=C.get(o);if(H)return H==s;p|=b,C.set(o,s);var W=yp(I(o),I(s),p,m,T,C);return C.delete(o),W;case ni:if(Oo)return Oo.call(o)==Oo.call(s)}return!1}function ab(o,s,c,p,m,T){var C=c&x,I=wl(o),N=I.length,H=wl(s),W=H.length;if(N!=W&&!C)return!1;for(var z=N;z--;){var Z=I[z];if(!(C?Z in s:We.call(s,Z)))return!1}var ne=T.get(o),le=T.get(s);if(ne&&le)return ne==s&&le==o;var Te=!0;T.set(o,s),T.set(s,o);for(var fe=C;++z<N;){Z=I[z];var Ae=o[Z],Ne=s[Z];if(p)var en=C?p(Ne,Ae,Z,s,o,T):p(Ae,Ne,Z,o,s,T);if(!(en===n?Ae===Ne||m(Ae,Ne,c,p,T):en)){Te=!1;break}fe||(fe=Z=="constructor")}if(Te&&!fe){var Ut=o.constructor,tn=s.constructor;Ut!=tn&&"constructor"in o&&"constructor"in s&&!(typeof Ut=="function"&&Ut instanceof Ut&&typeof tn=="function"&&tn instanceof tn)&&(Te=!1)}return T.delete(o),T.delete(s),Te}function or(o){return Rl(Sp(o,n,kp),o+"")}function wl(o){return Md(o,bt,Cl)}function Tl(o){return Md(o,$t,xp)}var El=Xa?function(o){return Xa.get(o)}:Wl;function as(o){for(var s=o.name+"",c=Bi[s],p=We.call(Bi,s)?c.length:0;p--;){var m=c[p],T=m.func;if(T==null||T==o)return m.name}return s}function Gi(o){var s=We.call(w,"placeholder")?w:o;return s.placeholder}function se(){var o=w.iteratee||$l;return o=o===$l?Hd:o,arguments.length?o(arguments[0],arguments[1]):o}function ss(o,s){var c=o.__data__;return pb(s)?c[typeof s=="string"?"string":"hash"]:c.map}function Sl(o){for(var s=bt(o),c=s.length;c--;){var p=s[c],m=o[p];s[c]=[p,m,Tp(m)]}return s}function fi(o,s){var c=g1(o,s);return $d(c)?c:n}function sb(o){var s=We.call(o,oi),c=o[oi];try{o[oi]=n;var p=!0}catch{}var m=Da.call(o);return p&&(s?o[oi]=c:delete o[oi]),m}var Cl=Qu?function(o){return o==null?[]:(o=je(o),Er(Qu(o),function(s){return Cd.call(o,s)}))}:jl,xp=Qu?function(o){for(var s=[];o;)Sr(s,Cl(o)),o=$a(o);return s}:jl,Ot=Ft;(el&&Ot(new el(new ArrayBuffer(1)))!=jr||Ao&&Ot(new Ao)!=ut||tl&&Ot(tl.resolve())!=wr||Fi&&Ot(new Fi)!=Dt||Po&&Ot(new Po)!=_i)&&(Ot=function(o){var s=Ft(o),c=s==Pt?o.constructor:n,p=c?ci(c):"";if(p)switch(p){case W1:return jr;case j1:return ut;case z1:return wr;case X1:return Dt;case V1:return _i}return s});function ub(o,s,c){for(var p=-1,m=c.length;++p<m;){var T=c[p],C=T.size;switch(T.type){case"drop":o+=C;break;case"dropRight":s-=C;break;case"take":s=Rt(s,o+C);break;case"takeRight":o=gt(o,s-C);break}}return{start:o,end:s}}function lb(o){var s=o.match($h);return s?s[1].split(Hh):[]}function bp(o,s,c){s=Rr(s,o);for(var p=-1,m=s.length,T=!1;++p<m;){var C=jn(s[p]);if(!(T=o!=null&&c(o,C)))break;o=o[C]}return T||++p!=m?T:(m=o==null?0:o.length,!!m&&ps(m)&&ar(C,m)&&(ye(o)||hi(o)))}function fb(o){var s=o.length,c=new o.constructor(s);return s&&typeof o[0]=="string"&&We.call(o,"index")&&(c.index=o.index,c.input=o.input),c}function wp(o){return typeof o.constructor=="function"&&!Do(o)?Ui($a(o)):{}}function cb(o,s,c){var p=o.constructor;switch(s){case gi:return yl(o);case mt:case ot:return new p(+o);case jr:return qx(o,c);case ea:case ta:case na:case ra:case ia:case wo:case Ca:case Ia:case To:return ip(o,c);case ut:return new p;case vt:case Tr:return new p(o);case pr:return Yx(o);case Dt:return new p;case ni:return Kx(o)}}function hb(o,s){var c=s.length;if(!c)return o;var p=c-1;return s[p]=(c>1?"& ":"")+s[p],s=s.join(c>2?", ":" "),o.replace(Gh,`{
/* [wrapped with `+s+`] */
`)}function db(o){return ye(o)||hi(o)||!!(Id&&o&&o[Id])}function ar(o,s){var c=typeof o;return s=s==null?Oe:s,!!s&&(c=="number"||c!="symbol"&&Zh.test(o))&&o>-1&&o%1==0&&o<s}function Bt(o,s,c){if(!et(c))return!1;var p=typeof s;return(p=="number"?Gt(c)&&ar(s,c.length):p=="string"&&s in c)?In(c[s],o):!1}function Il(o,s){if(ye(o))return!1;var c=typeof o;return c=="number"||c=="symbol"||c=="boolean"||o==null||Qt(o)?!0:Uh.test(o)||!Bh.test(o)||s!=null&&o in je(s)}function pb(o){var s=typeof o;return s=="string"||s=="number"||s=="symbol"||s=="boolean"?o!=="__proto__":o===null}function Al(o){var s=as(o),c=w[s];if(typeof c!="function"||!(s in Pe.prototype))return!1;if(o===c)return!0;var p=El(c);return!!p&&o===p[0]}function vb(o){return!!Td&&Td in o}var _b=Ba?sr:zl;function Do(o){var s=o&&o.constructor,c=typeof s=="function"&&s.prototype||ki;return o===c}function Tp(o){return o===o&&!et(o)}function Ep(o,s){return function(c){return c==null?!1:c[o]===s&&(s!==n||o in je(c))}}function gb(o){var s=hs(o,function(p){return c.size===h&&c.clear(),p}),c=s.cache;return s}function mb(o,s){var c=o[1],p=s[1],m=c|p,T=m<(y|E|D),C=p==D&&c==A||p==D&&c==$&&o[7].length<=s[8]||p==(D|$)&&s[7].length<=s[8]&&c==A;if(!(T||C))return o;p&y&&(o[2]=s[2],m|=c&y?0:S);var I=s[3];if(I){var N=o[3];o[3]=N?ap(N,I,s[4]):I,o[4]=N?Cr(o[3],d):s[4]}return I=s[5],I&&(N=o[5],o[5]=N?sp(N,I,s[6]):I,o[6]=N?Cr(o[5],d):s[6]),I=s[7],I&&(o[7]=I),p&D&&(o[8]=o[8]==null?s[8]:Rt(o[8],s[8])),o[9]==null&&(o[9]=s[9]),o[0]=s[0],o[1]=m,o}function yb(o){var s=[];if(o!=null)for(var c in je(o))s.push(c);return s}function xb(o){return Da.call(o)}function Sp(o,s,c){return s=gt(s===n?o.length-1:s,0),function(){for(var p=arguments,m=-1,T=gt(p.length-s,0),C=B(T);++m<T;)C[m]=p[s+m];m=-1;for(var I=B(s+1);++m<s;)I[m]=p[m];return I[s]=c(C),Kt(o,this,I)}}function Cp(o,s){return s.length<2?o:li(o,dn(s,0,-1))}function bb(o,s){for(var c=o.length,p=Rt(s.length,c),m=Mt(o);p--;){var T=s[p];o[p]=ar(T,c)?m[T]:n}return o}function Pl(o,s){if(!(s==="constructor"&&typeof o[s]=="function")&&s!="__proto__")return o[s]}var Ip=Pp(Kd),Mo=B1||function(o,s){return Et.setTimeout(o,s)},Rl=Pp(jx);function Ap(o,s,c){var p=s+"";return Rl(o,hb(p,wb(lb(p),c)))}function Pp(o){var s=0,c=0;return function(){var p=G1(),m=ve-(p-c);if(c=p,m>0){if(++s>=re)return arguments[0]}else s=0;return o.apply(n,arguments)}}function us(o,s){var c=-1,p=o.length,m=p-1;for(s=s===n?p:s;++c<s;){var T=hl(c,m),C=o[T];o[T]=o[c],o[c]=C}return o.length=s,o}var Rp=gb(function(o){var s=[];return o.charCodeAt(0)===46&&s.push(""),o.replace(Dh,function(c,p,m,T){s.push(m?T.replace(zh,"$1"):p||c)}),s});function jn(o){if(typeof o=="string"||Qt(o))return o;var s=o+"";return s=="0"&&1/o==-me?"-0":s}function ci(o){if(o!=null){try{return Ua.call(o)}catch{}try{return o+""}catch{}}return""}function wb(o,s){return ln(ke,function(c){var p="_."+c[0];s&c[1]&&!Na(o,p)&&o.push(p)}),o.sort()}function Op(o){if(o instanceof Pe)return o.clone();var s=new cn(o.__wrapped__,o.__chain__);return s.__actions__=Mt(o.__actions__),s.__index__=o.__index__,s.__values__=o.__values__,s}function Tb(o,s,c){(c?Bt(o,s,c):s===n)?s=1:s=gt(we(s),0);var p=o==null?0:o.length;if(!p||s<1)return[];for(var m=0,T=0,C=B(ja(p/s));m<p;)C[T++]=dn(o,m,m+=s);return C}function Eb(o){for(var s=-1,c=o==null?0:o.length,p=0,m=[];++s<c;){var T=o[s];T&&(m[p++]=T)}return m}function Sb(){var o=arguments.length;if(!o)return[];for(var s=B(o-1),c=arguments[0],p=o;p--;)s[p-1]=arguments[p];return Sr(ye(c)?Mt(c):[c],St(s,1))}var Cb=Ce(function(o,s){return at(o)?Lo(o,St(s,1,at,!0)):[]}),Ib=Ce(function(o,s){var c=pn(s);return at(c)&&(c=n),at(o)?Lo(o,St(s,1,at,!0),se(c,2)):[]}),Ab=Ce(function(o,s){var c=pn(s);return at(c)&&(c=n),at(o)?Lo(o,St(s,1,at,!0),n,c):[]});function Pb(o,s,c){var p=o==null?0:o.length;return p?(s=c||s===n?1:we(s),dn(o,s<0?0:s,p)):[]}function Rb(o,s,c){var p=o==null?0:o.length;return p?(s=c||s===n?1:we(s),s=p-s,dn(o,0,s<0?0:s)):[]}function Ob(o,s){return o&&o.length?es(o,se(s,3),!0,!0):[]}function Nb(o,s){return o&&o.length?es(o,se(s,3),!0):[]}function Lb(o,s,c,p){var m=o==null?0:o.length;return m?(c&&typeof c!="number"&&Bt(o,s,c)&&(c=0,p=m),Sx(o,s,c,p)):[]}function Np(o,s,c){var p=o==null?0:o.length;if(!p)return-1;var m=c==null?0:we(c);return m<0&&(m=gt(p+m,0)),La(o,se(s,3),m)}function Lp(o,s,c){var p=o==null?0:o.length;if(!p)return-1;var m=p-1;return c!==n&&(m=we(c),m=c<0?gt(p+m,0):Rt(m,p-1)),La(o,se(s,3),m,!0)}function kp(o){var s=o==null?0:o.length;return s?St(o,1):[]}function kb(o){var s=o==null?0:o.length;return s?St(o,me):[]}function Fb(o,s){var c=o==null?0:o.length;return c?(s=s===n?1:we(s),St(o,s)):[]}function Bb(o){for(var s=-1,c=o==null?0:o.length,p={};++s<c;){var m=o[s];p[m[0]]=m[1]}return p}function Fp(o){return o&&o.length?o[0]:n}function Ub(o,s,c){var p=o==null?0:o.length;if(!p)return-1;var m=c==null?0:we(c);return m<0&&(m=gt(p+m,0)),Ri(o,s,m)}function Db(o){var s=o==null?0:o.length;return s?dn(o,0,-1):[]}var Mb=Ce(function(o){var s=Je(o,gl);return s.length&&s[0]===o[0]?sl(s):[]}),Gb=Ce(function(o){var s=pn(o),c=Je(o,gl);return s===pn(c)?s=n:c.pop(),c.length&&c[0]===o[0]?sl(c,se(s,2)):[]}),$b=Ce(function(o){var s=pn(o),c=Je(o,gl);return s=typeof s=="function"?s:n,s&&c.pop(),c.length&&c[0]===o[0]?sl(c,n,s):[]});function Hb(o,s){return o==null?"":D1.call(o,s)}function pn(o){var s=o==null?0:o.length;return s?o[s-1]:n}function Wb(o,s,c){var p=o==null?0:o.length;if(!p)return-1;var m=p;return c!==n&&(m=we(c),m=m<0?gt(p+m,0):Rt(m,p-1)),s===s?w1(o,s,m):La(o,vd,m,!0)}function jb(o,s){return o&&o.length?Xd(o,we(s)):n}var zb=Ce(Bp);function Bp(o,s){return o&&o.length&&s&&s.length?cl(o,s):o}function Xb(o,s,c){return o&&o.length&&s&&s.length?cl(o,s,se(c,2)):o}function Vb(o,s,c){return o&&o.length&&s&&s.length?cl(o,s,n,c):o}var qb=or(function(o,s){var c=o==null?0:o.length,p=rl(o,s);return Yd(o,Je(s,function(m){return ar(m,c)?+m:m}).sort(op)),p});function Yb(o,s){var c=[];if(!(o&&o.length))return c;var p=-1,m=[],T=o.length;for(s=se(s,3);++p<T;){var C=o[p];s(C,p,o)&&(c.push(C),m.push(p))}return Yd(o,m),c}function Ol(o){return o==null?o:H1.call(o)}function Kb(o,s,c){var p=o==null?0:o.length;return p?(c&&typeof c!="number"&&Bt(o,s,c)?(s=0,c=p):(s=s==null?0:we(s),c=c===n?p:we(c)),dn(o,s,c)):[]}function Zb(o,s){return Qa(o,s)}function Jb(o,s,c){return pl(o,s,se(c,2))}function Qb(o,s){var c=o==null?0:o.length;if(c){var p=Qa(o,s);if(p<c&&In(o[p],s))return p}return-1}function ew(o,s){return Qa(o,s,!0)}function tw(o,s,c){return pl(o,s,se(c,2),!0)}function nw(o,s){var c=o==null?0:o.length;if(c){var p=Qa(o,s,!0)-1;if(In(o[p],s))return p}return-1}function rw(o){return o&&o.length?Zd(o):[]}function iw(o,s){return o&&o.length?Zd(o,se(s,2)):[]}function ow(o){var s=o==null?0:o.length;return s?dn(o,1,s):[]}function aw(o,s,c){return o&&o.length?(s=c||s===n?1:we(s),dn(o,0,s<0?0:s)):[]}function sw(o,s,c){var p=o==null?0:o.length;return p?(s=c||s===n?1:we(s),s=p-s,dn(o,s<0?0:s,p)):[]}function uw(o,s){return o&&o.length?es(o,se(s,3),!1,!0):[]}function lw(o,s){return o&&o.length?es(o,se(s,3)):[]}var fw=Ce(function(o){return Pr(St(o,1,at,!0))}),cw=Ce(function(o){var s=pn(o);return at(s)&&(s=n),Pr(St(o,1,at,!0),se(s,2))}),hw=Ce(function(o){var s=pn(o);return s=typeof s=="function"?s:n,Pr(St(o,1,at,!0),n,s)});function dw(o){return o&&o.length?Pr(o):[]}function pw(o,s){return o&&o.length?Pr(o,se(s,2)):[]}function vw(o,s){return s=typeof s=="function"?s:n,o&&o.length?Pr(o,n,s):[]}function Nl(o){if(!(o&&o.length))return[];var s=0;return o=Er(o,function(c){if(at(c))return s=gt(c.length,s),!0}),Yu(s,function(c){return Je(o,Xu(c))})}function Up(o,s){if(!(o&&o.length))return[];var c=Nl(o);return s==null?c:Je(c,function(p){return Kt(s,n,p)})}var _w=Ce(function(o,s){return at(o)?Lo(o,s):[]}),gw=Ce(function(o){return _l(Er(o,at))}),mw=Ce(function(o){var s=pn(o);return at(s)&&(s=n),_l(Er(o,at),se(s,2))}),yw=Ce(function(o){var s=pn(o);return s=typeof s=="function"?s:n,_l(Er(o,at),n,s)}),xw=Ce(Nl);function bw(o,s){return tp(o||[],s||[],No)}function ww(o,s){return tp(o||[],s||[],Bo)}var Tw=Ce(function(o){var s=o.length,c=s>1?o[s-1]:n;return c=typeof c=="function"?(o.pop(),c):n,Up(o,c)});function Dp(o){var s=w(o);return s.__chain__=!0,s}function Ew(o,s){return s(o),o}function ls(o,s){return s(o)}var Sw=or(function(o){var s=o.length,c=s?o[0]:0,p=this.__wrapped__,m=function(T){return rl(T,o)};return s>1||this.__actions__.length||!(p instanceof Pe)||!ar(c)?this.thru(m):(p=p.slice(c,+c+(s?1:0)),p.__actions__.push({func:ls,args:[m],thisArg:n}),new cn(p,this.__chain__).thru(function(T){return s&&!T.length&&T.push(n),T}))});function Cw(){return Dp(this)}function Iw(){return new cn(this.value(),this.__chain__)}function Aw(){this.__values__===n&&(this.__values__=Jp(this.value()));var o=this.__index__>=this.__values__.length,s=o?n:this.__values__[this.__index__++];return{done:o,value:s}}function Pw(){return this}function Rw(o){for(var s,c=this;c instanceof qa;){var p=Op(c);p.__index__=0,p.__values__=n,s?m.__wrapped__=p:s=p;var m=p;c=c.__wrapped__}return m.__wrapped__=o,s}function Ow(){var o=this.__wrapped__;if(o instanceof Pe){var s=o;return this.__actions__.length&&(s=new Pe(this)),s=s.reverse(),s.__actions__.push({func:ls,args:[Ol],thisArg:n}),new cn(s,this.__chain__)}return this.thru(Ol)}function Nw(){return ep(this.__wrapped__,this.__actions__)}var Lw=ts(function(o,s,c){We.call(o,c)?++o[c]:rr(o,c,1)});function kw(o,s,c){var p=ye(o)?dd:Ex;return c&&Bt(o,s,c)&&(s=n),p(o,se(s,3))}function Fw(o,s){var c=ye(o)?Er:Ud;return c(o,se(s,3))}var Bw=cp(Np),Uw=cp(Lp);function Dw(o,s){return St(fs(o,s),1)}function Mw(o,s){return St(fs(o,s),me)}function Gw(o,s,c){return c=c===n?1:we(c),St(fs(o,s),c)}function Mp(o,s){var c=ye(o)?ln:Ar;return c(o,se(s,3))}function Gp(o,s){var c=ye(o)?o1:Bd;return c(o,se(s,3))}var $w=ts(function(o,s,c){We.call(o,c)?o[c].push(s):rr(o,c,[s])});function Hw(o,s,c,p){o=Gt(o)?o:Hi(o),c=c&&!p?we(c):0;var m=o.length;return c<0&&(c=gt(m+c,0)),vs(o)?c<=m&&o.indexOf(s,c)>-1:!!m&&Ri(o,s,c)>-1}var Ww=Ce(function(o,s,c){var p=-1,m=typeof s=="function",T=Gt(o)?B(o.length):[];return Ar(o,function(C){T[++p]=m?Kt(s,C,c):ko(C,s,c)}),T}),jw=ts(function(o,s,c){rr(o,c,s)});function fs(o,s){var c=ye(o)?Je:Wd;return c(o,se(s,3))}function zw(o,s,c,p){return o==null?[]:(ye(s)||(s=s==null?[]:[s]),c=p?n:c,ye(c)||(c=c==null?[]:[c]),Vd(o,s,c))}var Xw=ts(function(o,s,c){o[c?0:1].push(s)},function(){return[[],[]]});function Vw(o,s,c){var p=ye(o)?ju:gd,m=arguments.length<3;return p(o,se(s,4),c,m,Ar)}function qw(o,s,c){var p=ye(o)?a1:gd,m=arguments.length<3;return p(o,se(s,4),c,m,Bd)}function Yw(o,s){var c=ye(o)?Er:Ud;return c(o,ds(se(s,3)))}function Kw(o){var s=ye(o)?Nd:Hx;return s(o)}function Zw(o,s,c){(c?Bt(o,s,c):s===n)?s=1:s=we(s);var p=ye(o)?yx:Wx;return p(o,s)}function Jw(o){var s=ye(o)?xx:zx;return s(o)}function Qw(o){if(o==null)return 0;if(Gt(o))return vs(o)?Ni(o):o.length;var s=Ot(o);return s==ut||s==Dt?o.size:ll(o).length}function eT(o,s,c){var p=ye(o)?zu:Xx;return c&&Bt(o,s,c)&&(s=n),p(o,se(s,3))}var tT=Ce(function(o,s){if(o==null)return[];var c=s.length;return c>1&&Bt(o,s[0],s[1])?s=[]:c>2&&Bt(s[0],s[1],s[2])&&(s=[s[0]]),Vd(o,St(s,1),[])}),cs=F1||function(){return Et.Date.now()};function nT(o,s){if(typeof s!="function")throw new fn(u);return o=we(o),function(){if(--o<1)return s.apply(this,arguments)}}function $p(o,s,c){return s=c?n:s,s=o&&s==null?o.length:s,ir(o,D,n,n,n,n,s)}function Hp(o,s){var c;if(typeof s!="function")throw new fn(u);return o=we(o),function(){return--o>0&&(c=s.apply(this,arguments)),o<=1&&(s=n),c}}var Ll=Ce(function(o,s,c){var p=y;if(c.length){var m=Cr(c,Gi(Ll));p|=P}return ir(o,p,s,c,m)}),Wp=Ce(function(o,s,c){var p=y|E;if(c.length){var m=Cr(c,Gi(Wp));p|=P}return ir(s,p,o,c,m)});function jp(o,s,c){s=c?n:s;var p=ir(o,A,n,n,n,n,n,s);return p.placeholder=jp.placeholder,p}function zp(o,s,c){s=c?n:s;var p=ir(o,L,n,n,n,n,n,s);return p.placeholder=zp.placeholder,p}function Xp(o,s,c){var p,m,T,C,I,N,H=0,W=!1,z=!1,Z=!0;if(typeof o!="function")throw new fn(u);s=vn(s)||0,et(c)&&(W=!!c.leading,z="maxWait"in c,T=z?gt(vn(c.maxWait)||0,s):T,Z="trailing"in c?!!c.trailing:Z);function ne(st){var An=p,lr=m;return p=m=n,H=st,C=o.apply(lr,An),C}function le(st){return H=st,I=Mo(Ae,s),W?ne(st):C}function Te(st){var An=st-N,lr=st-H,cv=s-An;return z?Rt(cv,T-lr):cv}function fe(st){var An=st-N,lr=st-H;return N===n||An>=s||An<0||z&&lr>=T}function Ae(){var st=cs();if(fe(st))return Ne(st);I=Mo(Ae,Te(st))}function Ne(st){return I=n,Z&&p?ne(st):(p=m=n,C)}function en(){I!==n&&np(I),H=0,p=N=m=I=n}function Ut(){return I===n?C:Ne(cs())}function tn(){var st=cs(),An=fe(st);if(p=arguments,m=this,N=st,An){if(I===n)return le(N);if(z)return np(I),I=Mo(Ae,s),ne(N)}return I===n&&(I=Mo(Ae,s)),C}return tn.cancel=en,tn.flush=Ut,tn}var rT=Ce(function(o,s){return Fd(o,1,s)}),iT=Ce(function(o,s,c){return Fd(o,vn(s)||0,c)});function oT(o){return ir(o,U)}function hs(o,s){if(typeof o!="function"||s!=null&&typeof s!="function")throw new fn(u);var c=function(){var p=arguments,m=s?s.apply(this,p):p[0],T=c.cache;if(T.has(m))return T.get(m);var C=o.apply(this,p);return c.cache=T.set(m,C)||T,C};return c.cache=new(hs.Cache||nr),c}hs.Cache=nr;function ds(o){if(typeof o!="function")throw new fn(u);return function(){var s=arguments;switch(s.length){case 0:return!o.call(this);case 1:return!o.call(this,s[0]);case 2:return!o.call(this,s[0],s[1]);case 3:return!o.call(this,s[0],s[1],s[2])}return!o.apply(this,s)}}function aT(o){return Hp(2,o)}var sT=Vx(function(o,s){s=s.length==1&&ye(s[0])?Je(s[0],Zt(se())):Je(St(s,1),Zt(se()));var c=s.length;return Ce(function(p){for(var m=-1,T=Rt(p.length,c);++m<T;)p[m]=s[m].call(this,p[m]);return Kt(o,this,p)})}),kl=Ce(function(o,s){var c=Cr(s,Gi(kl));return ir(o,P,n,s,c)}),Vp=Ce(function(o,s){var c=Cr(s,Gi(Vp));return ir(o,R,n,s,c)}),uT=or(function(o,s){return ir(o,$,n,n,n,s)});function lT(o,s){if(typeof o!="function")throw new fn(u);return s=s===n?s:we(s),Ce(o,s)}function fT(o,s){if(typeof o!="function")throw new fn(u);return s=s==null?0:gt(we(s),0),Ce(function(c){var p=c[s],m=Or(c,0,s);return p&&Sr(m,p),Kt(o,this,m)})}function cT(o,s,c){var p=!0,m=!0;if(typeof o!="function")throw new fn(u);return et(c)&&(p="leading"in c?!!c.leading:p,m="trailing"in c?!!c.trailing:m),Xp(o,s,{leading:p,maxWait:s,trailing:m})}function hT(o){return $p(o,1)}function dT(o,s){return kl(ml(s),o)}function pT(){if(!arguments.length)return[];var o=arguments[0];return ye(o)?o:[o]}function vT(o){return hn(o,g)}function _T(o,s){return s=typeof s=="function"?s:n,hn(o,g,s)}function gT(o){return hn(o,v|g)}function mT(o,s){return s=typeof s=="function"?s:n,hn(o,v|g,s)}function yT(o,s){return s==null||kd(o,s,bt(s))}function In(o,s){return o===s||o!==o&&s!==s}var xT=os(al),bT=os(function(o,s){return o>=s}),hi=Gd(function(){return arguments}())?Gd:function(o){return rt(o)&&We.call(o,"callee")&&!Cd.call(o,"callee")},ye=B.isArray,wT=sd?Zt(sd):Rx;function Gt(o){return o!=null&&ps(o.length)&&!sr(o)}function at(o){return rt(o)&&Gt(o)}function TT(o){return o===!0||o===!1||rt(o)&&Ft(o)==mt}var Nr=U1||zl,ET=ud?Zt(ud):Ox;function ST(o){return rt(o)&&o.nodeType===1&&!Go(o)}function CT(o){if(o==null)return!0;if(Gt(o)&&(ye(o)||typeof o=="string"||typeof o.splice=="function"||Nr(o)||$i(o)||hi(o)))return!o.length;var s=Ot(o);if(s==ut||s==Dt)return!o.size;if(Do(o))return!ll(o).length;for(var c in o)if(We.call(o,c))return!1;return!0}function IT(o,s){return Fo(o,s)}function AT(o,s,c){c=typeof c=="function"?c:n;var p=c?c(o,s):n;return p===n?Fo(o,s,n,c):!!p}function Fl(o){if(!rt(o))return!1;var s=Ft(o);return s==ft||s==Yt||typeof o.message=="string"&&typeof o.name=="string"&&!Go(o)}function PT(o){return typeof o=="number"&&Ad(o)}function sr(o){if(!et(o))return!1;var s=Ft(o);return s==yt||s==nt||s==It||s==io}function qp(o){return typeof o=="number"&&o==we(o)}function ps(o){return typeof o=="number"&&o>-1&&o%1==0&&o<=Oe}function et(o){var s=typeof o;return o!=null&&(s=="object"||s=="function")}function rt(o){return o!=null&&typeof o=="object"}var Yp=ld?Zt(ld):Lx;function RT(o,s){return o===s||ul(o,s,Sl(s))}function OT(o,s,c){return c=typeof c=="function"?c:n,ul(o,s,Sl(s),c)}function NT(o){return Kp(o)&&o!=+o}function LT(o){if(_b(o))throw new ge(a);return $d(o)}function kT(o){return o===null}function FT(o){return o==null}function Kp(o){return typeof o=="number"||rt(o)&&Ft(o)==vt}function Go(o){if(!rt(o)||Ft(o)!=Pt)return!1;var s=$a(o);if(s===null)return!0;var c=We.call(s,"constructor")&&s.constructor;return typeof c=="function"&&c instanceof c&&Ua.call(c)==O1}var Bl=fd?Zt(fd):kx;function BT(o){return qp(o)&&o>=-Oe&&o<=Oe}var Zp=cd?Zt(cd):Fx;function vs(o){return typeof o=="string"||!ye(o)&&rt(o)&&Ft(o)==Tr}function Qt(o){return typeof o=="symbol"||rt(o)&&Ft(o)==ni}var $i=hd?Zt(hd):Bx;function UT(o){return o===n}function DT(o){return rt(o)&&Ot(o)==_i}function MT(o){return rt(o)&&Ft(o)==jf}var GT=os(fl),$T=os(function(o,s){return o<=s});function Jp(o){if(!o)return[];if(Gt(o))return vs(o)?Sn(o):Mt(o);if(Io&&o[Io])return y1(o[Io]());var s=Ot(o),c=s==ut?Zu:s==Dt?ka:Hi;return c(o)}function ur(o){if(!o)return o===0?o:0;if(o=vn(o),o===me||o===-me){var s=o<0?-1:1;return s*pt}return o===o?o:0}function we(o){var s=ur(o),c=s%1;return s===s?c?s-c:s:0}function Qp(o){return o?ui(we(o),0,Y):0}function vn(o){if(typeof o=="number")return o;if(Qt(o))return te;if(et(o)){var s=typeof o.valueOf=="function"?o.valueOf():o;o=et(s)?s+"":s}if(typeof o!="string")return o===0?o:+o;o=md(o);var c=qh.test(o);return c||Kh.test(o)?n1(o.slice(2),c?2:8):Vh.test(o)?te:+o}function ev(o){return Wn(o,$t(o))}function HT(o){return o?ui(we(o),-Oe,Oe):o===0?o:0}function $e(o){return o==null?"":Jt(o)}var WT=Di(function(o,s){if(Do(s)||Gt(s)){Wn(s,bt(s),o);return}for(var c in s)We.call(s,c)&&No(o,c,s[c])}),tv=Di(function(o,s){Wn(s,$t(s),o)}),_s=Di(function(o,s,c,p){Wn(s,$t(s),o,p)}),jT=Di(function(o,s,c,p){Wn(s,bt(s),o,p)}),zT=or(rl);function XT(o,s){var c=Ui(o);return s==null?c:Ld(c,s)}var VT=Ce(function(o,s){o=je(o);var c=-1,p=s.length,m=p>2?s[2]:n;for(m&&Bt(s[0],s[1],m)&&(p=1);++c<p;)for(var T=s[c],C=$t(T),I=-1,N=C.length;++I<N;){var H=C[I],W=o[H];(W===n||In(W,ki[H])&&!We.call(o,H))&&(o[H]=T[H])}return o}),qT=Ce(function(o){return o.push(n,mp),Kt(nv,n,o)});function YT(o,s){return pd(o,se(s,3),Hn)}function KT(o,s){return pd(o,se(s,3),ol)}function ZT(o,s){return o==null?o:il(o,se(s,3),$t)}function JT(o,s){return o==null?o:Dd(o,se(s,3),$t)}function QT(o,s){return o&&Hn(o,se(s,3))}function eE(o,s){return o&&ol(o,se(s,3))}function tE(o){return o==null?[]:Za(o,bt(o))}function nE(o){return o==null?[]:Za(o,$t(o))}function Ul(o,s,c){var p=o==null?n:li(o,s);return p===n?c:p}function rE(o,s){return o!=null&&bp(o,s,Cx)}function Dl(o,s){return o!=null&&bp(o,s,Ix)}var iE=dp(function(o,s,c){s!=null&&typeof s.toString!="function"&&(s=Da.call(s)),o[s]=c},Gl(Ht)),oE=dp(function(o,s,c){s!=null&&typeof s.toString!="function"&&(s=Da.call(s)),We.call(o,s)?o[s].push(c):o[s]=[c]},se),aE=Ce(ko);function bt(o){return Gt(o)?Od(o):ll(o)}function $t(o){return Gt(o)?Od(o,!0):Ux(o)}function sE(o,s){var c={};return s=se(s,3),Hn(o,function(p,m,T){rr(c,s(p,m,T),p)}),c}function uE(o,s){var c={};return s=se(s,3),Hn(o,function(p,m,T){rr(c,m,s(p,m,T))}),c}var lE=Di(function(o,s,c){Ja(o,s,c)}),nv=Di(function(o,s,c,p){Ja(o,s,c,p)}),fE=or(function(o,s){var c={};if(o==null)return c;var p=!1;s=Je(s,function(T){return T=Rr(T,o),p||(p=T.length>1),T}),Wn(o,Tl(o),c),p&&(c=hn(c,v|_|g,ib));for(var m=s.length;m--;)vl(c,s[m]);return c});function cE(o,s){return rv(o,ds(se(s)))}var hE=or(function(o,s){return o==null?{}:Mx(o,s)});function rv(o,s){if(o==null)return{};var c=Je(Tl(o),function(p){return[p]});return s=se(s),qd(o,c,function(p,m){return s(p,m[0])})}function dE(o,s,c){s=Rr(s,o);var p=-1,m=s.length;for(m||(m=1,o=n);++p<m;){var T=o==null?n:o[jn(s[p])];T===n&&(p=m,T=c),o=sr(T)?T.call(o):T}return o}function pE(o,s,c){return o==null?o:Bo(o,s,c)}function vE(o,s,c,p){return p=typeof p=="function"?p:n,o==null?o:Bo(o,s,c,p)}var iv=_p(bt),ov=_p($t);function _E(o,s,c){var p=ye(o),m=p||Nr(o)||$i(o);if(s=se(s,4),c==null){var T=o&&o.constructor;m?c=p?new T:[]:et(o)?c=sr(T)?Ui($a(o)):{}:c={}}return(m?ln:Hn)(o,function(C,I,N){return s(c,C,I,N)}),c}function gE(o,s){return o==null?!0:vl(o,s)}function mE(o,s,c){return o==null?o:Qd(o,s,ml(c))}function yE(o,s,c,p){return p=typeof p=="function"?p:n,o==null?o:Qd(o,s,ml(c),p)}function Hi(o){return o==null?[]:Ku(o,bt(o))}function xE(o){return o==null?[]:Ku(o,$t(o))}function bE(o,s,c){return c===n&&(c=s,s=n),c!==n&&(c=vn(c),c=c===c?c:0),s!==n&&(s=vn(s),s=s===s?s:0),ui(vn(o),s,c)}function wE(o,s,c){return s=ur(s),c===n?(c=s,s=0):c=ur(c),o=vn(o),Ax(o,s,c)}function TE(o,s,c){if(c&&typeof c!="boolean"&&Bt(o,s,c)&&(s=c=n),c===n&&(typeof s=="boolean"?(c=s,s=n):typeof o=="boolean"&&(c=o,o=n)),o===n&&s===n?(o=0,s=1):(o=ur(o),s===n?(s=o,o=0):s=ur(s)),o>s){var p=o;o=s,s=p}if(c||o%1||s%1){var m=Pd();return Rt(o+m*(s-o+t1("1e-"+((m+"").length-1))),s)}return hl(o,s)}var EE=Mi(function(o,s,c){return s=s.toLowerCase(),o+(c?av(s):s)});function av(o){return Ml($e(o).toLowerCase())}function sv(o){return o=$e(o),o&&o.replace(Jh,p1).replace(zy,"")}function SE(o,s,c){o=$e(o),s=Jt(s);var p=o.length;c=c===n?p:ui(we(c),0,p);var m=c;return c-=s.length,c>=0&&o.slice(c,m)==s}function CE(o){return o=$e(o),o&&Lh.test(o)?o.replace(Nu,v1):o}function IE(o){return o=$e(o),o&&Mh.test(o)?o.replace(Aa,"\\$&"):o}var AE=Mi(function(o,s,c){return o+(c?"-":"")+s.toLowerCase()}),PE=Mi(function(o,s,c){return o+(c?" ":"")+s.toLowerCase()}),RE=fp("toLowerCase");function OE(o,s,c){o=$e(o),s=we(s);var p=s?Ni(o):0;if(!s||p>=s)return o;var m=(s-p)/2;return is(za(m),c)+o+is(ja(m),c)}function NE(o,s,c){o=$e(o),s=we(s);var p=s?Ni(o):0;return s&&p<s?o+is(s-p,c):o}function LE(o,s,c){o=$e(o),s=we(s);var p=s?Ni(o):0;return s&&p<s?is(s-p,c)+o:o}function kE(o,s,c){return c||s==null?s=0:s&&(s=+s),$1($e(o).replace(Pa,""),s||0)}function FE(o,s,c){return(c?Bt(o,s,c):s===n)?s=1:s=we(s),dl($e(o),s)}function BE(){var o=arguments,s=$e(o[0]);return o.length<3?s:s.replace(o[1],o[2])}var UE=Mi(function(o,s,c){return o+(c?"_":"")+s.toLowerCase()});function DE(o,s,c){return c&&typeof c!="number"&&Bt(o,s,c)&&(s=c=n),c=c===n?Y:c>>>0,c?(o=$e(o),o&&(typeof s=="string"||s!=null&&!Bl(s))&&(s=Jt(s),!s&&Oi(o))?Or(Sn(o),0,c):o.split(s,c)):[]}var ME=Mi(function(o,s,c){return o+(c?" ":"")+Ml(s)});function GE(o,s,c){return o=$e(o),c=c==null?0:ui(we(c),0,o.length),s=Jt(s),o.slice(c,c+s.length)==s}function $E(o,s,c){var p=w.templateSettings;c&&Bt(o,s,c)&&(s=n),o=$e(o),s=_s({},s,p,gp);var m=_s({},s.imports,p.imports,gp),T=bt(m),C=Ku(m,T),I,N,H=0,W=s.interpolate||Eo,z="__p += '",Z=Ju((s.escape||Eo).source+"|"+W.source+"|"+(W===Lu?Xh:Eo).source+"|"+(s.evaluate||Eo).source+"|$","g"),ne="//# sourceURL="+(We.call(s,"sourceURL")?(s.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Ky+"]")+`
`;o.replace(Z,function(fe,Ae,Ne,en,Ut,tn){return Ne||(Ne=en),z+=o.slice(H,tn).replace(qf,_1),Ae&&(I=!0,z+=`' +
__e(`+Ae+`) +
'`),Ut&&(N=!0,z+=`';
`+Ut+`;
__p += '`),Ne&&(z+=`' +
((__t = (`+Ne+`)) == null ? '' : __t) +
'`),H=tn+fe.length,fe}),z+=`';
`;var le=We.call(s,"variable")&&s.variable;if(!le)z=`with (obj) {
`+z+`
}
`;else if(jh.test(le))throw new ge(l);z=(N?z.replace(zf,""):z).replace(Nh,"$1").replace(oo,"$1;"),z="function("+(le||"obj")+`) {
`+(le?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(I?", __e = _.escape":"")+(N?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+z+`return __p
}`;var Te=lv(function(){return Ue(T,ne+"return "+z).apply(n,C)});if(Te.source=z,Fl(Te))throw Te;return Te}function HE(o){return $e(o).toLowerCase()}function WE(o){return $e(o).toUpperCase()}function jE(o,s,c){if(o=$e(o),o&&(c||s===n))return md(o);if(!o||!(s=Jt(s)))return o;var p=Sn(o),m=Sn(s),T=yd(p,m),C=xd(p,m)+1;return Or(p,T,C).join("")}function zE(o,s,c){if(o=$e(o),o&&(c||s===n))return o.slice(0,wd(o)+1);if(!o||!(s=Jt(s)))return o;var p=Sn(o),m=xd(p,Sn(s))+1;return Or(p,0,m).join("")}function XE(o,s,c){if(o=$e(o),o&&(c||s===n))return o.replace(Pa,"");if(!o||!(s=Jt(s)))return o;var p=Sn(o),m=yd(p,Sn(s));return Or(p,m).join("")}function VE(o,s){var c=K,p=ie;if(et(s)){var m="separator"in s?s.separator:m;c="length"in s?we(s.length):c,p="omission"in s?Jt(s.omission):p}o=$e(o);var T=o.length;if(Oi(o)){var C=Sn(o);T=C.length}if(c>=T)return o;var I=c-Ni(p);if(I<1)return p;var N=C?Or(C,0,I).join(""):o.slice(0,I);if(m===n)return N+p;if(C&&(I+=N.length-I),Bl(m)){if(o.slice(I).search(m)){var H,W=N;for(m.global||(m=Ju(m.source,$e(ku.exec(m))+"g")),m.lastIndex=0;H=m.exec(W);)var z=H.index;N=N.slice(0,z===n?I:z)}}else if(o.indexOf(Jt(m),I)!=I){var Z=N.lastIndexOf(m);Z>-1&&(N=N.slice(0,Z))}return N+p}function qE(o){return o=$e(o),o&&Xf.test(o)?o.replace(Ou,T1):o}var YE=Mi(function(o,s,c){return o+(c?" ":"")+s.toUpperCase()}),Ml=fp("toUpperCase");function uv(o,s,c){return o=$e(o),s=c?n:s,s===n?m1(o)?C1(o):l1(o):o.match(s)||[]}var lv=Ce(function(o,s){try{return Kt(o,n,s)}catch(c){return Fl(c)?c:new ge(c)}}),KE=or(function(o,s){return ln(s,function(c){c=jn(c),rr(o,c,Ll(o[c],o))}),o});function ZE(o){var s=o==null?0:o.length,c=se();return o=s?Je(o,function(p){if(typeof p[1]!="function")throw new fn(u);return[c(p[0]),p[1]]}):[],Ce(function(p){for(var m=-1;++m<s;){var T=o[m];if(Kt(T[0],this,p))return Kt(T[1],this,p)}})}function JE(o){return Tx(hn(o,v))}function Gl(o){return function(){return o}}function QE(o,s){return o==null||o!==o?s:o}var eS=hp(),tS=hp(!0);function Ht(o){return o}function $l(o){return Hd(typeof o=="function"?o:hn(o,v))}function nS(o){return jd(hn(o,v))}function rS(o,s){return zd(o,hn(s,v))}var iS=Ce(function(o,s){return function(c){return ko(c,o,s)}}),oS=Ce(function(o,s){return function(c){return ko(o,c,s)}});function Hl(o,s,c){var p=bt(s),m=Za(s,p);c==null&&!(et(s)&&(m.length||!p.length))&&(c=s,s=o,o=this,m=Za(s,bt(s)));var T=!(et(c)&&"chain"in c)||!!c.chain,C=sr(o);return ln(m,function(I){var N=s[I];o[I]=N,C&&(o.prototype[I]=function(){var H=this.__chain__;if(T||H){var W=o(this.__wrapped__),z=W.__actions__=Mt(this.__actions__);return z.push({func:N,args:arguments,thisArg:o}),W.__chain__=H,W}return N.apply(o,Sr([this.value()],arguments))})}),o}function aS(){return Et._===this&&(Et._=N1),this}function Wl(){}function sS(o){return o=we(o),Ce(function(s){return Xd(s,o)})}var uS=xl(Je),lS=xl(dd),fS=xl(zu);function fv(o){return Il(o)?Xu(jn(o)):Gx(o)}function cS(o){return function(s){return o==null?n:li(o,s)}}var hS=pp(),dS=pp(!0);function jl(){return[]}function zl(){return!1}function pS(){return{}}function vS(){return""}function _S(){return!0}function gS(o,s){if(o=we(o),o<1||o>Oe)return[];var c=Y,p=Rt(o,Y);s=se(s),o-=Y;for(var m=Yu(p,s);++c<o;)s(c);return m}function mS(o){return ye(o)?Je(o,jn):Qt(o)?[o]:Mt(Rp($e(o)))}function yS(o){var s=++R1;return $e(o)+s}var xS=rs(function(o,s){return o+s},0),bS=bl("ceil"),wS=rs(function(o,s){return o/s},1),TS=bl("floor");function ES(o){return o&&o.length?Ka(o,Ht,al):n}function SS(o,s){return o&&o.length?Ka(o,se(s,2),al):n}function CS(o){return _d(o,Ht)}function IS(o,s){return _d(o,se(s,2))}function AS(o){return o&&o.length?Ka(o,Ht,fl):n}function PS(o,s){return o&&o.length?Ka(o,se(s,2),fl):n}var RS=rs(function(o,s){return o*s},1),OS=bl("round"),NS=rs(function(o,s){return o-s},0);function LS(o){return o&&o.length?qu(o,Ht):0}function kS(o,s){return o&&o.length?qu(o,se(s,2)):0}return w.after=nT,w.ary=$p,w.assign=WT,w.assignIn=tv,w.assignInWith=_s,w.assignWith=jT,w.at=zT,w.before=Hp,w.bind=Ll,w.bindAll=KE,w.bindKey=Wp,w.castArray=pT,w.chain=Dp,w.chunk=Tb,w.compact=Eb,w.concat=Sb,w.cond=ZE,w.conforms=JE,w.constant=Gl,w.countBy=Lw,w.create=XT,w.curry=jp,w.curryRight=zp,w.debounce=Xp,w.defaults=VT,w.defaultsDeep=qT,w.defer=rT,w.delay=iT,w.difference=Cb,w.differenceBy=Ib,w.differenceWith=Ab,w.drop=Pb,w.dropRight=Rb,w.dropRightWhile=Ob,w.dropWhile=Nb,w.fill=Lb,w.filter=Fw,w.flatMap=Dw,w.flatMapDeep=Mw,w.flatMapDepth=Gw,w.flatten=kp,w.flattenDeep=kb,w.flattenDepth=Fb,w.flip=oT,w.flow=eS,w.flowRight=tS,w.fromPairs=Bb,w.functions=tE,w.functionsIn=nE,w.groupBy=$w,w.initial=Db,w.intersection=Mb,w.intersectionBy=Gb,w.intersectionWith=$b,w.invert=iE,w.invertBy=oE,w.invokeMap=Ww,w.iteratee=$l,w.keyBy=jw,w.keys=bt,w.keysIn=$t,w.map=fs,w.mapKeys=sE,w.mapValues=uE,w.matches=nS,w.matchesProperty=rS,w.memoize=hs,w.merge=lE,w.mergeWith=nv,w.method=iS,w.methodOf=oS,w.mixin=Hl,w.negate=ds,w.nthArg=sS,w.omit=fE,w.omitBy=cE,w.once=aT,w.orderBy=zw,w.over=uS,w.overArgs=sT,w.overEvery=lS,w.overSome=fS,w.partial=kl,w.partialRight=Vp,w.partition=Xw,w.pick=hE,w.pickBy=rv,w.property=fv,w.propertyOf=cS,w.pull=zb,w.pullAll=Bp,w.pullAllBy=Xb,w.pullAllWith=Vb,w.pullAt=qb,w.range=hS,w.rangeRight=dS,w.rearg=uT,w.reject=Yw,w.remove=Yb,w.rest=lT,w.reverse=Ol,w.sampleSize=Zw,w.set=pE,w.setWith=vE,w.shuffle=Jw,w.slice=Kb,w.sortBy=tT,w.sortedUniq=rw,w.sortedUniqBy=iw,w.split=DE,w.spread=fT,w.tail=ow,w.take=aw,w.takeRight=sw,w.takeRightWhile=uw,w.takeWhile=lw,w.tap=Ew,w.throttle=cT,w.thru=ls,w.toArray=Jp,w.toPairs=iv,w.toPairsIn=ov,w.toPath=mS,w.toPlainObject=ev,w.transform=_E,w.unary=hT,w.union=fw,w.unionBy=cw,w.unionWith=hw,w.uniq=dw,w.uniqBy=pw,w.uniqWith=vw,w.unset=gE,w.unzip=Nl,w.unzipWith=Up,w.update=mE,w.updateWith=yE,w.values=Hi,w.valuesIn=xE,w.without=_w,w.words=uv,w.wrap=dT,w.xor=gw,w.xorBy=mw,w.xorWith=yw,w.zip=xw,w.zipObject=bw,w.zipObjectDeep=ww,w.zipWith=Tw,w.entries=iv,w.entriesIn=ov,w.extend=tv,w.extendWith=_s,Hl(w,w),w.add=xS,w.attempt=lv,w.camelCase=EE,w.capitalize=av,w.ceil=bS,w.clamp=bE,w.clone=vT,w.cloneDeep=gT,w.cloneDeepWith=mT,w.cloneWith=_T,w.conformsTo=yT,w.deburr=sv,w.defaultTo=QE,w.divide=wS,w.endsWith=SE,w.eq=In,w.escape=CE,w.escapeRegExp=IE,w.every=kw,w.find=Bw,w.findIndex=Np,w.findKey=YT,w.findLast=Uw,w.findLastIndex=Lp,w.findLastKey=KT,w.floor=TS,w.forEach=Mp,w.forEachRight=Gp,w.forIn=ZT,w.forInRight=JT,w.forOwn=QT,w.forOwnRight=eE,w.get=Ul,w.gt=xT,w.gte=bT,w.has=rE,w.hasIn=Dl,w.head=Fp,w.identity=Ht,w.includes=Hw,w.indexOf=Ub,w.inRange=wE,w.invoke=aE,w.isArguments=hi,w.isArray=ye,w.isArrayBuffer=wT,w.isArrayLike=Gt,w.isArrayLikeObject=at,w.isBoolean=TT,w.isBuffer=Nr,w.isDate=ET,w.isElement=ST,w.isEmpty=CT,w.isEqual=IT,w.isEqualWith=AT,w.isError=Fl,w.isFinite=PT,w.isFunction=sr,w.isInteger=qp,w.isLength=ps,w.isMap=Yp,w.isMatch=RT,w.isMatchWith=OT,w.isNaN=NT,w.isNative=LT,w.isNil=FT,w.isNull=kT,w.isNumber=Kp,w.isObject=et,w.isObjectLike=rt,w.isPlainObject=Go,w.isRegExp=Bl,w.isSafeInteger=BT,w.isSet=Zp,w.isString=vs,w.isSymbol=Qt,w.isTypedArray=$i,w.isUndefined=UT,w.isWeakMap=DT,w.isWeakSet=MT,w.join=Hb,w.kebabCase=AE,w.last=pn,w.lastIndexOf=Wb,w.lowerCase=PE,w.lowerFirst=RE,w.lt=GT,w.lte=$T,w.max=ES,w.maxBy=SS,w.mean=CS,w.meanBy=IS,w.min=AS,w.minBy=PS,w.stubArray=jl,w.stubFalse=zl,w.stubObject=pS,w.stubString=vS,w.stubTrue=_S,w.multiply=RS,w.nth=jb,w.noConflict=aS,w.noop=Wl,w.now=cs,w.pad=OE,w.padEnd=NE,w.padStart=LE,w.parseInt=kE,w.random=TE,w.reduce=Vw,w.reduceRight=qw,w.repeat=FE,w.replace=BE,w.result=dE,w.round=OS,w.runInContext=O,w.sample=Kw,w.size=Qw,w.snakeCase=UE,w.some=eT,w.sortedIndex=Zb,w.sortedIndexBy=Jb,w.sortedIndexOf=Qb,w.sortedLastIndex=ew,w.sortedLastIndexBy=tw,w.sortedLastIndexOf=nw,w.startCase=ME,w.startsWith=GE,w.subtract=NS,w.sum=LS,w.sumBy=kS,w.template=$E,w.times=gS,w.toFinite=ur,w.toInteger=we,w.toLength=Qp,w.toLower=HE,w.toNumber=vn,w.toSafeInteger=HT,w.toString=$e,w.toUpper=WE,w.trim=jE,w.trimEnd=zE,w.trimStart=XE,w.truncate=VE,w.unescape=qE,w.uniqueId=yS,w.upperCase=YE,w.upperFirst=Ml,w.each=Mp,w.eachRight=Gp,w.first=Fp,Hl(w,function(){var o={};return Hn(w,function(s,c){We.call(w.prototype,c)||(o[c]=s)}),o}(),{chain:!1}),w.VERSION=r,ln(["bind","bindKey","curry","curryRight","partial","partialRight"],function(o){w[o].placeholder=w}),ln(["drop","take"],function(o,s){Pe.prototype[o]=function(c){c=c===n?1:gt(we(c),0);var p=this.__filtered__&&!s?new Pe(this):this.clone();return p.__filtered__?p.__takeCount__=Rt(c,p.__takeCount__):p.__views__.push({size:Rt(c,Y),type:o+(p.__dir__<0?"Right":"")}),p},Pe.prototype[o+"Right"]=function(c){return this.reverse()[o](c).reverse()}}),ln(["filter","map","takeWhile"],function(o,s){var c=s+1,p=c==Ge||c==ce;Pe.prototype[o]=function(m){var T=this.clone();return T.__iteratees__.push({iteratee:se(m,3),type:c}),T.__filtered__=T.__filtered__||p,T}}),ln(["head","last"],function(o,s){var c="take"+(s?"Right":"");Pe.prototype[o]=function(){return this[c](1).value()[0]}}),ln(["initial","tail"],function(o,s){var c="drop"+(s?"":"Right");Pe.prototype[o]=function(){return this.__filtered__?new Pe(this):this[c](1)}}),Pe.prototype.compact=function(){return this.filter(Ht)},Pe.prototype.find=function(o){return this.filter(o).head()},Pe.prototype.findLast=function(o){return this.reverse().find(o)},Pe.prototype.invokeMap=Ce(function(o,s){return typeof o=="function"?new Pe(this):this.map(function(c){return ko(c,o,s)})}),Pe.prototype.reject=function(o){return this.filter(ds(se(o)))},Pe.prototype.slice=function(o,s){o=we(o);var c=this;return c.__filtered__&&(o>0||s<0)?new Pe(c):(o<0?c=c.takeRight(-o):o&&(c=c.drop(o)),s!==n&&(s=we(s),c=s<0?c.dropRight(-s):c.take(s-o)),c)},Pe.prototype.takeRightWhile=function(o){return this.reverse().takeWhile(o).reverse()},Pe.prototype.toArray=function(){return this.take(Y)},Hn(Pe.prototype,function(o,s){var c=/^(?:filter|find|map|reject)|While$/.test(s),p=/^(?:head|last)$/.test(s),m=w[p?"take"+(s=="last"?"Right":""):s],T=p||/^find/.test(s);!m||(w.prototype[s]=function(){var C=this.__wrapped__,I=p?[1]:arguments,N=C instanceof Pe,H=I[0],W=N||ye(C),z=function(Ae){var Ne=m.apply(w,Sr([Ae],I));return p&&Z?Ne[0]:Ne};W&&c&&typeof H=="function"&&H.length!=1&&(N=W=!1);var Z=this.__chain__,ne=!!this.__actions__.length,le=T&&!Z,Te=N&&!ne;if(!T&&W){C=Te?C:new Pe(this);var fe=o.apply(C,I);return fe.__actions__.push({func:ls,args:[z],thisArg:n}),new cn(fe,Z)}return le&&Te?o.apply(this,I):(fe=this.thru(z),le?p?fe.value()[0]:fe.value():fe)})}),ln(["pop","push","shift","sort","splice","unshift"],function(o){var s=Fa[o],c=/^(?:push|sort|unshift)$/.test(o)?"tap":"thru",p=/^(?:pop|shift)$/.test(o);w.prototype[o]=function(){var m=arguments;if(p&&!this.__chain__){var T=this.value();return s.apply(ye(T)?T:[],m)}return this[c](function(C){return s.apply(ye(C)?C:[],m)})}}),Hn(Pe.prototype,function(o,s){var c=w[s];if(c){var p=c.name+"";We.call(Bi,p)||(Bi[p]=[]),Bi[p].push({name:s,func:c})}}),Bi[ns(n,E).name]=[{name:"wrapper",func:n}],Pe.prototype.clone=q1,Pe.prototype.reverse=Y1,Pe.prototype.value=K1,w.prototype.at=Sw,w.prototype.chain=Cw,w.prototype.commit=Iw,w.prototype.next=Aw,w.prototype.plant=Rw,w.prototype.reverse=Ow,w.prototype.toJSON=w.prototype.valueOf=w.prototype.value=Nw,w.prototype.first=w.prototype.head,Io&&(w.prototype[Io]=Pw),w},Li=I1();ii?((ii.exports=Li)._=Li,$u._=Li):Et._=Li}).call(Fv)})(AA,AA.exports);const Dse=(e,t,n,r,i,a,u)=>{const f=e.split(`
`);let h=[],d=[];const v=f.map(_=>{const g=Use(_,i,a,u);return h=[...h,...g.sentenceAssets],d=[...d,...g.subScene],g});return h=AA.exports.uniqWith(h),r(h),{sceneName:t,sceneUrl:n,sentenceList:v,assetsList:h,subSceneList:d}};class Mse{constructor(t,n,r,i){zr(this,"assetsPrefetcher");zr(this,"assetSetter");zr(this,"ADD_NEXT_ARG_LIST");zr(this,"SCRIPT_CONFIG");this.assetsPrefetcher=t,this.assetSetter=n,this.ADD_NEXT_ARG_LIST=r,this.SCRIPT_CONFIG=i}parse(t,n,r){return Dse(t,n,r,this.assetsPrefetcher,this.assetSetter,this.ADD_NEXT_ARG_LIST,this.SCRIPT_CONFIG)}}const Sa=(e,t,n)=>{const i=new Mse($Y,Pf,Pse,s6).parse(e,t,n);return Me.info(`\u89E3\u6790\u573A\u666F\uFF1A${t}\uFF0C\u6570\u636E\u4E3A\uFF1A`,i),i},Gse=()=>{wR(!0);const e=Pf("start.txt",Af.scene);Ea(e).then(t=>{He.currentScene=Sa(t,"start.txt",e),Wr()}),Ee.dispatch(xn({component:"showTitle",visibility:!1}))};var u6={exports:{}},l6={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fh=De.exports;function $se(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Hse=typeof Object.is=="function"?Object.is:$se,Wse=fh.useState,jse=fh.useEffect,zse=fh.useLayoutEffect,Xse=fh.useDebugValue;function Vse(e,t){var n=t(),r=Wse({inst:{value:n,getSnapshot:t}}),i=r[0].inst,a=r[1];return zse(function(){i.value=n,i.getSnapshot=t,u2(i)&&a({inst:i})},[e,n,t]),jse(function(){return u2(i)&&a({inst:i}),e(function(){u2(i)&&a({inst:i})})},[e]),Xse(n),n}function u2(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Hse(e,n)}catch{return!0}}function qse(e,t){return t()}var Yse=typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"?qse:Vse;l6.useSyncExternalStore=fh.useSyncExternalStore!==void 0?fh.useSyncExternalStore:Yse;u6.exports=l6;var f6={exports:{}},c6={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xy=De.exports,Kse=u6.exports;function Zse(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Jse=typeof Object.is=="function"?Object.is:Zse,Qse=Kse.useSyncExternalStore,eue=xy.useRef,tue=xy.useEffect,nue=xy.useMemo,rue=xy.useDebugValue;c6.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var a=eue(null);if(a.current===null){var u={hasValue:!1,value:null};a.current=u}else u=a.current;a=nue(function(){function f(g){if(!h){if(h=!0,d=g,g=r(g),i!==void 0&&u.hasValue){var x=u.value;if(i(x,g))return v=x}return v=g}if(x=v,Jse(d,g))return x;var b=r(g);return i!==void 0&&i(x,b)?x:(d=g,v=b)}var h=!1,d,v,_=n===void 0?null:n;return[function(){return f(t())},_===null?void 0:function(){return f(_())}]},[t,n,r,i]);var l=Qse(e,a[0],a[1]);return tue(function(){u.hasValue=!0,u.value=l},[l]),rue(l),l};f6.exports=c6;function iue(e){e()}let h6=iue;const oue=e=>h6=e,aue=()=>h6,wu=Ie.createContext(null);function d6(){return De.exports.useContext(wu)}const sue=()=>{throw new Error("uSES not initialized!")};let p6=sue;const uue=e=>{p6=e},lue=(e,t)=>e===t;function fue(e=wu){const t=e===wu?d6:()=>De.exports.useContext(e);return function(r,i=lue){const{store:a,subscription:u,getServerState:l}=t(),f=p6(u.addNestedSub,a.getState,l||a.getState,r,i);return De.exports.useDebugValue(f),f}}const kt=fue();var v6={exports:{}},Wt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var br=typeof Symbol=="function"&&Symbol.for,$R=br?Symbol.for("react.element"):60103,HR=br?Symbol.for("react.portal"):60106,by=br?Symbol.for("react.fragment"):60107,wy=br?Symbol.for("react.strict_mode"):60108,Ty=br?Symbol.for("react.profiler"):60114,Ey=br?Symbol.for("react.provider"):60109,Sy=br?Symbol.for("react.context"):60110,WR=br?Symbol.for("react.async_mode"):60111,Cy=br?Symbol.for("react.concurrent_mode"):60111,Iy=br?Symbol.for("react.forward_ref"):60112,Ay=br?Symbol.for("react.suspense"):60113,cue=br?Symbol.for("react.suspense_list"):60120,Py=br?Symbol.for("react.memo"):60115,Ry=br?Symbol.for("react.lazy"):60116,hue=br?Symbol.for("react.block"):60121,due=br?Symbol.for("react.fundamental"):60117,pue=br?Symbol.for("react.responder"):60118,vue=br?Symbol.for("react.scope"):60119;function ro(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case $R:switch(e=e.type,e){case WR:case Cy:case by:case Ty:case wy:case Ay:return e;default:switch(e=e&&e.$$typeof,e){case Sy:case Iy:case Ry:case Py:case Ey:return e;default:return t}}case HR:return t}}}function _6(e){return ro(e)===Cy}Wt.AsyncMode=WR;Wt.ConcurrentMode=Cy;Wt.ContextConsumer=Sy;Wt.ContextProvider=Ey;Wt.Element=$R;Wt.ForwardRef=Iy;Wt.Fragment=by;Wt.Lazy=Ry;Wt.Memo=Py;Wt.Portal=HR;Wt.Profiler=Ty;Wt.StrictMode=wy;Wt.Suspense=Ay;Wt.isAsyncMode=function(e){return _6(e)||ro(e)===WR};Wt.isConcurrentMode=_6;Wt.isContextConsumer=function(e){return ro(e)===Sy};Wt.isContextProvider=function(e){return ro(e)===Ey};Wt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===$R};Wt.isForwardRef=function(e){return ro(e)===Iy};Wt.isFragment=function(e){return ro(e)===by};Wt.isLazy=function(e){return ro(e)===Ry};Wt.isMemo=function(e){return ro(e)===Py};Wt.isPortal=function(e){return ro(e)===HR};Wt.isProfiler=function(e){return ro(e)===Ty};Wt.isStrictMode=function(e){return ro(e)===wy};Wt.isSuspense=function(e){return ro(e)===Ay};Wt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===by||e===Cy||e===Ty||e===wy||e===Ay||e===cue||typeof e=="object"&&e!==null&&(e.$$typeof===Ry||e.$$typeof===Py||e.$$typeof===Ey||e.$$typeof===Sy||e.$$typeof===Iy||e.$$typeof===due||e.$$typeof===pue||e.$$typeof===vue||e.$$typeof===hue)};Wt.typeOf=ro;v6.exports=Wt;var g6=v6.exports,_ue={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},gue={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},m6={};m6[g6.ForwardRef]=_ue;m6[g6.Memo]=gue;var qt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jR=Symbol.for("react.element"),zR=Symbol.for("react.portal"),Oy=Symbol.for("react.fragment"),Ny=Symbol.for("react.strict_mode"),Ly=Symbol.for("react.profiler"),ky=Symbol.for("react.provider"),Fy=Symbol.for("react.context"),mue=Symbol.for("react.server_context"),By=Symbol.for("react.forward_ref"),Uy=Symbol.for("react.suspense"),Dy=Symbol.for("react.suspense_list"),My=Symbol.for("react.memo"),Gy=Symbol.for("react.lazy"),yue=Symbol.for("react.offscreen"),y6;y6=Symbol.for("react.module.reference");function bo(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case jR:switch(e=e.type,e){case Oy:case Ly:case Ny:case Uy:case Dy:return e;default:switch(e=e&&e.$$typeof,e){case mue:case Fy:case By:case Gy:case My:case ky:return e;default:return t}}case zR:return t}}}qt.ContextConsumer=Fy;qt.ContextProvider=ky;qt.Element=jR;qt.ForwardRef=By;qt.Fragment=Oy;qt.Lazy=Gy;qt.Memo=My;qt.Portal=zR;qt.Profiler=Ly;qt.StrictMode=Ny;qt.Suspense=Uy;qt.SuspenseList=Dy;qt.isAsyncMode=function(){return!1};qt.isConcurrentMode=function(){return!1};qt.isContextConsumer=function(e){return bo(e)===Fy};qt.isContextProvider=function(e){return bo(e)===ky};qt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===jR};qt.isForwardRef=function(e){return bo(e)===By};qt.isFragment=function(e){return bo(e)===Oy};qt.isLazy=function(e){return bo(e)===Gy};qt.isMemo=function(e){return bo(e)===My};qt.isPortal=function(e){return bo(e)===zR};qt.isProfiler=function(e){return bo(e)===Ly};qt.isStrictMode=function(e){return bo(e)===Ny};qt.isSuspense=function(e){return bo(e)===Uy};qt.isSuspenseList=function(e){return bo(e)===Dy};qt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Oy||e===Ly||e===Ny||e===Uy||e===Dy||e===yue||typeof e=="object"&&e!==null&&(e.$$typeof===Gy||e.$$typeof===My||e.$$typeof===ky||e.$$typeof===Fy||e.$$typeof===By||e.$$typeof===y6||e.getModuleId!==void 0)};qt.typeOf=bo;function xue(){const e=aue();let t=null,n=null;return{clear(){t=null,n=null},notify(){e(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){let r=[],i=t;for(;i;)r.push(i),i=i.next;return r},subscribe(r){let i=!0,a=n={callback:r,next:null,prev:n};return a.prev?a.prev.next=a:t=a,function(){!i||t===null||(i=!1,a.next?a.next.prev=a.prev:n=a.prev,a.prev?a.prev.next=a.next:t=a.next)}}}}const lF={notify(){},get:()=>[]};function bue(e,t){let n,r=lF;function i(v){return f(),r.subscribe(v)}function a(){r.notify()}function u(){d.onStateChange&&d.onStateChange()}function l(){return Boolean(n)}function f(){n||(n=t?t.addNestedSub(u):e.subscribe(u),r=xue())}function h(){n&&(n(),n=void 0,r.clear(),r=lF)}const d={addNestedSub:i,notifyNestedSubs:a,handleChangeWrapper:u,isSubscribed:l,trySubscribe:f,tryUnsubscribe:h,getListeners:()=>r};return d}const wue=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined",Tue=wue?De.exports.useLayoutEffect:De.exports.useEffect;function Eue({store:e,context:t,children:n,serverState:r}){const i=De.exports.useMemo(()=>{const l=bue(e);return{store:e,subscription:l,getServerState:r?()=>r:void 0}},[e,r]),a=De.exports.useMemo(()=>e.getState(),[e]);return Tue(()=>{const{subscription:l}=i;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),a!==e.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[i,a]),M((t||wu).Provider,{value:i,children:n})}function x6(e=wu){const t=e===wu?d6:()=>De.exports.useContext(e);return function(){const{store:r}=t();return r}}const Sue=x6();function Cue(e=wu){const t=e===wu?Sue:x6(e);return function(){return t().dispatch}}const Pi=Cue();uue(f6.exports.useSyncExternalStoreWithSelector);oue(UA.exports.unstable_batchedUpdates);function pg(e){const t=kt(e),n=De.exports.useRef(t);return De.exports.useEffect(()=>{n.current=t},[t]),n}function Rh(e){De.exports.useEffect(()=>{e()},[])}function Oh(e){De.exports.useEffect(()=>function(){e()},[])}function Iue(e){De.exports.useEffect(()=>{e()})}const Aue="_ToCenter_2r1q8_1",Pue="_main_2r1q8_6",Rue="_button_2r1q8_17",Oue="_button_text_2r1q8_23",Nue="_button_on_2r1q8_28",Lue="_singleButton_2r1q8_40",kue="_fastSlPreview_2r1q8_57",Fue="_fastSlEnter_2r1q8_1",Bue="_fastsave_2r1q8_71",Uue="_fastSPreview_2r1q8_71",Due="_fastload_2r1q8_75",Mue="_fastLPreview_2r1q8_75",Gue="_slPreviewMain_2r1q8_87",$ue="_imgContainer_2r1q8_95",Hue="_textContainer_2r1q8_103";var Ze={ToCenter:Aue,main:Pue,button:Rue,button_text:Oue,button_on:Nue,singleButton:Lue,fastSlPreview:kue,fastSlEnter:Fue,fastsave:Bue,fastSPreview:Uue,fastload:Due,fastLPreview:Mue,slPreviewMain:Gue,imgContainer:$ue,textContainer:Hue};const PA=e=>{const t=document.getElementById("Button_ControlPanel_auto");t&&(e?t.className=Ze.button_on:t.className=Ze.singleButton)},b6=()=>{Q.isAuto=!1,PA(!1),Q.autoInterval!==null&&(clearInterval(Q.autoInterval),Q.autoInterval=null),Q.autoTimeout!==null&&(clearTimeout(Q.autoTimeout),Q.autoTimeout=null)},w6=()=>{Q.isAuto?(Q.isAuto=!1,PA(!1),Q.autoInterval!==null&&(clearInterval(Q.autoInterval),Q.autoInterval=null)):(Q.isAuto=!0,PA(!0),Q.autoInterval=setInterval(jue,100))},Wue=()=>{Wr(),Q.autoTimeout=null},jue=()=>{const e=Ee.getState().userData.optionData.autoSpeed,t=750-250*e;let n=!1;Q.performList.forEach(r=>{r.blockingAuto()&&!r.isOver&&(n=!0)}),!n&&Q.autoTimeout===null&&(Q.autoTimeout=setTimeout(Wue,t))},T6=e=>{const t=document.getElementById("Button_ControlPanel_fast");t&&(e?t.className=Ze.button_on:t.className=Ze.singleButton)},zc=()=>{!S6()||(Q.isFast=!1,T6(!1),Q.fastInterval!==null&&(clearInterval(Q.fastInterval),Q.fastInterval=null))},E6=()=>{S6()||(Q.isFast=!0,T6(!0),Q.fastInterval=setInterval(()=>{Wr()},100))},S6=function(){return Q.isFast},C6=()=>{zc(),b6()},I6=()=>{Q.isFast?zc():E6()},RA=e=>{const t=Ee.getState().userData,n=A6(e);Me.debug("\u5B58\u6863\u6570\u636E\uFF1A",n);const r=dr(t.saveData);Me.debug("newSaveData:",r),r[e]=n,Ee.dispatch(xq({key:"saveData",value:[...r]})),Me.debug("\u5B58\u6863\u5B8C\u6210\uFF0C\u5B58\u6863\u7ED3\u679C\uFF1A",r),bm()};function A6(e){const t=Ee.getState().stage,n=dr(Xn),r=document.getElementById("pixiCanvas"),i=document.createElement("canvas"),a=i.getContext("2d");i.width=640,i.height=360,a.drawImage(r,0,0,640,360);const u=i.toDataURL("image/webp",.8);return i.remove(),{nowStageState:dr(t),backlog:n,index:e,saveTime:new Date().toLocaleDateString()+" "+new Date().toLocaleTimeString("chinese",{hour12:!1}),sceneData:{currentSentenceId:He.currentSentenceId,sceneStack:dr(He.sceneStack),sceneName:He.currentScene.sceneName,sceneUrl:He.currentScene.sceneUrl},previewImage:u}}const XR=()=>{Me.warn("\u6E05\u9664\u6240\u6709\u6F14\u51FA");for(let e=0;e<Q.performList.length;e++){const t=Q.performList[e];t.stopFunction(),clearTimeout(t.stopTimeout),Q.performList.splice(e,1),e--}},VR=()=>{Ee.getState().stage.PerformList.forEach(t=>{E4(t.script)})},zue=e=>{const t=Ee.dispatch,n=Xn[e];Me.debug("\u8BFB\u53D6\u7684backlog\u6570\u636E",n),Ea(n.saveScene.sceneUrl).then(i=>{He.currentScene=Sa(i,n.saveScene.sceneName,n.saveScene.sceneUrl);const a=He.currentScene.subSceneList;Ch.push(He.currentScene.sceneUrl);const u=cg(a);hg(u)}),He.currentSentenceId=n.saveScene.currentSentenceId,He.sceneStack=dr(n.saveScene.sceneStack),XR();for(let i=Xn.length-1;i>e;i--)Xn.pop();const r=dr(n.currentStageState);t(Sh(r)),setTimeout(VR,0),t(xn({component:"showBacklog",visibility:!1})),t(xn({component:"showTextBox",visibility:!0}))},P6=e=>{const n=Ee.getState().userData.saveData[e];Me.debug("\u8BFB\u53D6\u7684\u5B58\u6863\u6570\u636E",n),R6(n)};function R6(e){if(!e){Me.info("\u6682\u65E0\u5B58\u6863");return}const t=e;Ea(t.sceneData.sceneUrl).then(a=>{He.currentScene=Sa(a,t.sceneData.sceneName,t.sceneData.sceneUrl);const u=He.currentScene.subSceneList;Ch.push(He.currentScene.sceneUrl);const l=cg(u);hg(l)}),He.currentSentenceId=t.sceneData.currentSentenceId,He.sceneStack=dr(t.sceneData.sceneStack),XR();const n=t.backlog;Xn.splice(0,Xn.length);for(const a of n)Xn.push(a);const r=dr(t.nowStageState),i=Ee.dispatch;i(Sh(r)),setTimeout(VR,0),i(xn({component:"showTitle",visibility:!1})),i(xn({component:"showMenuPanel",visibility:!1}))}const Xue="_Backlog_main_vronf_2",Vue="_backlog_soft_in_vronf_1",que="_Backlog_main_out_vronf_15",Yue="_backlog_soft_out_vronf_1",Kue="_Backlog_main_out_IndexHide_vronf_28",Zue="_Backlog_main_DisableScroll_vronf_32",Jue="_backlog_top_vronf_36",Que="_backlog_top_icon_vronf_42",ele="_backlog_icon_softin_vronf_1",tle="_backlog_title_vronf_62",nle="_backlog_content_vronf_72",rle="_backlog_item_vronf_84",ile="_backlog_item_in_vronf_1",ole="_backlog_item_out_vronf_94",ale="_backlog_func_area_vronf_104",sle="_backlog_item_content_name_vronf_113",ule="_backlog_item_content_vronf_113",lle="_backlog_item_button_list_vronf_137",fle="_backlog_item_button_element_vronf_144",cle="_backlog_item_content_text_vronf_157";var kr={Backlog_main:Xue,backlog_soft_in:Vue,Backlog_main_out:que,backlog_soft_out:Yue,Backlog_main_out_IndexHide:Kue,Backlog_main_DisableScroll:Zue,backlog_top:Jue,backlog_top_icon:Que,backlog_icon_softin:ele,backlog_title:tle,backlog_content:nle,backlog_item:rle,backlog_item_in:ile,backlog_item_out:ole,backlog_func_area:ale,backlog_item_content_name:sle,backlog_item_content:ule,backlog_item_button_list:lle,backlog_item_button_element:fle,backlog_item_content_text:cle},hle=Qo,dle=function(){return hle.Date.now()},ple=dle,vle=/\s/;function _le(e){for(var t=e.length;t--&&vle.test(e.charAt(t)););return t}var gle=_le,mle=gle,yle=/^\s+/;function xle(e){return e&&e.slice(0,mle(e)+1).replace(yle,"")}var ble=xle,wle=ng,Tle=Th,Ele="[object Symbol]";function Sle(e){return typeof e=="symbol"||Tle(e)&&wle(e)==Ele}var Cle=Sle,Ile=ble,fF=Cu,Ale=Cle,cF=0/0,Ple=/^[-+]0x[0-9a-f]+$/i,Rle=/^0b[01]+$/i,Ole=/^0o[0-7]+$/i,Nle=parseInt;function Lle(e){if(typeof e=="number")return e;if(Ale(e))return cF;if(fF(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=fF(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Ile(e);var n=Rle.test(e);return n||Ole.test(e)?Nle(e.slice(2),n?2:8):Ple.test(e)?cF:+e}var kle=Lle,Fle=Cu,l2=ple,hF=kle,Ble="Expected a function",Ule=Math.max,Dle=Math.min;function Mle(e,t,n){var r,i,a,u,l,f,h=0,d=!1,v=!1,_=!0;if(typeof e!="function")throw new TypeError(Ble);t=hF(t)||0,Fle(n)&&(d=!!n.leading,v="maxWait"in n,a=v?Ule(hF(n.maxWait)||0,t):a,_="trailing"in n?!!n.trailing:_);function g(R){var D=r,$=i;return r=i=void 0,h=R,u=e.apply($,D),u}function x(R){return h=R,l=setTimeout(E,t),d?g(R):u}function b(R){var D=R-f,$=R-h,U=t-D;return v?Dle(U,a-$):U}function y(R){var D=R-f,$=R-h;return f===void 0||D>=t||D<0||v&&$>=a}function E(){var R=l2();if(y(R))return S(R);l=setTimeout(E,b(R))}function S(R){return l=void 0,_&&r?g(R):(r=i=void 0,u)}function A(){l!==void 0&&clearTimeout(l),h=0,r=f=i=l=void 0}function L(){return l===void 0?u:S(l2())}function P(){var R=l2(),D=y(R);if(r=arguments,i=this,f=R,D){if(l===void 0)return x(f);if(v)return clearTimeout(l),l=setTimeout(E,t),g(f)}return l===void 0&&(l=setTimeout(E,t)),u}return P.cancel=A,P.flush=L,P}var Gle=Mle,$le=Gle,Hle=Cu,Wle="Expected a function";function jle(e,t,n){var r=!0,i=!0;if(typeof e!="function")throw new TypeError(Wle);return Hle(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),$le(e,t,{leading:r,maxWait:t,trailing:i})}var zle=jle;function Xle(e){Vle(),qle(),Kle(),Yle(),Zle(),ofe()}function Vle(){const e=pg(f=>f.GUI),t=qR(),n=vg(e),r=O6(e),i=Jle(e),a=efe(e),u=Qle(e),l=De.exports.useCallback(f=>i()?(t("showGlobalDialog",!1),f.preventDefault(),!1):(u()&&t("showExtra",!1),n()&&t("showTextBox",!e.current.showTextBox),r()&&(t("showBacklog",!1),t("showTextBox",!0)),a()&&t("showMenuPanel",!1),f.preventDefault(),!1),[]);Rh(()=>{document.addEventListener("contextmenu",l)}),Oh(()=>{document.removeEventListener("contextmenu",l)})}function qle(){const e=pg(l=>l.GUI),t=qR(),n=vg(e),r=O6(e),i=De.exports.useCallback(zle(()=>{Wr()},100),[]),a=De.exports.useRef(0),u=De.exports.useCallback(l=>{const f=l.wheelDelta&&(l.wheelDelta>0?"up":"down")||l.detail&&(l.detail<0?"up":"down")||"down",h=l.ctrlKey,d=document.querySelector(`.${kr.backlog_content}`);if(n()&&f==="up"&&!h)t("showBacklog",!0),t("showTextBox",!1);else if(r()&&f==="down"&&!h){if(d){let v=afe(d),_=new Date().getTime();v&&_-a.current>100&&(t("showBacklog",!1),t("showTextBox",!0)),a.current=_}}else n()&&f==="down"&&!h&&i()},[]);Rh(()=>{document.addEventListener("wheel",u)}),Oh(()=>{document.removeEventListener("wheel",u)})}function Yle(){const e=De.exports.useCallback(u=>u.keyCode===27,[]),t=pg(u=>u.GUI),n=vg(t),r=De.exports.useRef(!1),i=De.exports.useCallback(u=>{setTimeout(()=>{location.replace(u)},100)},[]),a=De.exports.useCallback(u=>{e(u)&&(nfe(async()=>{if(r.current=!0,n()){try{document.body.innerText="",await N6()}catch(l){Me.error("\u4FDD\u5B58\u5931\u8D25",l)}Me.info("\u4FDD\u5B58\u5B8C\u6210")}else Me.info("\u6E38\u620F\u672A\u6FC0\u6D3B \u76F4\u63A5\u9000\u51FA")}),i("https://baidu.com"))},[]);Rh(()=>{document.addEventListener("keydown",a)}),Oh(()=>{document.removeEventListener("keydown",a)})}function Kle(){const e=pg(u=>u.GUI),t=vg(e),n=De.exports.useCallback(u=>u.keyCode===17,[]),r=De.exports.useCallback(u=>{n(u)&&t()&&E6()},[]),i=De.exports.useCallback(u=>{n(u)&&t()&&zc()},[]),a=De.exports.useCallback(u=>{zc()},[]);Rh(()=>{document.addEventListener("keydown",r),document.addEventListener("keyup",i),window.addEventListener("blur",a)}),Oh(()=>{document.removeEventListener("keydown",r),document.removeEventListener("keyup",i),window.removeEventListener("blur",a)}),Iue(()=>{t()||zc()})}function Zle(){const e=tfe(),t=De.exports.useCallback(async n=>{e()&&await N6()},[]);Rh(()=>{window.addEventListener("beforeunload",t)}),Oh(()=>{window.removeEventListener("beforeunload",t)})}function vg(e){return De.exports.useCallback(()=>!e.current.showTitle&&!e.current.showMenuPanel&&!e.current.showBacklog,[e])}function O6(e){return De.exports.useCallback(()=>e.current.showBacklog,[e])}function Jle(e){return De.exports.useCallback(()=>e.current.showGlobalDialog,[e])}function Qle(e){return De.exports.useCallback(()=>e.current.showExtra,[e])}function efe(e){return De.exports.useCallback(()=>[Xt.Save,Xt.Load,Xt.Option].includes(e.current.currentMenuTag),[e])}function tfe(){return De.exports.useCallback(()=>He.currentSentenceId!==0,[He])}function qR(){const e=Pi();return(t,n)=>{e(xn({component:t,visibility:n}))}}function nfe(e){typeof Promise!="undefined"?Promise.resolve().then(e):setTimeout(e,0)}async function N6(){const e=A6(-1),t=dr(e);Ee.dispatch(Tq(t)),await Aq()}async function rfe(){return await o4(),Ee.getState().userData.quickSaveData!==null}async function ife(){await o4();const e=Ee.getState().userData.quickSaveData;!e||R6(e)}function ofe(){const e=pg(f=>f.GUI),t=vg(e),n=qR(),r=De.exports.useRef(!1),i=De.exports.useCallback(f=>f.keyCode===32||f.keyCode===13,[]),a=De.exports.useCallback(f=>{if(i(f)&&t()&&!r.current){if(!e.current.showTextBox){n("showTextBox",!0);return}C6(),Wr(),r.current=!0}},[]),u=De.exports.useCallback(f=>{i(f)&&t()&&(r.current=!1)},[]),l=De.exports.useCallback(f=>{r.current=!1},[]);Rh(()=>{document.addEventListener("keydown",a),document.addEventListener("keyup",u),document.addEventListener("blur",l)}),Oh(()=>{document.removeEventListener("keydown",a),document.removeEventListener("keyup",u),document.removeEventListener("blur",l)})}function afe(e){const{scrollTop:t,clientHeight:n,scrollHeight:r}=e;return t===0}const sfe=()=>{const e=kt(i=>i.GUI),t=Pi(),n=e.titleBg,r=n===""?"rgba(0,0,0,1)":`url("${n}")`;return Re(Ji,{children:[e.showTitle&&M("div",{className:Pn.Title_backup_background}),M("div",{id:"enter_game_target",onClick:()=>{ry(e.titleBgm)}}),e.showTitle&&M("div",{className:Pn.Title_main,style:{backgroundImage:r,backgroundSize:"cover"},children:Re("div",{className:Pn.Title_buttonList,children:[Re("div",{className:Pn.Title_button,onClick:Gse,children:[M("div",{className:Pn.Title_button_text+" "+Pn.Title_button_text_up,children:"\u5F00\u59CB\u6E38\u620F"}),M("div",{className:Pn.Title_button_text,children:"START"})]}),Re("div",{className:Pn.Title_button,onClick:async()=>{if(t(xn({component:"showTitle",visibility:!1})),await rfe()&&He.currentSentenceId===0){await ife();return}He.currentSentenceId===0&&He.currentScene.sceneName==="start.txt"?Wr():VR()},children:[M("div",{className:Pn.Title_button_text+" "+Pn.Title_button_text_up,children:"\u7EE7\u7EED\u6E38\u620F"}),M("div",{className:Pn.Title_button_text,children:"CONTINUE"})]}),Re("div",{className:Pn.Title_button,onClick:()=>{t(xn({component:"showMenuPanel",visibility:!0})),t(gf(Xt.Option))},children:[M("div",{className:Pn.Title_button_text+" "+Pn.Title_button_text_up,children:"\u6E38\u620F\u9009\u9879"}),M("div",{className:Pn.Title_button_text,children:"OPTIONS"})]}),Re("div",{className:Pn.Title_button,onClick:()=>{t(xn({component:"showMenuPanel",visibility:!0})),t(gf(Xt.Load))},children:[M("div",{className:Pn.Title_button_text+" "+Pn.Title_button_text_up,children:"\u8BFB\u53D6\u5B58\u6863"}),M("div",{className:Pn.Title_button_text,children:"LOAD"})]}),Re("div",{className:Pn.Title_button,onClick:()=>{t(xn({component:"showExtra",visibility:!0}))},children:[M("div",{className:Pn.Title_button_text+" "+Pn.Title_button_text_up,children:"\u9274\u8D4F\u6A21\u5F0F"}),M("div",{className:Pn.Title_button_text,children:"EXTRA"})]})]})})]})},ufe=e=>{const t=Ee.getState().GUI,n=Ee.dispatch;u0.get(e).then(r=>{var u;let i=r.data.split(`
`);i=i.map(l=>l.split(";")[0]);const a=i.map(l=>l.split(":"));Me.info("\u83B7\u53D6\u5230\u6E38\u620F\u4FE1\u606F",a),t&&a.forEach(l=>{if(l[0]==="Title_img"){const f=Pf(l[1],Af.background);n(lL({asset:"titleBg",value:f}))}if(l[0]==="Title_bgm"){const f=Pf(l[1],Af.bgm);n(lL({asset:"titleBgm",value:f}))}l[0]==="Game_name"&&(Zi.gameName=l[1],document.title=l[1]),l[0]==="Game_key"&&(Zi.gameKey=l[1],O_())}),(u=window==null?void 0:window.renderPromise)==null||u.call(window),delete window.renderPromise})},om=()=>{const n=window.innerHeight,r=window.innerWidth,i=n/1440,a=r/2560,u=r/1440,l=n/2560;let f=(1440-n)/2,h=(2560-r)/2,d=2560/2-r/2,v=1440/2-n/2;const _=document.getElementById("root");_&&(r>n?(h=-h,f=-f,r*(9/16)>=n&&(_.style.transform=`translate(${h}px, ${f}px) scale(${i},${i})`),r*(9/16)<n&&(_.style.transform=`translate(${h}px, ${f}px) scale(${a},${a})`)):(v=-v,n*(9/16)>=r&&(_.style.transform=`rotate(90deg) translate(${v}px, ${d}px) scale(${u},${u})`),n*(9/16)<r&&(_.style.transform=`rotate(90deg) translate(${v}px, ${d}px) scale(${l},${l})`)));const g=document.getElementById("Title_enter_page");f=(1440-n)/2,h=(2560-r)/2,d=2560/2-r/2,v=1440/2-n/2,g&&(r>n?(h=-h,f=-f,r*(9/16)>=n&&(g.style.transform=`translate(${h}px, ${f}px) scale(${i},${i})`),r*(9/16)<n&&(g.style.transform=`translate(${h}px, ${f}px) scale(${a},${a})`)):(v=-v,n*(9/16)>=r&&(g.style.transform=`rotate(90deg) translate(${v}px, ${d}px) scale(${u},${u})`),n*(9/16)<r&&(g.style.transform=`rotate(90deg) translate(${v}px, ${d}px) scale(${l},${l})`)))},Om=()=>{const e=Ee.getState().userData,t=e.optionData.volumeMain,n=t*.01*e.optionData.vocalVolume*.01,r=t*.01*e.optionData.bgmVolume*.01;Me.debug(`\u8BBE\u7F6E\u80CC\u666F\u97F3\u91CF\uFF1A${r},\u8BED\u97F3\u97F3\u91CF\uFF1A${n}`);const i=document.getElementById("currentBgm");i&&(i.volume=r.toString());const a=document.getElementById("currentVocal");i&&(a.volume=n.toString())},lfe=e=>{const t=e.split(" "),n=t[1].replace(/json/g,"txt"),r=parseInt(t[2],10);Me.warn("\u6B63\u5728\u8DF3\u8F6C\u5230"+n+":"+r);const i=Ee.dispatch;i(xn({component:"showTitle",visibility:!1})),i(xn({component:"showMenuPanel",visibility:!1})),wR(!0);const a=Pf(n,Af.scene);Ea(a).then(u=>{He.currentScene=Sa(u,"start.txt",a);const l=He.currentScene.sceneName;YR(r,l)})};function YR(e,t){He.currentSentenceId<e&&He.currentScene.sceneName===t&&(Wr(),setTimeout(()=>YR(e,t),2))}const ffe=()=>{window.JMP=YR},cfe=()=>{const e=window.location.hostname,t=window.location.protocol;if(t!=="http:"&&t!=="https:")return;let n=`ws://${e}:9999`;t==="https:"&&(n=`wss://${e}/webgalsync`),Me.info("\u6B63\u5728\u542F\u52A8socket\u8FDE\u63A5\u4F4D\u4E8E\uFF1A"+n);const r=new WebSocket(n);r.onopen=()=>{Me.info("socket\u5DF2\u8FDE\u63A5"),r.send(" WebGAL \u5DF2\u548C Terre \u5EFA\u7ACB\u8FDE\u63A5\u3002")},r.onmessage=i=>{Me.info("\u6536\u5230\u4FE1\u606F",i.data);const a=i.data;a.match("jmp")&&lfe(a)},r.onerror=i=>{Me.info("\u5F53\u524D\u6CA1\u6709\u8FDE\u63A5\u5230 Terre \u7F16\u8F91\u5668")}},hfe=()=>{Me.info("WebGAL 4.3.13"),Me.info("Github: https://github.com/MakinoharaShoko/WebGAL "),Me.info("Made with \u2764 by MakinoharaShoko"),setTimeout(om,100),om(),window.onresize=om,document.onkeydown=function(r){const i=r;i&&i.key==="F11"&&setTimeout(()=>{om()},50)},dfe("./game/userStyleSheet.css"),pfe(),ufe("./game/config.txt");const e=Pf("start.txt",Af.scene);Ea(e).then(r=>{He.currentScene=Sa(r,"start.txt",e);const i=He.currentScene.subSceneList;Ch.push(e);const a=cg(i);hg(a)}),Om(),Q.pixiStage=new Hie;const n=!!navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);"serviceWorker"in navigator&&n&&navigator.serviceWorker.getRegistrations().then(r=>{for(const i of r)i.unregister().then(()=>{Me.info("\u5DF2\u5378\u8F7D Service Worker")})}),ffe(),cfe()};function dfe(e){const t=document.createElement("link");t.type="text/css",t.rel="stylesheet",t.href=e,document.getElementsByTagName("head")[0].appendChild(t)}function pfe(){u0.get("./game/animation/animationTable.json").then(e=>{const t=e.data;for(const n of t)u0.get(`./game/animation/${n}.json`).then(r=>{if(r.data){const i={name:n,effects:r.data};Ih.push(i)}})})}const vfe="_Menu_main_1a7i6_1",_fe="_Menu_ShowSoftly_1a7i6_1",gfe="_Menu_TagContent_1a7i6_10";var dF={Menu_main:vfe,Menu_ShowSoftly:_fe,Menu_TagContent:gfe};const mfe="_MenuPanel_main_12a6u_1",yfe="_MenuPanel_button_12a6u_10",xfe="_MenuPanel_button_icon_12a6u_34";var Cc={MenuPanel_main:mfe,MenuPanel_button:yfe,MenuPanel_button_icon:xfe},bfe=["size","strokeWidth","strokeLinecap","strokeLinejoin","theme","fill","className","spin"];function pF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function vF(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pF(Object(n),!0).forEach(function(r){wfe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pF(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wfe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tfe(e,t){if(e==null)return{};var n=Efe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,r)||(n[r]=e[r]))}return n}function Efe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var Sfe={size:"1em",strokeWidth:4,strokeLinecap:"round",strokeLinejoin:"round",rtl:!1,theme:"outline",colors:{outline:{fill:"#333",background:"transparent"},filled:{fill:"#333",background:"#FFF"},twoTone:{fill:"#333",twoTone:"#2F88FF"},multiColor:{outStrokeColor:"#333",outFillColor:"#2F88FF",innerStrokeColor:"#FFF",innerFillColor:"#43CCF8"}},prefix:"i"};function Cfe(){return"icon-"+((1+Math.random())*4294967296|0).toString(16).substring(1)}function Ife(e,t,n){var r=typeof t.fill=="string"?[t.fill]:t.fill||[],i=[],a=t.theme||n.theme;switch(a){case"outline":i.push(typeof r[0]=="string"?r[0]:"currentColor"),i.push("none"),i.push(typeof r[0]=="string"?r[0]:"currentColor"),i.push("none");break;case"filled":i.push(typeof r[0]=="string"?r[0]:"currentColor"),i.push(typeof r[0]=="string"?r[0]:"currentColor"),i.push("#FFF"),i.push("#FFF");break;case"two-tone":i.push(typeof r[0]=="string"?r[0]:"currentColor"),i.push(typeof r[1]=="string"?r[1]:n.colors.twoTone.twoTone),i.push(typeof r[0]=="string"?r[0]:"currentColor"),i.push(typeof r[1]=="string"?r[1]:n.colors.twoTone.twoTone);break;case"multi-color":i.push(typeof r[0]=="string"?r[0]:"currentColor"),i.push(typeof r[1]=="string"?r[1]:n.colors.multiColor.outFillColor),i.push(typeof r[2]=="string"?r[2]:n.colors.multiColor.innerStrokeColor),i.push(typeof r[3]=="string"?r[3]:n.colors.multiColor.innerFillColor);break}return{size:t.size||n.size,strokeWidth:t.strokeWidth||n.strokeWidth,strokeLinecap:t.strokeLinecap||n.strokeLinecap,strokeLinejoin:t.strokeLinejoin||n.strokeLinejoin,colors:i,id:e}}var L6=De.exports.createContext(Sfe);L6.Provider;function Kn(e,t,n){return function(r){var i=r.size,a=r.strokeWidth,u=r.strokeLinecap,l=r.strokeLinejoin,f=r.theme,h=r.fill,d=r.className,v=r.spin,_=Tfe(r,bfe),g=De.exports.useContext(L6),x=De.exports.useMemo(Cfe,[]),b=Ife(x,{size:i,strokeWidth:a,strokeLinecap:u,strokeLinejoin:l,theme:f,fill:h},g),y=[g.prefix+"-icon"];return y.push(g.prefix+"-icon-"+e),t&&g.rtl&&y.push(g.prefix+"-icon-rtl"),v&&y.push(g.prefix+"-icon-spin"),d&&y.push(d),M("span",Vl(Xl({},vF(vF({},_),{},{className:y.join(" ")})),{children:n(b)}))}}var Afe=Kn("align-text-left-one",!0,function(e){return Ie.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},Ie.createElement("path",{d:"M39 6H9C7.34315 6 6 7.34315 6 9V39C6 40.6569 7.34315 42 9 42H39C40.6569 42 42 40.6569 42 39V9C42 7.34315 40.6569 6 39 6Z",fill:e.colors[1],stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinejoin:e.strokeLinejoin}),Ie.createElement("path",{d:"M26 24H14",stroke:e.colors[2],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),Ie.createElement("path",{d:"M34 15H14",stroke:e.colors[2],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),Ie.createElement("path",{d:"M32 33H14",stroke:e.colors[2],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}))}),k6=Kn("close-small",!1,function(e){return Ie.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},Ie.createElement("path",{d:"M14 14L34 34",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),Ie.createElement("path",{d:"M14 34L34 14",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}))}),Pfe=Kn("double-down",!1,function(e){return Ie.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},Ie.createElement("path",{d:"M36 12L24 24L12 12",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),Ie.createElement("path",{d:"M36 24L24 36L12 24",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}))}),Rfe=Kn("double-right",!0,function(e){return Ie.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},Ie.createElement("path",{d:"M12 12L24 24L12 36",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),Ie.createElement("path",{d:"M24 12L36 24L24 36",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}))}),Ofe=Kn("double-up",!1,function(e){return Ie.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},Ie.createElement("path",{d:"M12 24L24 12L36 24",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),Ie.createElement("path",{d:"M12 36L24 24L36 36",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}))}),F6=Kn("folder-open",!0,function(e){return Ie.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},Ie.createElement("path",{d:"M4 9V41L9 21H39.5V15C39.5 13.8954 38.6046 13 37.5 13H24L19 7H6C4.89543 7 4 7.89543 4 9Z",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),Ie.createElement("path",{d:"M40 41L44 21H8.8125L4 41H40Z",fill:e.colors[1],stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}))}),Nfe=Kn("go-end",!0,function(e){return Ie.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},Ie.createElement("path",{d:"M14 12L26 24L14 36",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),Ie.createElement("path",{d:"M34 12V36",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}))}),Lfe=Kn("go-start",!0,function(e){return Ie.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},Ie.createElement("path",{d:"M34 36L22 24L34 12",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),Ie.createElement("path",{d:"M14 12V36",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}))}),kfe=Kn("hamburger-button",!1,function(e){return Ie.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},Ie.createElement("path",{d:"M7.94971 11.9497H39.9497",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),Ie.createElement("path",{d:"M7.94971 23.9497H39.9497",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),Ie.createElement("path",{d:"M7.94971 35.9497H39.9497",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}))}),B6=Kn("home",!1,function(e){return Ie.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},Ie.createElement("path",{d:"M9 18V42H39V18L24 6L9 18Z",fill:e.colors[1],stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),Ie.createElement("path",{d:"M19 29V42H29V29H19Z",fill:e.colors[3],stroke:e.colors[2],strokeWidth:e.strokeWidth,strokeLinejoin:e.strokeLinejoin}),Ie.createElement("path",{d:"M9 42H39",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap}))}),Ffe=Kn("logout",!0,function(e){return Ie.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},Ie.createElement("path",{d:"M23.9917 6H6V42H24",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),Ie.createElement("path",{d:"M33 33L42 24L33 15",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),Ie.createElement("path",{d:"M16 23.9917H42",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}))}),Bfe=Kn("music-list",!0,function(e){return Ie.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},Ie.createElement("path",{d:"M24 19H40",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),Ie.createElement("path",{d:"M24 10H40",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),Ie.createElement("path",{d:"M8 38H40",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),Ie.createElement("path",{d:"M8 28H40",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),Ie.createElement("path",{d:"M8 10L16 15L8 20V10Z",fill:e.colors[1],stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinejoin:e.strokeLinejoin}))}),U6=Kn("play-one",!0,function(e){return Ie.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},Ie.createElement("path",{d:"M15 24V11.8756L25.5 17.9378L36 24L25.5 30.0622L15 36.1244V24Z",fill:e.colors[1],stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinejoin:e.strokeLinejoin}))}),Ufe=Kn("preview-close-one",!0,function(e){return Ie.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},Ie.createElement("path",{d:"M9.85786 18C6.23858 21 4 24 4 24C4 24 12.9543 36 24 36C25.3699 36 26.7076 35.8154 28 35.4921M20.0318 12.5C21.3144 12.1816 22.6414 12 24 12C35.0457 12 44 24 44 24C44 24 41.7614 27 38.1421 30",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),Ie.createElement("path",{d:"M20.3142 20.6211C19.4981 21.5109 19 22.6972 19 23.9998C19 26.7612 21.2386 28.9998 24 28.9998C25.3627 28.9998 26.5981 28.4546 27.5 27.5705",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),Ie.createElement("path",{d:"M42 42L6 6",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}))}),Dfe=Kn("preview-open",!1,function(e){return Ie.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},Ie.createElement("path",{d:"M24 36C35.0457 36 44 24 44 24C44 24 35.0457 12 24 12C12.9543 12 4 24 4 24C4 24 12.9543 36 24 36Z",fill:e.colors[1],stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinejoin:e.strokeLinejoin}),Ie.createElement("path",{d:"M24 29C26.7614 29 29 26.7614 29 24C29 21.2386 26.7614 19 24 19C21.2386 19 19 21.2386 19 24C19 26.7614 21.2386 29 24 29Z",fill:e.colors[3],stroke:e.colors[2],strokeWidth:e.strokeWidth,strokeLinejoin:e.strokeLinejoin}))}),Mfe=Kn("replay-music",!0,function(e){return Ie.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},Ie.createElement("path",{d:"M21 24V18L26 21L31 24L26 27L21 30V24Z",fill:e.colors[1],stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinejoin:e.strokeLinejoin}),Ie.createElement("path",{d:"M11.2721 36.7279C14.5294 39.9853 19.0294 42 24 42C33.9411 42 42 33.9411 42 24C42 14.0589 33.9411 6 24 6C19.0294 6 14.5294 8.01472 11.2721 11.2721C9.6141 12.9301 6 17 6 17",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),Ie.createElement("path",{d:"M6 9V17H14",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}))}),Gfe=Kn("return",!0,function(e){return Ie.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},Ie.createElement("path",{d:"M12.9998 8L6 14L12.9998 21",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),Ie.createElement("path",{d:"M6 14H28.9938C35.8768 14 41.7221 19.6204 41.9904 26.5C42.2739 33.7696 36.2671 40 28.9938 40H11.9984",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}))}),D6=Kn("save",!0,function(e){return Ie.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},Ie.createElement("path",{d:"M6 9C6 7.34315 7.34315 6 9 6H34.2814L42 13.2065V39C42 40.6569 40.6569 42 39 42H9C7.34315 42 6 40.6569 6 39V9Z",fill:e.colors[1],stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinejoin:e.strokeLinejoin}),Ie.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24.0083 6L24 13.3846C24 13.7245 23.5523 14 23 14H15C14.4477 14 14 13.7245 14 13.3846L14 6",fill:e.colors[3]}),Ie.createElement("path",{d:"M24.0083 6L24 13.3846C24 13.7245 23.5523 14 23 14H15C14.4477 14 14 13.7245 14 13.3846L14 6H24.0083Z",stroke:e.colors[2],strokeWidth:e.strokeWidth,strokeLinejoin:e.strokeLinejoin}),Ie.createElement("path",{d:"M9 6H34.2814",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),Ie.createElement("path",{d:"M14 26H34",stroke:e.colors[2],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),Ie.createElement("path",{d:"M14 34H24.0083",stroke:e.colors[2],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}))}),M6=Kn("setting-two",!1,function(e){return Ie.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},Ie.createElement("path",{d:"M18.2838 43.1713C14.9327 42.1736 11.9498 40.3213 9.58787 37.867C10.469 36.8227 11 35.4734 11 34.0001C11 30.6864 8.31371 28.0001 5 28.0001C4.79955 28.0001 4.60139 28.01 4.40599 28.0292C4.13979 26.7277 4 25.3803 4 24.0001C4 21.9095 4.32077 19.8938 4.91579 17.9995C4.94381 17.9999 4.97188 18.0001 5 18.0001C8.31371 18.0001 11 15.3138 11 12.0001C11 11.0488 10.7786 10.1493 10.3846 9.35011C12.6975 7.1995 15.5205 5.59002 18.6521 4.72314C19.6444 6.66819 21.6667 8.00013 24 8.00013C26.3333 8.00013 28.3556 6.66819 29.3479 4.72314C32.4795 5.59002 35.3025 7.1995 37.6154 9.35011C37.2214 10.1493 37 11.0488 37 12.0001C37 15.3138 39.6863 18.0001 43 18.0001C43.0281 18.0001 43.0562 17.9999 43.0842 17.9995C43.6792 19.8938 44 21.9095 44 24.0001C44 25.3803 43.8602 26.7277 43.594 28.0292C43.3986 28.01 43.2005 28.0001 43 28.0001C39.6863 28.0001 37 30.6864 37 34.0001C37 35.4734 37.531 36.8227 38.4121 37.867C36.0502 40.3213 33.0673 42.1736 29.7162 43.1713C28.9428 40.752 26.676 39.0001 24 39.0001C21.324 39.0001 19.0572 40.752 18.2838 43.1713Z",fill:e.colors[1],stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinejoin:e.strokeLinejoin}),Ie.createElement("path",{d:"M24 31C27.866 31 31 27.866 31 24C31 20.134 27.866 17 24 17C20.134 17 17 20.134 17 24C17 27.866 20.134 31 24 31Z",fill:e.colors[3],stroke:e.colors[2],strokeWidth:e.strokeWidth,strokeLinejoin:e.strokeLinejoin}))}),$fe=Kn("square-small",!1,function(e){return Ie.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},Ie.createElement("path",{d:"M34 12H14C12.8954 12 12 12.8954 12 14V34C12 35.1046 12.8954 36 14 36H34C35.1046 36 36 35.1046 36 34V14C36 12.8954 35.1046 12 34 12Z",fill:e.colors[1],stroke:e.colors[0],strokeWidth:e.strokeWidth}))}),Hfe=Kn("volume-notice",!0,function(e){return Ie.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},Ie.createElement("path",{d:"M24 6V42C17 42 11.7985 32.8391 11.7985 32.8391H6C4.89543 32.8391 4 31.9437 4 30.8391V17.0108C4 15.9062 4.89543 15.0108 6 15.0108H11.7985C11.7985 15.0108 17 6 24 6Z",fill:e.colors[1],stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinejoin:e.strokeLinejoin}),Ie.createElement("path",{d:"M32 15L32 15C32.6232 15.5565 33.1881 16.1797 33.6841 16.8588C35.1387 18.8504 36 21.3223 36 24C36 26.6545 35.1535 29.1067 33.7218 31.0893C33.2168 31.7885 32.6391 32.4293 32 33",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),Ie.createElement("path",{d:"M34.2359 41.1857C40.0836 37.6953 44 31.305 44 24C44 16.8085 40.2043 10.5035 34.507 6.97906",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap}))});const Wfe=e=>{let t;switch(e.iconName){case"save":t=M(D6,{theme:"outline",size:"1.2em",fill:e.iconColor,strokeWidth:2});break;case"load":t=M(F6,{theme:"outline",size:"1.2em",fill:e.iconColor,strokeWidth:2});break;case"option":t=M(M6,{theme:"outline",size:"1.2em",fill:e.iconColor,strokeWidth:2});break;case"title":t=M(B6,{theme:"outline",size:"1.2em",fill:"rgba(185,185,185,1)",strokeWidth:2});break;case"exit":t=M(Ffe,{theme:"outline",size:"1.2em",fill:"rgba(185,185,185,1)",strokeWidth:2});break;default:t=M("div",{})}return t},Bv=e=>{let t=Cc.MenuPanel_button;return e.hasOwnProperty("buttonOnClassName")&&(t=t+e.buttonOnClassName),Re("div",{className:t,onClick:()=>{e.clickFunc()},style:{color:e.tagColor},children:[M("div",{className:Cc.MenuPanel_button_icon,children:M(Wfe,{iconName:e.iconName,iconColor:e.iconColor})}),e.tagName]})},jfe=()=>{const e=kt(v=>v.GUI),t=Pi(),n=e.currentMenuTag===Xt.Save?` ${Cc.MenuPanel_button_hl}`:"",r=e.currentMenuTag===Xt.Load?` ${Cc.MenuPanel_button_hl}`:"",i=e.currentMenuTag===Xt.Option?` ${Cc.MenuPanel_button_hl}`:"",a=e.currentMenuTag===Xt.Save?"rgba(74, 34, 93, 0.9)":"rgba(8, 8, 8, 0.3)",u=e.currentMenuTag===Xt.Load?"rgba(11, 52, 110, 0.9)":"rgba(8, 8, 8, 0.3)",l=e.currentMenuTag===Xt.Option?"rgba(81, 110, 65, 0.9)":"rgba(8, 8, 8, 0.3)",f=e.currentMenuTag===Xt.Save?"rgba(74, 34, 93, 0.9)":"rgba(185, 185, 185, 1)",h=e.currentMenuTag===Xt.Load?"rgba(11, 52, 110, 0.9)":"rgba(185, 185, 185, 1)",d=e.currentMenuTag===Xt.Option?"rgba(81, 110, 65, 0.9)":"rgba(185, 185, 185, 1)";return Re("div",{className:Cc.MenuPanel_main,children:[M(Bv,{iconName:"save",buttonOnClassName:n,iconColor:f,tagColor:a,clickFunc:()=>{t(gf(Xt.Save))},tagName:"\u5B58\u6863"},"saveButton"),M(Bv,{iconName:"load",buttonOnClassName:r,iconColor:h,tagColor:u,clickFunc:()=>{t(gf(Xt.Load))},tagName:"\u8BFB\u6863"},"loadButton"),M(Bv,{iconName:"option",buttonOnClassName:i,iconColor:d,tagColor:l,clickFunc:()=>{t(gf(Xt.Option))},tagName:"\u9009\u9879"},"optionButton"),M(Bv,{iconName:"title",clickFunc:()=>{t(xn({component:"showTitle",visibility:!0})),t(xn({component:"showMenuPanel",visibility:!1})),ry(e.titleBgm)},tagName:"\u6807\u9898"},"titleIcon"),M(Bv,{iconName:"exit",clickFunc:()=>{t(xn({component:"showMenuPanel",visibility:!1}))},tagName:"\u8FD4\u56DE"},"exitIcon")]})},zfe="_Save_Load_main_1ps49_2",Xfe="_Save_Load_top_1ps49_9",Vfe="_Elements_in_1ps49_1",qfe="_Save_Load_title_1ps49_17",Yfe="_Save_title_text_1ps49_30",Kfe="_Load_title_text_1ps49_40",Zfe="_Save_Load_top_buttonList_1ps49_50",Jfe="_Save_Load_top_button_1ps49_50",Qfe="_Save_Load_top_button_text_1ps49_69",ece="_Save_Load_top_button_on_1ps49_80",tce="_Load_top_button_on_1ps49_93",nce="_Load_top_button_1ps49_93",rce="_Save_Load_content_1ps49_106",ice="_Save_Load_content_element_1ps49_115",oce="_Elements_in_transform_1ps49_1",ace="_Save_Load_content_element_top_1ps49_131",sce="_Save_Load_content_element_top_index_1ps49_138",uce="_Load_content_elememt_top_index_1ps49_147",lce="_Save_Load_content_element_top_date_1ps49_151",fce="_Load_content_element_top_date_1ps49_162",cce="_Save_Load_content_text_1ps49_166",hce="_Save_Load_content_text_padding_1ps49_180",dce="_Save_Load_content_speaker_1ps49_184",pce="_Load_content_speaker_1ps49_193",vce="_Load_content_text_1ps49_197",_ce="_Save_Load_content_miniRen_1ps49_201",gce="_Save_Load_content_miniRen_bg_1ps49_208",mce="_Save_Load_content_miniRen_figure_1ps49_215",yce="_Save_Load_content_miniRen_figLeft_1ps49_223",xce="_Save_Load_content_miniRen_figRight_1ps49_228";var ct={Save_Load_main:zfe,Save_Load_top:Xfe,Elements_in:Vfe,Save_Load_title:qfe,Save_title_text:Yfe,Load_title_text:Kfe,Save_Load_top_buttonList:Zfe,Save_Load_top_button:Jfe,Save_Load_top_button_text:Qfe,Save_Load_top_button_on:ece,Load_top_button_on:tce,Load_top_button:nce,Save_Load_content:rce,Save_Load_content_element:ice,Elements_in_transform:oce,Save_Load_content_element_top:ace,Save_Load_content_element_top_index:sce,Load_content_elememt_top_index:uce,Save_Load_content_element_top_date:lce,Load_content_element_top_date:fce,Save_Load_content_text:cce,Save_Load_content_text_padding:hce,Save_Load_content_speaker:dce,Load_content_speaker:pce,Load_content_text:vce,Save_Load_content_miniRen:_ce,Save_Load_content_miniRen_bg:gce,Save_Load_content_miniRen_figure:mce,Save_Load_content_miniRen_figLeft:yce,Save_Load_content_miniRen_figRight:xce};const bce="_GlobalDialog_main_83u4c_2",wce="_showGlobalDialog_83u4c_1",Tce="_glabalDialog_container_inner_83u4c_17",Ece="_glabalDialog_container_83u4c_17",Sce="_title_83u4c_36",Cce="_button_list_83u4c_41",Ice="_button_83u4c_41";var Ql={GlobalDialog_main:bce,showGlobalDialog:wce,glabalDialog_container_inner:Tce,glabalDialog_container:Ece,title:Sce,button_list:Cce,button:Ice};function Ace(){const e=kt(t=>t.GUI.showGlobalDialog);return M(Ji,{children:e&&M("div",{id:"globalDialogContainer"})})}function f_(e){Ee.dispatch(xn({component:"showGlobalDialog",visibility:!0}));const t=()=>{e.leftFunc(),_F()},n=()=>{e.rightFunc(),_F()},r=M("div",{className:Ql.GlobalDialog_main,children:M("div",{className:Ql.glabalDialog_container,children:Re("div",{className:Ql.glabalDialog_container_inner,children:[M("div",{className:Ql.title,children:e.title}),Re("div",{className:Ql.button_list,children:[M("div",{className:Ql.button,onClick:t,children:e.leftText}),M("div",{className:Ql.button,onClick:n,children:e.rightText})]})]})})});setTimeout(()=>{Cf.render(r,document.getElementById("globalDialogContainer"))},100)}function _F(){Ee.dispatch(xn({component:"showGlobalDialog",visibility:!1}))}const Pce=()=>{const e=kt(l=>l.userData),t=Pi(),n=[];for(let l=1;l<=20;l++){let f=ct.Save_Load_top_button;l===e.optionData.slPage&&(f=f+" "+ct.Save_Load_top_button_on);const h=M("div",{onClick:()=>{t(n4(l)),Jn()},className:f,children:M("div",{className:ct.Save_Load_top_button_text,children:l})},"Save_element_page"+l);n.push(h)}const r=[],i=(e.optionData.slPage-1)*10+1,a=i+9;let u=0;for(let l=i;l<=a;l++){u++;const f=e.saveData[l];let h=M("div",{});if(f){const v=f.nowStageState.showName===""?"\xA0":`${f.nowStageState.showName}`;h=Re(Ji,{children:[Re("div",{className:ct.Save_Load_content_element_top,children:[M("div",{className:ct.Save_Load_content_element_top_index,children:f.index}),M("div",{className:ct.Save_Load_content_element_top_date,children:f.saveTime})]}),M("div",{className:ct.Save_Load_content_miniRen,children:M("img",{className:ct.Save_Load_content_miniRen_bg,alt:"Save_img_preview",src:f.previewImage})}),Re("div",{className:ct.Save_Load_content_text,children:[M("div",{className:ct.Save_Load_content_speaker,children:v}),M("div",{className:ct.Save_Load_content_text_padding,children:f.nowStageState.showText})]})]})}const d=M("div",{onClick:()=>{e.saveData[l]?f_({title:"\u662F\u5426\u8986\u76D6\u5B58\u6863\uFF1F",leftText:"\u662F",rightText:"\u5426",leftFunc:()=>{RA(l),Jn()},rightFunc:()=>{}}):RA(l)},className:ct.Save_Load_content_element,style:{animationDelay:`${u*30}ms`},children:h},"saveElement_"+l);r.push(d)}return Re("div",{className:ct.Save_Load_main,children:[Re("div",{className:ct.Save_Load_top,children:[M("div",{className:ct.Save_Load_title,children:M("div",{className:ct.Save_title_text,children:"\u5B58\u6863"})}),M("div",{className:ct.Save_Load_top_buttonList,children:n})]}),M("div",{className:ct.Save_Load_content,id:"Save_content_page_"+e.optionData.slPage,children:r})]})},Rce=()=>{const e=kt(l=>l.userData),t=Pi(),n=[];for(let l=1;l<=20;l++){let f=ct.Save_Load_top_button+" "+ct.Load_top_button;l===e.optionData.slPage&&(f=f+" "+ct.Save_Load_top_button_on+" "+ct.Load_top_button_on);const h=M("div",{onClick:()=>{t(n4(l)),Jn()},className:f,children:M("div",{className:ct.Save_Load_top_button_text,children:l})},"Load_element_page"+l);n.push(h)}const r=[],i=(e.optionData.slPage-1)*10+1,a=i+9;let u=0;for(let l=i;l<=a;l++){u++;const f=e.saveData[l];let h=M("div",{});if(f){const v=f.nowStageState.showName===""?"\xA0":`${f.nowStageState.showName}`;h=Re(Ji,{children:[Re("div",{className:ct.Save_Load_content_element_top,children:[M("div",{className:ct.Save_Load_content_element_top_index+" "+ct.Load_content_elememt_top_index,children:f.index}),M("div",{className:ct.Save_Load_content_element_top_date+" "+ct.Load_content_element_top_date,children:f.saveTime})]}),M("div",{className:ct.Save_Load_content_miniRen,children:M("img",{className:ct.Save_Load_content_miniRen_bg,alt:"Save_img_preview",src:f.previewImage})}),Re("div",{className:ct.Save_Load_content_text,children:[M("div",{className:ct.Save_Load_content_speaker+" "+ct.Load_content_speaker,children:v}),M("div",{className:ct.Save_Load_content_text_padding,children:f.nowStageState.showText})]})]})}const d=M("div",{onClick:()=>P6(l),className:ct.Save_Load_content_element,style:{animationDelay:`${u*30}ms`},children:h},"loadElement_"+l);r.push(d)}return Re("div",{className:ct.Save_Load_main,children:[Re("div",{className:ct.Save_Load_top,children:[M("div",{className:ct.Save_Load_title,children:M("div",{className:ct.Load_title_text,children:"\u8BFB\u6863"})}),M("div",{className:ct.Save_Load_top_buttonList,children:n})]}),M("div",{className:ct.Save_Load_content,id:"Load_content_page_"+e.optionData.slPage,children:r})]})},Oce="_Options_main_32y9w_2",Nce="_Options_top_32y9w_10",Lce="_Options_title_32y9w_17",kce="_Option_title_text_32y9w_26",Fce="_Elements_in_32y9w_1",Bce="_Option_title_text_shadow_32y9w_35",Uce="_Option_title_text_ts_32y9w_42",Dce="_Options_main_content_32y9w_49",Mce="_Options_main_content_half_32y9w_55",Gce="_Options_page_container_32y9w_75",$ce="_Options_button_list_32y9w_81",Hce="_Options_page_button_32y9w_85",Wce="_Options_page_button_active_32y9w_97";var zi={Options_main:Oce,Options_top:Nce,Options_title:Lce,Option_title_text:kce,Elements_in:Fce,Option_title_text_shadow:Bce,Option_title_text_ts:Uce,Options_main_content:Dce,Options_main_content_half:Mce,Options_page_container:Gce,Options_button_list:$ce,Options_page_button:Hce,Options_page_button_active:Wce};function Tu(e){const[t,n]=De.exports.useState(e);return{value:t,set:function(r){this.value=r,n(r)}}}const jce="_NormalOption_mh1vg_1",zce="_Elements_in_mh1vg_1",Xce="_NormalOption_title_mh1vg_10",Vce="_NormalOption_title_bef_mh1vg_19",qce="_NormalOption_title_sd_mh1vg_29",Yce="_NormalOption_buttonList_mh1vg_39";var f2={NormalOption:jce,Elements_in:zce,NormalOption_title:Xce,NormalOption_title_bef:Vce,NormalOption_title_sd:qce,NormalOption_buttonList:Yce};const pa=e=>Re("div",{className:f2.NormalOption,children:[M("div",{className:f2.NormalOption_title,children:e.title}),M("div",{className:f2.NormalOption_buttonList,children:e.children})]}),Kce="_NormalButton_1y8da_1",Zce="_NormalButtonChecked_1y8da_17";var c2={NormalButton:Kce,NormalButtonChecked:Zce};const Xc=e=>{const t=e.textList.length,n=[];for(let r=0;r<t;r++)if(r===e.currentChecked){const i=M("div",{className:c2.NormalButton+" "+c2.NormalButtonChecked,onClick:e.functionList[r],children:e.textList[r]},e.textList[r]+r+e);n.push(i)}else{const i=M("div",{className:c2.NormalButton,onClick:e.functionList[r],children:e.textList[r]},e.textList[r]+r);n.push(i)}return M(Ji,{children:n})};function Jce(){const e=kt(n=>n.userData),t=Pi();return Re("div",{className:zi.Options_main_content_half,children:[M(pa,{title:"\u81EA\u52A8\u64AD\u653E\u901F\u5EA6",children:M(Xc,{textList:["\u6162","\u4E2D","\u5FEB"],functionList:[()=>{t(xi({key:"autoSpeed",value:pi.slow})),Jn()},()=>{t(xi({key:"autoSpeed",value:pi.normal})),Jn()},()=>{t(xi({key:"autoSpeed",value:pi.fast})),Jn()}],currentChecked:e.optionData.autoSpeed})},"option1"),M(pa,{title:"\u6E05\u9664\u6216\u8FD8\u539F\u6570\u636E",children:M(Xc,{textList:["\u6E05\u9664\u6240\u6709\u5B58\u6863","\u8FD8\u539F\u9ED8\u8BA4\u8BBE\u7F6E","\u6E05\u9664\u6240\u6709\u6570\u636E"],functionList:[()=>{f_({title:"\u786E\u5B9A\u8981\u6E05\u9664\u5B58\u6863\u5417",leftText:"\u662F",rightText:"\u5426",leftFunc:()=>{t(Sq()),bm()},rightFunc:()=>{}})},()=>{f_({title:"\u786E\u5B9A\u8981\u8FD8\u539F\u9ED8\u8BA4\u8BBE\u7F6E\u5417",leftText:"\u662F",rightText:"\u5426",leftFunc:()=>{t(Eq()),bm()},rightFunc:()=>{}})},()=>{f_({title:"\u786E\u5B9A\u8981\u6E05\u9664\u6240\u6709\u6570\u636E\u5417",leftText:"\u662F",rightText:"\u5426",leftFunc:()=>{t(Cq()),bm()},rightFunc:()=>{}})}],currentChecked:3})},"option2"),M(pa,{title:"\u5BFC\u5165\u6216\u5BFC\u51FA\u5B58\u6863\u4E0E\u9009\u9879",children:M(Xc,{textList:["\u5BFC\u51FA\u5B58\u6863\u4E0E\u9009\u9879","\u5BFC\u5165\u5B58\u6863\u4E0E\u9009\u9879"],functionList:[Qce,ehe],currentChecked:2})},"option3")]})}function Qce(){Jn(),Z0.getItem(Zi.gameKey).then(e=>{const t=JSON.stringify(e);if(t!==null){const n=new Blob([t],{type:"application/json"}),r=URL.createObjectURL(n),i=document.createElement("a");i.href=r,i.download="saves.json",i.click(),i.remove()}})}function ehe(){const e=document.createElement("input");e.type="file",e.onchange=the,e.click()}function the(e){const t=e.target.files[0],n=new FileReader;n.onload=r=>{const i=r.target.result;try{const a=JSON.parse(i);f_({title:"\u786E\u5B9A\u8981\u5BFC\u5165\u5B58\u6863\u4E0E\u9009\u9879\u5417",leftText:"\u662F",rightText:"\u5426",leftFunc:()=>{Z0.setItem(Zi.gameKey,a).then(()=>{Me.info("\u5BFC\u5165\u5B58\u6863")}),O_()},rightFunc:()=>{}})}catch(a){Me.error("\u5B58\u6863\u89E3\u6790\u5931\u8D25",a)}},n.readAsText(t,"UTF-8")}const nhe="_textPreviewMain_1y25r_1",rhe="_singleText_1y25r_11",ihe="_TextDelayShow_1y25r_1";var gF={textPreviewMain:nhe,singleText:rhe,TextDelayShow:ihe};function G6(){const e=kt(n=>n.userData.optionData.textboxFont);function t(){return e===Jc.song?'"\u601D\u6E90\u5B8B\u4F53", serif':'"WebgalUI", serif'}return t()}const ohe=e=>{const t=kt(h=>h.userData),n=oR(t.optionData.textSpeed),r=w4(t.optionData.textSpeed),i="\u73B0\u5728\u9884\u89C8\u7684\u662F\u6587\u672C\u6846\u5B57\u4F53\u5927\u5C0F\u548C\u64AD\u653E\u901F\u5EA6\u7684\u60C5\u51B5\uFF0C\u60A8\u53EF\u4EE5\u6839\u636E\u60A8\u7684\u89C2\u611F\u8C03\u6574\u4E0A\u9762\u7684\u9009\u9879\u3002",a=t.optionData.textSize*40+200+"%",u=G6();let l=gF.singleText;const f=i.split("").map((h,d)=>M("span",{id:n+"text"+d,style:{fontSize:a,animationDelay:String(d*n)+"ms",fontFamily:u,position:"relative",animationDuration:`${r}ms`},className:l,children:Re("span",{className:Rn.zhanwei,children:[h,M("span",{className:Rn.outer,children:h}),M("span",{className:Rn.inner,children:h})]})},h+d+t.optionData.textSpeed));return M("div",{className:gF.textPreviewMain,children:f})};function ahe(){const e=kt(n=>n.userData),t=Pi();return Re("div",{className:zi.Options_main_content_half,children:[M(pa,{title:"\u6587\u5B57\u663E\u793A\u901F\u5EA6",children:M(Xc,{textList:["\u6162","\u4E2D","\u5FEB"],functionList:[()=>{t(xi({key:"textSpeed",value:pi.slow})),Jn()},()=>{t(xi({key:"textSpeed",value:pi.normal})),Jn()},()=>{t(xi({key:"textSpeed",value:pi.fast})),Jn()}],currentChecked:e.optionData.textSpeed})},"option0"),M(pa,{title:"\u6587\u672C\u5927\u5C0F",children:M(Xc,{textList:["\u5C0F","\u4E2D","\u5927"],functionList:[()=>{t(xi({key:"textSize",value:r_.small})),Jn()},()=>{t(xi({key:"textSize",value:r_.medium})),Jn()},()=>{t(xi({key:"textSize",value:r_.large})),Jn()}],currentChecked:e.optionData.textSize})},"option1"),M(pa,{title:"\u6587\u672C\u5B57\u4F53",children:M(Xc,{textList:["\u601D\u6E90\u5B8B\u4F53","\u9ED1\u4F53"],functionList:[()=>{t(xi({key:"textboxFont",value:Jc.song})),Jn()},()=>{t(xi({key:"textboxFont",value:Jc.hei})),Jn()}],currentChecked:e.optionData.textboxFont})},"option2"),M(pa,{title:"\u6587\u672C\u663E\u793A\u9884\u89C8",children:M(ohe,{})},"option3")]})}const h2=e=>(De.exports.useEffect(()=>{setTimeout(()=>{const t=document.getElementById(e.uniqueID);t!==null&&t.setAttribute("value",e.initValue.toString())},1)},[]),M("div",{className:"Option_WebGAL_slider",children:M("input",{id:e.uniqueID,type:"range",onChange:e.onChange})}));function she(){const e=kt(n=>n.userData),t=Pi();return Re("div",{className:zi.Options_main_content_half,children:[M(pa,{title:"\u4E3B\u97F3\u91CF",children:M(h2,{initValue:e.optionData.volumeMain,uniqueID:"\u4E3B\u97F3\u91CF",onChange:n=>{const r=n.target.value;t(xi({key:"volumeMain",value:Number(r)})),Jn(),Om()}})},"option4"),M(pa,{title:"\u8BED\u97F3\u97F3\u91CF",children:M(h2,{initValue:e.optionData.vocalVolume,uniqueID:"\u8BED\u97F3\u97F3\u91CF",onChange:n=>{const r=n.target.value;t(xi({key:"vocalVolume",value:Number(r)})),Jn(),Om()}})},"option5"),M(pa,{title:"\u80CC\u666F\u97F3\u4E50\u97F3\u91CF",children:M(h2,{initValue:e.optionData.bgmVolume,uniqueID:"\u80CC\u666F\u97F3\u4E50\u97F3\u91CF",onChange:n=>{const r=n.target.value;t(xi({key:"bgmVolume",value:Number(r)})),Jn(),Om()}})},"option6")]})}const uhe=()=>{const e=Tu(0);De.exports.useEffect(O_,[]);function t(n){return n===e.value?zi.Options_page_button+" "+zi.Options_page_button_active:zi.Options_page_button}return Re("div",{className:zi.Options_main,children:[M("div",{className:zi.Options_top,children:M("div",{className:zi.Options_title,children:M("div",{className:zi.Option_title_text,children:"\u9009\u9879"})})}),Re("div",{className:zi.Options_page_container,children:[Re("div",{className:zi.Options_button_list,children:[M("div",{onClick:()=>e.set(0),className:t(0),children:"\u7CFB\u7EDF"}),M("div",{onClick:()=>e.set(1),className:t(1),children:"\u663E\u793A"}),M("div",{onClick:()=>e.set(2),className:t(2),children:"\u97F3\u9891"})]}),Re("div",{className:zi.Options_main_content,children:[e.value===1&&M(ahe,{}),e.value===0&&M(Jce,{}),e.value===2&&M(she,{})]})]})]})},lhe=()=>{const e=kt(n=>n.GUI);let t;switch(e.currentMenuTag){case Xt.Save:t=M(Pce,{});break;case Xt.Load:t=M(Rce,{});break;case Xt.Option:t=M(uhe,{});break}return M(Ji,{children:e.showMenuPanel&&Re("div",{className:dF.Menu_main,children:[M("div",{className:dF.Menu_TagContent,children:t}),M(jfe,{})]})})},fhe=()=>{const e=kt(f=>f.stage),t=kt(f=>f.userData);De.exports.useEffect(()=>{});const n=oR(t.optionData.textSpeed),r=w4(t.optionData.textSpeed),i=t.optionData.textSize*40+200+"%",a=G6(),l=e.showText.split("").map((f,h)=>{let d=h*n,v=e.currentConcatDialogPrev.length;return e.currentConcatDialogPrev!==""&&h>=v&&(d=d-v*n),h<v?M("span",{"data-text":f,id:`${d}`,className:Rn.TextBox_textElement_Settled,style:{animationDelay:`${d}ms`,animationDuration:`${r}ms`},children:Re("span",{className:Rn.zhanwei,children:[f,M("span",{className:Rn.outer,children:f}),M("span",{className:Rn.inner,children:f})]})},e.currentDialogKey+h):M("span",{"data-text":f,id:`${d}`,className:Rn.TextBox_textElement_start,style:{animationDelay:`${d}ms`,position:"relative"},children:Re("span",{className:Rn.zhanwei,children:[f,M("span",{className:Rn.outer,children:f}),M("span",{className:Rn.inner,children:f})]})},e.currentDialogKey+h)});return Re("div",{id:"textBoxMain",className:Rn.TextBox_main,style:{fontFamily:a},children:[M("div",{id:"miniAvatar",className:Rn.miniAvatarContainer,children:e.miniAvatar!==""&&M("img",{className:Rn.miniAvatarImg,alt:"miniAvatar",src:e.miniAvatar})}),e.showName!==""&&M("div",{className:Rn.TextBox_showName,style:{fontSize:"200%"},children:e.showName.split("").map(f=>M("span",{style:{position:"relative"},children:Re("span",{className:Rn.zhanwei,children:[f,M("span",{className:Rn.outer,children:f}),M("span",{className:Rn.inner,children:f})]})},f))}),M("div",{style:{fontSize:i,wordBreak:"break-word"},children:l})]})},che=()=>{const e=kt(r=>r.stage),t=kt(r=>r.GUI.titleBgm),n=kt(r=>r.GUI.showTitle);return Re("div",{children:[M("audio",{id:"currentBgm",src:n?t:e.bgm,loop:!0,autoPlay:!0}),M("audio",{id:"currentVocal",src:e.vocal})]})},hhe=()=>{const e=kt(i=>i.stage);let t="100%",n="100%",r="0";return e.enableFilm!==""&&(n="76%",r="12%"),Re("div",{className:l0.FullScreenPerform_main,style:{width:t,height:n,top:r},children:[M("div",{id:"videoContainer"}),M("div",{id:"pixiContianer"}),M("div",{id:"chooseContainer"})]})},dhe=()=>{const e=kt(u=>u.stage),t=kt(u=>u.userData);De.exports.useEffect(()=>{});const n=sM.textInitialDelay-20*t.optionData.textSpeed,r=t.optionData.textSize*50+200+"%",a=e.showText.split("").map((u,l)=>{let f=l*n,h=e.currentConcatDialogPrev.length;return e.currentConcatDialogPrev!==""&&l>=h&&(f=f-h*n),l<h?M("span",{id:`${f}`,className:Em.TextBox_textElement_Settled,style:{animationDelay:`${f}ms`},children:u},e.currentDialogKey+l):M("span",{id:`${f}`,className:Em.TextBox_textElement_start,style:{animationDelay:`${f}ms`},children:u},e.currentDialogKey+l)});return M("div",{id:"textBoxMain",className:Em.TextBox_main,children:M("div",{style:{fontSize:r},children:a})})};function phe(e){const t=e.bgName;De.exports.useEffect(()=>{var r,i,a;const n="bg-main";if(t!==""){const u=(r=Q.pixiStage)==null?void 0:r.getStageObjByKey(n);u&&u.sourceUrl!==t&&mF(u),(i=Q.pixiStage)==null||i.addBg(n,t),Me.debug("\u91CD\u8BBE\u80CC\u666F"),Q.pixiStage.registerPresetAnimation(lf(n,1e3),"bg-main-softin",n,e.effects),setTimeout(()=>Q.pixiStage.removeAnimation("bg-main-softin"),1e3)}else{const u=(a=Q.pixiStage)==null?void 0:a.getStageObjByKey(n);u&&mF(u)}},[t])}function mF(e){var n,r;(n=Q.pixiStage)==null||n.removeAnimationWithSetEffects("bg-main-softin");const t=e.key;e.key="bg-main-off",(r=Q.pixiStage)==null||r.removeStageObjectByKey(t),Q.pixiStage.registerAnimation(TR("bg-main-off",1e3),"bg-main-softoff","bg-main-off"),setTimeout(()=>{var i,a;(i=Q.pixiStage)==null||i.removeAnimation("bg-main-softoff"),(a=Q.pixiStage)==null||a.removeStageObjectByKey("bg-main-off")},1e3)}function vhe(e){const{figNameLeft:t,figName:n,figNameRight:r,freeFigure:i}=e;De.exports.useEffect(()=>{var l,f,h;const a="fig-center",u="fig-center-softin";if(n!==""){const d=(l=Q.pixiStage)==null?void 0:l.getStageObjByKey(a);d&&d.sourceUrl!==n&&ys(d,u,e.effects),(f=Q.pixiStage)==null||f.addFigure(a,n,"center"),Me.debug("\u4E2D\u7ACB\u7ED8\u5DF2\u91CD\u8BBE"),Q.pixiStage.registerPresetAnimation(lf(a,300),u,a,e.effects),setTimeout(()=>Q.pixiStage.removeAnimation(u),300)}else{Me.debug("\u79FB\u9664\u4E2D\u7ACB\u7ED8");const d=(h=Q.pixiStage)==null?void 0:h.getStageObjByKey(a);d&&d.sourceUrl!==n&&ys(d,u,e.effects)}},[n]),De.exports.useEffect(()=>{var l,f,h;const a="fig-left",u="fig-left-softin";if(t!==""){const d=(l=Q.pixiStage)==null?void 0:l.getStageObjByKey(a);d&&d.sourceUrl!==t&&ys(d,u,e.effects),(f=Q.pixiStage)==null||f.addFigure(a,t,"left"),Me.debug("\u5DE6\u7ACB\u7ED8\u5DF2\u91CD\u8BBE"),Q.pixiStage.registerPresetAnimation(lf(a,300),u,a,e.effects),setTimeout(()=>Q.pixiStage.removeAnimation(u),300)}else{const d=(h=Q.pixiStage)==null?void 0:h.getStageObjByKey(a);d&&d.sourceUrl!==t&&ys(d,u,e.effects)}},[t]),De.exports.useEffect(()=>{var l,f,h;const a="fig-right",u="fig-right-softin";if(r!==""){const d=(l=Q.pixiStage)==null?void 0:l.getStageObjByKey(a);d&&d.sourceUrl!==r&&ys(d,u,e.effects),(f=Q.pixiStage)==null||f.addFigure(a,r,"right"),Me.debug("\u53F3\u7ACB\u7ED8\u5DF2\u91CD\u8BBE"),Q.pixiStage.registerPresetAnimation(lf(a,300),u,a,e.effects),setTimeout(()=>Q.pixiStage.removeAnimation(u),300)}else{const d=(h=Q.pixiStage)==null?void 0:h.getStageObjByKey(a);d&&d.sourceUrl!==r&&ys(d,u,e.effects)}},[r]),De.exports.useEffect(()=>{var u,l,f,h,d;for(const v of i){const _=`${v.key}`,g=`${v.key}-softin`;if(v.name!==""){const x=(u=Q.pixiStage)==null?void 0:u.getStageObjByKey(_);x?x.sourceUrl!==v.name&&(ys(x,g,e.effects),(l=Q.pixiStage)==null||l.addFigure(_,v.name,v.basePosition),Me.debug(`${v.key}\u7ACB\u7ED8\u5DF2\u91CD\u8BBE`),Q.pixiStage.registerPresetAnimation(lf(_,300),g,_,e.effects),setTimeout(()=>Q.pixiStage.removeAnimation(g),300)):((f=Q.pixiStage)==null||f.addFigure(_,v.name,v.basePosition),Me.debug(`${v.key}\u7ACB\u7ED8\u5DF2\u91CD\u8BBE`),Q.pixiStage.registerPresetAnimation(lf(_,300),g,_,e.effects),setTimeout(()=>Q.pixiStage.removeAnimation(g),300))}else{const x=(h=Q.pixiStage)==null?void 0:h.getStageObjByKey(_);x&&x.sourceUrl!==v.name&&ys(x,g,e.effects)}}const a=(d=Q.pixiStage)==null?void 0:d.figureObjects;if(a){for(const v of a)if(!(v.key==="fig-left"||v.key==="fig-center"||v.key==="fig-right")){const _=v.key;if(i.findIndex(x=>x.key===_)<0){const x=`${v.key}-softin`;ys(v,x,e.effects)}}}},[i])}function ys(e,t,n){var u,l;(u=Q.pixiStage)==null||u.removeAnimationWithSetEffects(t);const r=e.key;e.key=e.key+"-off",(l=Q.pixiStage)==null||l.removeStageObjectByKey(r);const i=e.key,a=i+"-softoff";Q.pixiStage.registerPresetAnimation(TR(i,200),a,i,n),setTimeout(()=>{var f,h;(f=Q.pixiStage)==null||f.removeAnimation(a),(h=Q.pixiStage)==null||h.removeStageObjectByKey(i)},250)}function _he(e){const t=e.effects;setTimeout(()=>{ghe(t)},10)}function ghe(e){var n,r,i,a,u,l;const t=(r=(n=Q.pixiStage)==null?void 0:n.getAllStageObj())!=null?r:[];for(const f of t){const h=f.key,d=e.find(_=>_.target===h);if(!((a=(i=Q.pixiStage)==null?void 0:i.getAllLockedObject())!=null?a:[]).includes(h))if(d){const _=(u=Q.pixiStage)==null?void 0:u.getStageObjByKey(h);if(_){const g=_.pixiContainer;hA(g),Object.assign(g,d.transform)}}else{const _=(l=Q.pixiStage)==null?void 0:l.getStageObjByKey(h);if(_){const g=_.pixiContainer;hA(g),Object.assign(g,GR)}}}}function mhe(){const e=kt(t=>t.stage);return phe(e),vhe(e),_he(e),M("div",{style:{display:"none"}})}const yhe="_introContainer_1uoe4_1";var xhe={introContainer:yhe};function bhe(){return M("div",{className:xhe.introContainer,id:"introContainer"})}const whe=()=>{const e=kt(r=>r.stage),t=kt(r=>r.GUI),n=Pi();return Xle(),Re("div",{className:q4.MainStage_main,children:[M(hhe,{}),M(mhe,{}),t.showTextBox&&e.enableFilm===""&&!e.isDisableTextbox&&M(fhe,{}),t.showTextBox&&e.enableFilm!==""&&M(dhe,{}),M(che,{}),M("div",{onClick:()=>{if(!t.showTextBox){n(xn({component:"showTextBox",visibility:!0}));return}C6(),Wr()},id:"FullScreenClick",style:{width:"100%",height:"100%",position:"absolute",zIndex:"12",top:"0"}}),M(bhe,{})]})},$6=()=>{const e=Ee.dispatch;XR(),b6(),zc(),e(xn({component:"showTitle",visibility:!0}))},The=()=>{const n=kt(h=>h.GUI),r=kt(h=>h.stage),i=Pi(),a=(h,d)=>{i(xn({component:h,visibility:d}))},u=h=>{i(gf(h))},l=kt(h=>h.userData.saveData);let f=M("div",{style:{height:"100%",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:M("div",{style:{fontSize:"125%"},children:"\u6682\u65E0\u5B58\u6863"})});if(l[0]){const h=l[0];f=Re("div",{className:Ze.slPreviewMain,children:[M("div",{className:Ze.imgContainer,children:M("img",{style:{height:"100%"},alt:"q-save-preview image",src:h.previewImage})}),Re("div",{className:Ze.textContainer,children:[M("div",{children:h.nowStageState.showName}),M("div",{style:{fontSize:"75%",color:"rgb(55,60,56)"},children:h.nowStageState.showText})]})]})}return M("div",{className:Ze.ToCenter,children:n.showTextBox&&r.enableFilm===""&&Re("div",{className:Ze.main,children:[n.showTextBox&&Re("span",{className:Ze.singleButton,onClick:()=>a("showTextBox",!1),children:[M(Ufe,{className:Ze.button,theme:"outline",size:48,fill:"#f5f5f7",strokeWidth:2.5}),M("span",{className:Ze.button_text,children:"\u9690\u85CF"})]}),!n.showTextBox&&Re("span",{className:Ze.singleButton,onClick:()=>a("showTextBox",!0),children:[M(Dfe,{className:Ze.button,theme:"outline",size:48,fill:"#f5f5f7",strokeWidth:2.5}),M("span",{className:Ze.button_text,children:"\u663E\u793A"})]}),Re("span",{className:Ze.singleButton,onClick:()=>{a("showBacklog",!0),a("showTextBox",!1)},children:[M(Afe,{className:Ze.button,theme:"outline",size:48,fill:"#f5f5f7",strokeWidth:2.5}),M("span",{className:Ze.button_text,children:"\u56DE\u60F3"})]}),Re("span",{className:Ze.singleButton,onClick:()=>{let h=document.getElementById("currentVocal");h!==null&&(h.currentTime=0,h.pause(),h.play())},children:[M(Mfe,{className:Ze.button,theme:"outline",size:48,fill:"#f5f5f7",strokeWidth:2.5}),M("span",{className:Ze.button_text,children:"\u91CD\u64AD"})]}),Re("span",{id:"Button_ControlPanel_auto",className:Ze.singleButton,onClick:w6,children:[M(U6,{className:Ze.button,theme:"outline",size:48,fill:"#f5f5f7",strokeWidth:2.5}),M("span",{className:Ze.button_text,children:"\u81EA\u52A8"})]}),Re("span",{id:"Button_ControlPanel_fast",className:Ze.singleButton,onClick:I6,children:[M(Rfe,{className:Ze.button,theme:"outline",size:48,fill:"#f5f5f7",strokeWidth:2.5}),M("span",{className:Ze.button_text,children:"\u5FEB\u8FDB"})]}),Re("span",{className:Ze.singleButton+" "+Ze.fastsave,onClick:()=>{RA(0)},children:[M(Pfe,{className:Ze.button,theme:"outline",size:48,fill:"#f5f5f7",strokeWidth:2.5}),M("span",{className:Ze.button_text,children:"\u5FEB\u901F\u5B58\u6863"}),M("div",{className:Ze.fastSlPreview+" "+Ze.fastSPreview,children:f})]}),Re("span",{className:Ze.singleButton+" "+Ze.fastload,onClick:()=>{P6(0)},children:[M(Ofe,{className:Ze.button,theme:"outline",size:48,fill:"#f5f5f7",strokeWidth:2.5}),M("span",{className:Ze.button_text,children:"\u5FEB\u901F\u8BFB\u6863"}),M("div",{className:Ze.fastSlPreview+" "+Ze.fastLPreview,children:f})]}),Re("span",{className:Ze.singleButton,onClick:()=>{u(Xt.Save),a("showMenuPanel",!0)},children:[M(D6,{className:Ze.button,theme:"outline",size:48,fill:"#f5f5f7",strokeWidth:2.5}),M("span",{className:Ze.button_text,children:"\u5B58\u6863"})]}),Re("span",{className:Ze.singleButton,onClick:()=>{u(Xt.Load),a("showMenuPanel",!0)},children:[M(F6,{className:Ze.button,theme:"outline",size:48,fill:"#f5f5f7",strokeWidth:2.5}),M("span",{className:Ze.button_text,children:"\u8BFB\u6863"})]}),Re("span",{className:Ze.singleButton,onClick:()=>{u(Xt.Option),a("showMenuPanel",!0)},children:[M(M6,{className:Ze.button,theme:"outline",size:48,fill:"#f5f5f7",strokeWidth:2.5}),M("span",{className:Ze.button_text,children:"\u9009\u9879"})]}),Re("span",{className:Ze.singleButton,onClick:()=>{$6()},children:[M(B6,{className:Ze.button,theme:"outline",size:48,fill:"#f5f5f7",strokeWidth:2.5}),M("span",{className:Ze.button_text,children:"\u6807\u9898"})]})]})})},Ehe=()=>{var h,d,v;const e=kt(_=>_.GUI),t=Pi(),n="0.8em",[r,i]=De.exports.useState(!1),[a,u]=De.exports.useState(!1);let l=De.exports.useRef();const f=De.exports.useMemo(()=>{let _=[];for(let g=0;g<Xn.length;g++){const x=Xn[g],b=Re("div",{className:kr.backlog_item,style:{animationDelay:`${20*(Xn.length-g)}ms`},children:[Re("div",{className:kr.backlog_func_area,children:[Re("div",{className:kr.backlog_item_button_list,children:[M("div",{onClick:y=>{zue(g),y.preventDefault(),y.stopPropagation()},className:kr.backlog_item_button_element,children:M(Gfe,{theme:"outline",size:n,fill:"#ffffff",strokeWidth:3})}),x.currentStageState.vocal?M("div",{onClick:()=>{const y=document.getElementById("backlog_audio_play_element_"+g);if(y){y.currentTime=0;const E=Ee.getState().userData,S=E.optionData.volumeMain;y.volume=S*.01*E.optionData.vocalVolume*.01,y.play()}},className:kr.backlog_item_button_element,children:M(Hfe,{theme:"outline",size:n,fill:"#ffffff",strokeWidth:3})}):null]}),M("div",{className:kr.backlog_item_content_name,children:x.currentStageState.showName})]}),M("div",{className:kr.backlog_item_content,children:M("span",{className:kr.backlog_item_content_text,children:x.currentStageState.showText})}),M("audio",{id:"backlog_audio_play_element_"+g,src:x.currentStageState.vocal})]},"backlogItem"+x.currentStageState.showText+x.saveScene.currentSentenceId);_.unshift(b)}return _},[(v=(d=(h=Xn[Xn.length-1])==null?void 0:h.saveScene)==null?void 0:d.currentSentenceId)!=null?v:0]);return De.exports.useEffect(()=>{e.showBacklog?(l.current&&clearTimeout(l.current),i(!1),u(!0),setTimeout(()=>{u(!1)},0)):l.current=setTimeout(()=>{i(!0),l.current=void 0},700+80)},[e.showBacklog]),M(Ji,{children:Re("div",{className:`
          ${e.showBacklog?kr.Backlog_main:kr.Backlog_main_out}
          ${r?kr.Backlog_main_out_IndexHide:""}
          `,children:[Re("div",{className:kr.backlog_top,children:[M(k6,{className:kr.backlog_top_icon,onClick:()=>{t(xn({component:"showBacklog",visibility:!1})),t(xn({component:"showTextBox",visibility:!0}))},theme:"outline",size:"4em",fill:"#ffffff",strokeWidth:3}),M("div",{className:kr.backlog_title,onClick:()=>{Me.info("Rua! Testing")},children:"\u56DE\u60F3"})]}),e.showBacklog&&M("div",{className:`${kr.backlog_content} ${a?kr.Backlog_main_DisableScroll:""}`,children:f})]})})},She="_extra_pvbbl_2",Che="_extra_top_pvbbl_14",Ihe="_extra_top_icon_pvbbl_20",Ahe="_extra_icon_softin_pvbbl_1",Phe="_extra_title_pvbbl_40",Rhe="_mainContainer_pvbbl_51",Ohe="_bgmContainer_pvbbl_59",Nhe="_bgmListContainer_pvbbl_76",Lhe="_bgmPlayerMain_pvbbl_91",khe="_bgmControlButton_pvbbl_95",Fhe="_bgmName_pvbbl_110",Bhe="_bgmElement_pvbbl_118",Uhe="_bgmElement_active_pvbbl_148",Dhe="_cgMain_pvbbl_153",Mhe="_cgContainer_pvbbl_158",Ghe="_cgElement_pvbbl_170",$he="_cgShowDiv_pvbbl_185",Hhe="_cgShowDivWarpper_pvbbl_194",Whe="_cgNav_pvbbl_203",jhe="_cgNav_active_pvbbl_222",zhe="_showFullContainer_pvbbl_233",Xhe="_showFullCgMain_pvbbl_246",Vhe="_fullCgIn_pvbbl_1",qhe="_bgmElement_In_pvbbl_1";var mn={extra:She,extra_top:Che,extra_top_icon:Ihe,extra_icon_softin:Ahe,extra_title:Phe,mainContainer:Rhe,bgmContainer:Ohe,bgmListContainer:Nhe,bgmPlayerMain:Lhe,bgmControlButton:khe,bgmName:Fhe,bgmElement:Bhe,bgmElement_active:Uhe,cgMain:Dhe,cgContainer:Mhe,cgElement:Ghe,cgShowDiv:$he,cgShowDivWarpper:Hhe,cgNav:Whe,cgNav_active:jhe,showFullContainer:zhe,showFullCgMain:Xhe,fullCgIn:Vhe,bgmElement_In:qhe};function Yhe(){const e=kt(_=>_.stage.bgm),t=kt(_=>_.userData.appreciationData),n=Tu(!1);let r="init_bgm_find_var_WebGAL_4.2.1",i=-1;const a=39,u=n.value?"80%":"10%",l=t.bgm.length;t.bgm.forEach((_,g)=>{_.url===e&&(r=_.name,i=g)});const f=Tu("");r!=="init_bgm_find_var_WebGAL_4.2.1"&&r!==f.value&&f.set(r);const h=Pi();function d(_){const g=t.bgm[_];f.set(g.name),h(Tn({key:"bgm",value:g.url}))}const v=t.bgm.map((_,g)=>{let x=mn.bgmElement;return _.name===f.value&&(x=x+" "+mn.bgmElement_active),M("div",{onClick:()=>{f.set(_.name),h(Tn({key:"bgm",value:_.url}))},className:x,style:{animationDelay:`${g*150}ms`},children:_.name},_.name)});return Re("div",{className:mn.bgmContainer,style:{maxHeight:u},children:[Re("div",{className:mn.bgmPlayerMain,children:[M("div",{onClick:()=>{i<=0?d(l-1):d(i-1)},className:mn.bgmControlButton,children:M(Lfe,{theme:"filled",size:a,fill:"#fff",strokeWidth:3,strokeLinejoin:"miter"})}),M("div",{onClick:()=>{document.getElementById("currentBgm").play().then()},className:mn.bgmControlButton,children:M(U6,{theme:"filled",size:a,fill:"#fff",strokeWidth:3,strokeLinejoin:"miter"})}),M("div",{onClick:()=>{i>=l-1?d(0):d(i+1)},className:mn.bgmControlButton,children:M(Nfe,{theme:"filled",size:a,fill:"#fff",strokeWidth:3,strokeLinejoin:"miter"})}),M("div",{onClick:()=>{document.getElementById("currentBgm").pause()},className:mn.bgmControlButton,children:M($fe,{theme:"filled",size:a,fill:"#fff",strokeWidth:3,strokeLinejoin:"miter"})}),M("div",{className:mn.bgmName,children:r}),M("div",{onClick:()=>{n.set(!n.value)},className:mn.bgmControlButton,style:{marginLeft:"auto"},children:M(Bfe,{theme:"filled",size:a,fill:"#fff",strokeWidth:3,strokeLinejoin:"miter"})})]}),n.value&&Re("div",{className:mn.bgmListContainer,children:[" ",v]})]})}function Khe(e){const t=Tu(!1);return Re(Ji,{children:[t.value&&M("div",{onClick:()=>t.set(!t.value),className:mn.showFullContainer,children:M("div",{className:mn.showFullCgMain,children:M("div",{style:{backgroundImage:`url('${e.imgUrl}')`,backgroundSize:"cover",backgroundPosition:"center",width:"100%",height:"100%"}})})}),M("div",{onClick:()=>t.set(!t.value),style:{animation:`cg_softIn_${e.transformDeg} 1.5s ease-out ${100+e.index*100}ms forwards `},className:mn.cgElement,children:M("div",{style:{backgroundImage:`url('${e.imgUrl}')`,backgroundSize:"cover",backgroundPosition:"center",width:"100%",height:"100%"}})},e.name)]})}function Zhe(){const t=kt(l=>l.userData.appreciationData),n=Math.ceil(t.cg.length/8),r=Tu(1),i=[],a=t.cg.length;for(let l=(r.value-1)*8;l<Math.min(a,(r.value-1)*8+8);l++){const f=l-(r.value-1)*8,h=Jhe(-5,5),d=M(Khe,{name:t.cg[l].name,imgUrl:t.cg[l].url,transformDeg:h,index:f},f.toString()+t.cg[l].url);i.push(d)}const u=[];for(let l=1;l<=n;l++){let f=mn.cgNav;r.value===l&&(f=f+" "+mn.cgNav_active);const h=M("div",{onClick:()=>r.set(l),className:f,children:l},"nav"+l);u.push(h)}return Re("div",{className:mn.cgMain,children:[M("div",{className:mn.cgShowDiv,children:M("div",{className:mn.cgShowDivWarpper,children:u})}),M("div",{className:mn.cgContainer,children:i})]})}function Jhe(e,t){return Math.round(Math.random()*(t-e))+e}function Qhe(){const e=kt(n=>n.GUI.showExtra),t=Pi();return M(Ji,{children:e&&Re("div",{className:mn.extra,children:[Re("div",{className:mn.extra_top,children:[M(k6,{className:mn.extra_top_icon,onClick:()=>{t(xn({component:"showExtra",visibility:!1}))},theme:"outline",size:"4em",fill:"#fff",strokeWidth:3}),M("div",{className:mn.extra_title,children:"\u9274\u8D4F\u6A21\u5F0F"})]}),Re("div",{className:mn.mainContainer,children:[M(Zhe,{}),M(Yhe,{})]})]})})}const ede="_tag_yghix_2",tde="_container_yghix_17",nde="_showContainer_yghix_1",rde="_singleButton_yghix_33",ide="_button_text_yghix_37";var gr={tag:ede,container:tde,showContainer:nde,singleButton:rde,button_text:ide};const ode=()=>{const e=Tu(!1),t=kt(a=>a.stage),n=Pi(),r=(a,u)=>{n(xn({component:a,visibility:u}))},i=a=>{n(gf(a))};return M(Ji,{children:t.enableFilm!==""&&Re(Ji,{children:[M("div",{className:gr.tag,onClick:()=>{e.set(!e.value)},children:M(kfe,{theme:"outline",size:"32",fill:"#fff"})}),e.value&&Re("div",{className:gr.container,children:[M("span",{className:gr.singleButton,onClick:()=>{r("showBacklog",!0),r("showTextBox",!1),e.set(!e.value)},children:M("span",{className:gr.button_text,children:"\u5267\u60C5\u56DE\u60F3 / BACKLOG"})}),M("span",{className:gr.singleButton,onClick:()=>{e.set(!e.value);let a=document.getElementById("currentVocal");a!==null&&(a.currentTime=0,a.pause(),a.play())},children:M("span",{className:gr.button_text,children:"\u91CD\u64AD\u8BED\u97F3 / REPLAY VOICE"})}),M("span",{id:"Button_ControlPanel_auto",className:gr.singleButton,onClick:()=>{w6(),e.set(!e.value)},children:M("span",{className:gr.button_text,children:"\u81EA\u52A8\u6A21\u5F0F / AUTO"})}),M("span",{id:"Button_ControlPanel_fast",className:gr.singleButton,onClick:()=>{I6(),e.set(!e.value)},children:M("span",{className:gr.button_text,children:"\u5FEB\u8FDB / FAST"})}),M("span",{className:gr.singleButton,onClick:()=>{e.set(!e.value),i(Xt.Save),r("showMenuPanel",!0)},children:M("span",{className:gr.button_text,children:"\u5B58\u6863 / SAVE"})}),M("span",{className:gr.singleButton,onClick:()=>{e.set(!e.value),i(Xt.Load),r("showMenuPanel",!0)},children:M("span",{className:gr.button_text,children:"\u8BFB\u6863 / LOAD"})}),M("span",{className:gr.singleButton,onClick:()=>{e.set(!e.value),i(Xt.Option),r("showMenuPanel",!0)},children:M("span",{className:gr.button_text,children:"\u9009\u9879 / OPTIONS"})}),M("span",{className:gr.singleButton,onClick:()=>{e.set(!e.value),$6()},children:M("span",{className:gr.button_text,children:"\u6807\u9898 / TITLE"})})]})]})})},ade="_devPanelMain_11x6i_1",sde="_devPanelOpener_11x6i_13";var yF={devPanelMain:ade,devPanelOpener:sde};function ude(){document.getElementById("pixiCanvas").toBlob(t=>{if(t){const n=document.createElement("a");document.body.append(n),n.download="screenshot",n.href=URL.createObjectURL(t),n.click(),n.remove()}},"image/png")}function lde(){function e(){return!!window.location.hash.match(/dev/)}const t=Tu(!1),n=Tu(window.location.hash),r=kt(u=>u.stage);De.exports.useEffect(()=>{window.onhashchange=()=>{n.set(window.location.hash)}},[]);const i=e(),a=Re(Ji,{children:[M("div",{onClick:()=>ude(),children:"Save PIXI Screenshot"}),M("div",{onClick:()=>{var u;return(u=Q.pixiStage)==null?void 0:u.removeAnimation("snow-Ticker")},children:"Remove Snow Ticker"}),M("div",{children:"Stage State"}),M("div",{children:JSON.stringify(r,null,"  ")})]});return Re(Ji,{children:[i&&t.value&&Re("div",{className:yF.devPanelMain,children:[Re("div",{style:{display:"flex",alignItems:"center"},children:[M("div",{onClick:()=>t.set(!1),style:{fontSize:"150%",padding:"0 0 0 15px",cursor:"pointer"},children:"\xD7"}),M("div",{style:{padding:"0 0 0 15px",fontSize:"115%"},children:"WebGAL DEV PANEL"})]}),M("div",{style:{padding:"10px 10px 10px 10px",overflow:"auto"},children:a})]}),!t.value&&i&&M("div",{onClick:()=>t.set(!0),className:yF.devPanelOpener,children:"Open Dev Panel"})]})}function fde(){return De.exports.useEffect(()=>{hfe()},[]),M("div",{className:"App",style:{height:"100%",width:"100%",background:"rgba(0, 0, 0, 1)"},children:Re(Eue,{store:Ee,children:[M(lde,{}),M(Qhe,{}),M(sfe,{}),M(lhe,{}),M(whe,{}),M(The,{}),M(ode,{}),M(Ehe,{}),M(Ace,{})]})})}Cf.render(M(Ie.StrictMode,{children:M(fde,{})}),document.getElementById("root"));
